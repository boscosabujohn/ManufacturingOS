/* ============= Accessibility Styles ============= */

/* Screen Reader Only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Show screen reader content on focus */
.sr-only:focus,
.sr-only:active {
  position: static;
  width: auto;
  height: auto;
  padding: initial;
  margin: initial;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* High Contrast Mode */
.accessibility-high-contrast {
  --tw-bg-white: #000000;
  --tw-bg-gray-50: #1a1a1a;
  --tw-bg-gray-100: #2d2d2d;
  --tw-bg-gray-200: #404040;
  --tw-bg-gray-300: #525252;
  --tw-text-gray-900: #ffffff;
  --tw-text-gray-800: #f5f5f5;
  --tw-text-gray-700: #e5e5e5;
  --tw-text-gray-600: #d4d4d4;
  --tw-text-gray-500: #a3a3a3;
  --tw-border-gray-200: #525252;
  --tw-border-gray-300: #737373;
}

.accessibility-high-contrast * {
  border-color: #ffffff !important;
}

.accessibility-high-contrast input,
.accessibility-high-contrast select,
.accessibility-high-contrast textarea {
  background-color: #000000 !important;
  color: #ffffff !important;
  border: 2px solid #ffffff !important;
}

.accessibility-high-contrast button {
  border: 2px solid #ffffff !important;
  background-color: #000000 !important;
  color: #ffffff !important;
}

.accessibility-high-contrast button:hover {
  background-color: #333333 !important;
}

.accessibility-high-contrast a {
  color: #00ff00 !important;
  text-decoration: underline !important;
}

.accessibility-high-contrast a:visited {
  color: #ff00ff !important;
}

/* Large Text Mode */
.accessibility-large-text {
  font-size: 120% !important;
}

.accessibility-large-text .text-xs {
  font-size: 0.9rem !important;
}

.accessibility-large-text .text-sm {
  font-size: 1rem !important;
}

.accessibility-large-text .text-base {
  font-size: 1.2rem !important;
}

.accessibility-large-text .text-lg {
  font-size: 1.4rem !important;
}

.accessibility-large-text .text-xl {
  font-size: 1.6rem !important;
}

.accessibility-large-text .text-2xl {
  font-size: 1.8rem !important;
}

/* Reduce Motion */
.accessibility-reduce-motion * {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

/* Focus Indicators */
*:focus {
  outline: 2px solid #2563eb !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.2) !important;
}

.accessibility-high-contrast *:focus {
  outline: 3px solid #ffff00 !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 4px rgba(255, 255, 0, 0.3) !important;
}

/* Keyboard Navigation Hints */
.keyboard-navigation-hint {
  position: absolute;
  top: -2px;
  right: -2px;
  background: #2563eb;
  color: white;
  font-size: 10px;
  padding: 2px 4px;
  border-radius: 2px;
  opacity: 0;
  transition: opacity 0.2s;
  pointer-events: none;
  z-index: 10;
}

*:focus .keyboard-navigation-hint {
  opacity: 1;
}

/* Skip Links */
.skip-nav a {
  transform: translateY(-100%);
  transition: transform 0.3s;
}

.skip-nav a:focus {
  transform: translateY(0%);
}

/* ARIA Live Regions */
[aria-live] {
  position: absolute;
  left: -10000px;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

/* Form Validation */
[aria-invalid="true"] {
  border-color: #dc2626 !important;
  box-shadow: 0 0 0 1px #dc2626 !important;
}

/* Required Field Indicators */
[aria-required="true"]::after {
  content: " *";
  color: #dc2626;
}

/* Status Indicators */
[role="status"] {
  padding: 8px 12px;
  border-radius: 4px;
  border-left: 4px solid;
}

[role="status"][aria-label*="error"],
[role="alert"] {
  background-color: #fef2f2;
  border-color: #dc2626;
  color: #991b1b;
}

[role="status"][aria-label*="success"] {
  background-color: #f0fdf4;
  border-color: #16a34a;
  color: #166534;
}

[role="status"][aria-label*="warning"] {
  background-color: #fffbeb;
  border-color: #d97706;
  color: #92400e;
}

[role="status"][aria-label*="info"] {
  background-color: #eff6ff;
  border-color: #2563eb;
  color: #1d4ed8;
}

/* Table Accessibility */
table[role="table"] th {
  position: relative;
}

table[role="table"] th[aria-sort]::after {
  content: "";
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  width: 0;
  height: 0;
}

table[role="table"] th[aria-sort="ascending"]::after {
  border-left: 4px solid transparent;
  border-right: 4px solid transparent;
  border-bottom: 4px solid currentColor;
}

table[role="table"] th[aria-sort="descending"]::after {
  border-left: 4px solid transparent;
  border-right: 4px solid transparent;
  border-top: 4px solid currentColor;
}

/* Modal and Dialog Accessibility */
[role="dialog"] {
  position: fixed;
  z-index: 1000;
}

[role="dialog"]:focus {
  outline: none;
}

/* Menu and Dropdown Accessibility */
[role="menu"],
[role="menubar"] {
  list-style: none;
  padding: 0;
  margin: 0;
}

[role="menuitem"] {
  display: block;
  padding: 8px 12px;
  cursor: pointer;
}

[role="menuitem"]:hover,
[role="menuitem"]:focus {
  background-color: #f3f4f6;
}

[role="menuitem"][aria-expanded="true"] {
  background-color: #e5e7eb;
}

/* Progress and Loading States */
[role="progressbar"] {
  background-color: #f3f4f6;
  border-radius: 4px;
  overflow: hidden;
}

[role="progressbar"] .progress-fill {
  height: 100%;
  background-color: #2563eb;
  transition: width 0.3s ease;
}

[aria-busy="true"] {
  cursor: wait;
  opacity: 0.7;
}

/* Tooltip Accessibility */
[role="tooltip"] {
  position: absolute;
  z-index: 1000;
  background: #1f2937;
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  max-width: 200px;
  word-wrap: break-word;
}

/* Button Groups */
[role="group"] {
  display: flex;
  gap: 2px;
}

[role="group"] button {
  border-radius: 0;
}

[role="group"] button:first-child {
  border-top-left-radius: 6px;
  border-bottom-left-radius: 6px;
}

[role="group"] button:last-child {
  border-top-right-radius: 6px;
  border-bottom-right-radius: 6px;
}

/* Mobile Accessibility */
@media (max-width: 768px) {
  .accessibility-large-text {
    font-size: 140% !important;
  }

  *:focus {
    outline-width: 3px !important;
    outline-offset: 3px !important;
  }

  button,
  [role="button"] {
    min-height: 44px !important;
    min-width: 44px !important;
  }
}

/* Print Accessibility */
@media print {
  .sr-only {
    position: static !important;
    width: auto !important;
    height: auto !important;
    clip: auto !important;
    overflow: visible !important;
  }

  *:focus {
    outline: none !important;
    box-shadow: none !important;
  }
}

/* Windows High Contrast Mode */
@media (prefers-contrast: high) {
  * {
    border-color: ButtonText !important;
  }

  button {
    border: 1px solid ButtonText !important;
    background: ButtonFace !important;
    color: ButtonText !important;
  }

  a {
    color: LinkText !important;
  }

  a:visited {
    color: VisitedText !important;
  }
}

/* Reduced Motion Preference */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Color Blindness Support */
.color-blind-friendly {
  --success-color: #0f766e;
  --warning-color: #ca8a04;
  --error-color: #dc2626;
  --info-color: #0369a1;
}