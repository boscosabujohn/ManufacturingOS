import { MigrationInterface, QueryRunner } from "typeorm";

export class InitialSchema1764231873370 implements MigrationInterface {
    name = 'InitialSchema1764231873370'

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`CREATE TABLE "workflow_definitions" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "name" character varying NOT NULL, "description" character varying, "type" character varying NOT NULL DEFAULT 'custom', "status" character varying NOT NULL DEFAULT 'draft', "version" integer NOT NULL DEFAULT '1', "triggers" jsonb, "steps" jsonb, "metadata" jsonb, "createdBy" character varying, "updatedBy" character varying, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_854f7b5e99b6cc20e74798a9102" UNIQUE ("name"), CONSTRAINT "PK_4f92fadfc5fb722f080ceaec272" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "workflow_history" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "instanceId" uuid, "stepId" character varying, "eventType" character varying NOT NULL, "severity" character varying NOT NULL DEFAULT 'info', "message" character varying NOT NULL, "details" character varying, "eventData" jsonb, "previousState" jsonb, "newState" jsonb, "sourceEvent" character varying, "sourceModule" character varying, "userId" character varying, "userName" character varying, "ipAddress" character varying, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_fea2a8522a65a196224b276dbd9" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_75a45d641fb6f4ff45fab47c64" ON "workflow_history" ("eventType", "createdAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_2cb11ea3c93bc6edabc5e5c411" ON "workflow_history" ("instanceId", "createdAt") `);
        await queryRunner.query(`CREATE TABLE "workflow_instances" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "instanceNumber" character varying NOT NULL, "definitionId" uuid, "status" character varying NOT NULL DEFAULT 'pending', "priority" character varying NOT NULL DEFAULT 'normal', "currentStepId" character varying, "currentStepName" character varying, "sourceType" character varying, "sourceId" character varying, "sourceNumber" character varying, "context" jsonb, "errorMessage" character varying, "errorDetails" jsonb, "startedAt" TIMESTAMP, "completedAt" TIMESTAMP, "dueDate" TIMESTAMP, "totalSteps" integer NOT NULL DEFAULT '0', "completedSteps" integer NOT NULL DEFAULT '0', "progressPercentage" numeric(5,2) NOT NULL DEFAULT '0', "createdBy" character varying, "updatedBy" character varying, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_90cc94e44ff8b7b7869f50e4fc4" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "workflow_steps" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "instanceId" uuid NOT NULL, "stepDefinitionId" character varying NOT NULL, "stepName" character varying NOT NULL, "description" character varying, "stepType" character varying NOT NULL DEFAULT 'action', "status" character varying NOT NULL DEFAULT 'pending', "order" integer NOT NULL DEFAULT '0', "jobId" character varying, "queueName" character varying, "input" jsonb, "output" jsonb, "errorMessage" character varying, "errorDetails" jsonb, "retryCount" integer NOT NULL DEFAULT '0', "maxRetries" integer NOT NULL DEFAULT '3', "startedAt" TIMESTAMP, "completedAt" TIMESTAMP, "durationMs" integer, "executedBy" character varying, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_b602e5ecb22943db11c96a7f31c" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "workflow_documents" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "projectId" character varying NOT NULL, "documentType" character varying NOT NULL, "version" character varying NOT NULL, "fileName" character varying NOT NULL, "fileUrl" character varying NOT NULL, "fileSize" bigint, "mimeType" character varying, "status" character varying NOT NULL DEFAULT 'draft', "uploadedBy" character varying, "reviewedBy" character varying, "approvedBy" character varying, "approvedAt" TIMESTAMP, "reviewComments" text, "metadata" jsonb, "uploadedAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_97bf9a2c889380e37bf61f6274e" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_2284e5219009512b903009b5eb" ON "workflow_documents" ("projectId") `);
        await queryRunner.query(`CREATE INDEX "IDX_0c7ddb2dbee9d54ae5bd909214" ON "workflow_documents" ("status") `);
        await queryRunner.query(`CREATE INDEX "IDX_557035d737bc341bb70962f04b" ON "workflow_documents" ("projectId", "documentType") `);
        await queryRunner.query(`CREATE TABLE "approval_steps" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "approvalId" uuid NOT NULL, "stepNumber" integer NOT NULL, "approverId" character varying NOT NULL, "approverRole" character varying, "status" character varying NOT NULL DEFAULT 'pending', "decidedAt" TIMESTAMP, "comments" text, "signatureData" text, "metadata" jsonb, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_31089858f2c75f4648107ae5280" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_aee264061d88bd1a0e7acba07b" ON "approval_steps" ("approvalId") `);
        await queryRunner.query(`CREATE INDEX "IDX_18bec821e6a6dbc389aca6be8f" ON "approval_steps" ("approvalId", "stepNumber") `);
        await queryRunner.query(`CREATE TABLE "workflow_approvals" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "projectId" character varying NOT NULL, "approvalType" character varying NOT NULL, "referenceId" character varying, "workflowType" character varying NOT NULL DEFAULT 'sequential', "currentStep" integer NOT NULL DEFAULT '1', "status" character varying NOT NULL DEFAULT 'pending', "createdBy" character varying, "completedAt" TIMESTAMP, "description" text, "metadata" jsonb, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_36949dc46e63a84b77b624651ef" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_4464605dbbd781037cf92d633c" ON "workflow_approvals" ("projectId") `);
        await queryRunner.query(`CREATE INDEX "IDX_11854d93f8d76ed1f145acbaad" ON "workflow_approvals" ("status") `);
        await queryRunner.query(`CREATE INDEX "IDX_d0c4483784cb4432e9eb5422bd" ON "workflow_approvals" ("approvalType") `);
        await queryRunner.query(`CREATE INDEX "IDX_1473f4a26cf86720ea7004d19a" ON "workflow_approvals" ("projectId", "status") `);
        await queryRunner.query(`CREATE TABLE "quality_gate_items" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "qualityGateId" uuid NOT NULL, "itemDescription" text NOT NULL, "passed" boolean, "comments" text, "photos" text, "metadata" jsonb, CONSTRAINT "PK_43916b45b7cfe595f204074e009" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "defects" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "qualityGateId" uuid, "projectId" character varying NOT NULL, "severity" character varying NOT NULL, "description" text NOT NULL, "location" character varying, "assignedTo" character varying, "status" character varying NOT NULL DEFAULT 'open', "photos" text, "resolutionNotes" text, "resolvedAt" TIMESTAMP, "resolvedBy" character varying, "metadata" jsonb, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_b4bca3e4d032e3b50d1889ad296" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_c1edd33a7e3e9efd135cb96b01" ON "defects" ("projectId") `);
        await queryRunner.query(`CREATE INDEX "IDX_8e09ce27c76aa35daa0e43e71d" ON "defects" ("status") `);
        await queryRunner.query(`CREATE INDEX "IDX_21125c1387edfbd4a0129a5ffd" ON "defects" ("severity") `);
        await queryRunner.query(`CREATE INDEX "IDX_3b9dd88f9ff310d44c0609a561" ON "defects" ("projectId", "status") `);
        await queryRunner.query(`CREATE TABLE "quality_gates" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "projectId" character varying NOT NULL, "phase" integer NOT NULL, "gateType" character varying NOT NULL, "checklistTemplateId" character varying, "inspectorId" character varying, "status" character varying NOT NULL DEFAULT 'pending', "inspectionDate" TIMESTAMP, "passed" boolean, "comments" text, "metadata" jsonb, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_b74904cfefb353de2a94552e49e" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_1d79ecc884ac8ee1f1b28325a7" ON "quality_gates" ("projectId") `);
        await queryRunner.query(`CREATE INDEX "IDX_7d23a8c50535d1d1ba1bd5e13d" ON "quality_gates" ("status") `);

        await queryRunner.query(`CREATE INDEX "IDX_7041332405778f60633efce08f" ON "quality_gates" ("projectId", "phase") `);
        await queryRunner.query(`CREATE TABLE "project_phases" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "projectId" character varying NOT NULL, "currentPhase" integer NOT NULL DEFAULT '1', "currentStep" character varying, "status" character varying NOT NULL DEFAULT 'active', "blockingReasons" jsonb, "metadata" jsonb, "targetCompletionDate" date, "actualCompletionDate" date, "createdBy" character varying, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_751991724b3ba4af6b5f1ecbea0" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_1da78973f46af73b10f566f772" ON "project_phases" ("projectId") `);

        await queryRunner.query(`CREATE TABLE "phase_transitions" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "projectId" character varying NOT NULL, "fromPhase" integer, "toPhase" integer NOT NULL, "fromStep" character varying, "toStep" character varying, "transitionType" character varying NOT NULL, "triggeredBy" character varying, "conditionsMet" jsonb, "metadata" jsonb, "triggeredAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_ea45488a4139d5467416bcfe1d7" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_a5a21e7f394da3e2ee56260a23" ON "phase_transitions" ("projectId") `);
        await queryRunner.query(`CREATE INDEX "IDX_8086d244338ede3c4d7c6454ab" ON "phase_transitions" ("triggeredAt") `);

        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."order_tracking_status_enum" AS ENUM('order_placed', 'order_confirmed', 'production_planning', 'material_procurement', 'in_production', 'quality_check', 'ready_for_dispatch', 'dispatched', 'in_transit', 'delivered', 'completed', 'cancelled', 'on_hold')`);
        await queryRunner.query(`CREATE TABLE "order_tracking" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "order_id" character varying NOT NULL, "order_number" character varying NOT NULL, "customer_id" character varying NOT NULL, "customer_name" character varying NOT NULL, "status" "kreupai_fbpa_dev"."order_tracking_status_enum" NOT NULL DEFAULT 'order_placed', "total_amount" numeric(15,2) NOT NULL, "item_count" integer NOT NULL, "expected_delivery_date" TIMESTAMP, "actual_delivery_date" TIMESTAMP, "completed_date" TIMESTAMP, "events" jsonb NOT NULL DEFAULT '[]', "work_orders" jsonb NOT NULL DEFAULT '[]', "shipments" jsonb NOT NULL DEFAULT '[]', "invoices" jsonb NOT NULL DEFAULT '[]', "payments" jsonb NOT NULL DEFAULT '[]', "metadata" jsonb, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_c1e2051fba9bdbb70641cd90ea4" UNIQUE ("order_id"), CONSTRAINT "UQ_8fa8bdf8fe6f238561dc1041471" UNIQUE ("order_number"), CONSTRAINT "PK_9a32ecbe7d925bd403cae3e76e6" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_b685d112244ff54c4e298346a1" ON "order_tracking" ("status") `);
        await queryRunner.query(`CREATE INDEX "IDX_5425fae2e9308580128931952f" ON "order_tracking" ("customer_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_8fa8bdf8fe6f238561dc104147" ON "order_tracking" ("order_number") `);
        await queryRunner.query(`CREATE INDEX "IDX_c1e2051fba9bdbb70641cd90ea" ON "order_tracking" ("order_id") `);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."quality_alerts_alerttype_enum" AS ENUM('Quality Issue', 'Specification Deviation', 'NCR Threshold', 'Defect Rate', 'SPC Violation', 'Inspection Overdue', 'CAPA Overdue', 'Supplier Quality', 'Customer Complaint', 'Audit Finding', 'Critical Defect', 'Trend Alert', 'Process Out of Control', 'Other')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."quality_alerts_severity_enum" AS ENUM('Low', 'Medium', 'High', 'Critical')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."quality_alerts_status_enum" AS ENUM('New', 'Acknowledged', 'Investigating', 'Action Required', 'In Progress', 'Resolved', 'Closed', 'Dismissed')`);
        await queryRunner.query(`CREATE TABLE "quality_alerts" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "alertNumber" character varying(50) NOT NULL, "title" character varying(255) NOT NULL, "description" text NOT NULL, "alertType" "kreupai_fbpa_dev"."quality_alerts_alerttype_enum" NOT NULL DEFAULT 'Quality Issue', "severity" "kreupai_fbpa_dev"."quality_alerts_severity_enum" NOT NULL DEFAULT 'Medium', "status" "kreupai_fbpa_dev"."quality_alerts_status_enum" NOT NULL DEFAULT 'New', "sourceType" character varying(255), "sourceId" character varying, "sourceReference" character varying(100), "inspectionId" character varying, "inspectionNumber" character varying(100), "ncrId" character varying, "ncrNumber" character varying(100), "capaId" character varying, "capaNumber" character varying(100), "itemId" character varying, "itemCode" character varying(100), "itemName" character varying(255), "batchNumber" character varying(100), "lotNumber" character varying(100), "departmentId" character varying, "departmentName" character varying(255), "workCenterId" character varying, "workCenterCode" character varying(100), "warehouseId" character varying, "warehouseName" character varying(100), "location" character varying(255), "triggerCondition" text, "thresholdValue" numeric(15,4), "actualValue" numeric(15,4), "deviationPercentage" numeric(5,2), "impactAssessment" text, "recommendedActions" text, "alertDate" date NOT NULL, "alertTime" TIMESTAMP NOT NULL, "dueDate" date, "generatedById" character varying, "generatedByName" character varying(255), "isAutoGenerated" boolean NOT NULL DEFAULT true, "assignedToId" character varying, "assignedToName" character varying(255), "assignedDate" date, "notificationEmails" json, "notifiedUsers" json, "firstNotificationSent" TIMESTAMP, "lastNotificationSent" TIMESTAMP, "notificationCount" integer NOT NULL DEFAULT '0', "requiresEscalation" boolean NOT NULL DEFAULT false, "isEscalated" boolean NOT NULL DEFAULT false, "escalatedAt" TIMESTAMP, "escalatedTo" character varying(255), "acknowledgedBy" character varying(255), "acknowledgedAt" TIMESTAMP, "investigationNotes" text, "resolution" text, "actionsTaken" text, "resolvedBy" character varying(255), "resolvedAt" TIMESTAMP, "ncrGenerated" boolean NOT NULL DEFAULT false, "generatedNcrId" character varying, "generatedNcrNumber" character varying(100), "capaGenerated" boolean NOT NULL DEFAULT false, "generatedCapaId" character varying, "generatedCapaNumber" character varying(100), "inspectionTriggered" boolean NOT NULL DEFAULT false, "triggeredInspectionId" character varying, "triggeredInspectionNumber" character varying(100), "responseTimeMinutes" integer, "resolutionTimeHours" integer, "isOverdue" boolean NOT NULL DEFAULT false, "closedBy" character varying(100), "closedAt" TIMESTAMP, "dismissedBy" character varying(100), "dismissedAt" TIMESTAMP, "dismissalReason" text, "attachments" json, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_3fa5a8035aa54c806e00bf0467b" UNIQUE ("alertNumber"), CONSTRAINT "PK_897aa9ae64eb39eaab9ba251541" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."qc_parameters_parametertype_enum" AS ENUM('Dimensional', 'Visual', 'Functional', 'Chemical', 'Mechanical', 'Electrical', 'Attribute', 'Variable')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."qc_parameters_datatype_enum" AS ENUM('Numeric', 'Text', 'Boolean', 'Pass/Fail', 'OK/Not OK', 'Accept/Reject', 'Select', 'Multi-Select')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."qc_parameters_criticality_enum" AS ENUM('Critical', 'Major', 'Minor')`);
        await queryRunner.query(`CREATE TABLE "qc_parameters" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "qcTemplateId" uuid NOT NULL, "parameterCode" character varying(100) NOT NULL, "parameterName" character varying(255) NOT NULL, "description" text, "parameterType" "kreupai_fbpa_dev"."qc_parameters_parametertype_enum" NOT NULL, "dataType" "kreupai_fbpa_dev"."qc_parameters_datatype_enum" NOT NULL, "criticality" "kreupai_fbpa_dev"."qc_parameters_criticality_enum" NOT NULL DEFAULT 'Major', "sequence" integer NOT NULL, "isMandatory" boolean NOT NULL DEFAULT true, "requiresCalibration" boolean NOT NULL DEFAULT false, "uom" character varying(50), "nominalValue" numeric(15,4), "lowerSpecLimit" numeric(15,4), "upperSpecLimit" numeric(15,4), "lowerControlLimit" numeric(15,4), "upperControlLimit" numeric(15,4), "tolerance" numeric(15,4), "targetValue" numeric(15,4), "minValue" numeric(15,4), "maxValue" numeric(15,4), "allowedValues" json, "defaultValue" character varying(255), "validationRules" json, "measuringInstrument" character varying(255), "instrumentId" character varying(100), "lastCalibrationDate" date, "nextCalibrationDate" date, "testMethod" character varying(255), "testProcedure" text, "referenceStandard" character varying(255), "enableSPC" boolean NOT NULL DEFAULT false, "spcSampleSize" integer, "cpkTarget" numeric(5,2), "autoRejectOnFailure" boolean NOT NULL DEFAULT false, "requiresRework" boolean NOT NULL DEFAULT false, "requiresNCR" boolean NOT NULL DEFAULT false, "inspectionInstructions" text, "attachments" json, "notes" text, "isActive" boolean NOT NULL DEFAULT true, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_ca6cf0523946f2b080a554deb0d" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."qc_templates_templatetype_enum" AS ENUM('Incoming', 'In-Process', 'Final', 'Supplier', 'Periodic', 'Custom')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."qc_templates_status_enum" AS ENUM('Draft', 'Active', 'Inactive', 'Obsolete')`);
        await queryRunner.query(`CREATE TABLE "qc_templates" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "templateCode" character varying(50) NOT NULL, "templateName" character varying(255) NOT NULL, "description" text, "templateType" "kreupai_fbpa_dev"."qc_templates_templatetype_enum" NOT NULL DEFAULT 'Incoming', "status" "kreupai_fbpa_dev"."qc_templates_status_enum" NOT NULL DEFAULT 'Draft', "version" integer NOT NULL DEFAULT '1', "itemId" character varying, "itemCode" character varying(100), "itemName" character varying(255), "itemCategory" character varying, "supplierId" character varying, "supplierName" character varying(255), "processId" character varying, "processCode" character varying(100), "processName" character varying(255), "sampleSize" integer NOT NULL DEFAULT '100', "acceptableQualityLevel" numeric(5,2) NOT NULL DEFAULT '2.5', "inspectionLevel" character varying(50) NOT NULL DEFAULT 'Normal', "samplingPlan" character varying(50) NOT NULL DEFAULT 'Single', "requirePhotos" boolean NOT NULL DEFAULT true, "requireSignature" boolean NOT NULL DEFAULT false, "inspectionFrequency" character varying(50), "frequencyValue" integer, "acceptanceThreshold" numeric(5,2), "rejectionThreshold" numeric(5,2), "autoReject" boolean NOT NULL DEFAULT false, "autoCreateNCR" boolean NOT NULL DEFAULT false, "autoNotify" boolean NOT NULL DEFAULT false, "notificationEmails" json, "referenceStandard" character varying(255), "referenceDocument" character varying(100), "inspectionInstructions" text, "checklistItems" json, "attachments" json, "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "effectiveDate" date, "expiryDate" date, "lastReviewDate" date, "nextReviewDate" date, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_fb19f056cffdf6b6a0fc7896273" UNIQUE ("templateCode"), CONSTRAINT "PK_960208bf43b4243f5ba7ac2b79d" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."inspection_results_status_enum" AS ENUM('Pass', 'Fail', 'Warning', 'Not Applicable', 'Pending')`);
        await queryRunner.query(`CREATE TABLE "inspection_results" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "inspectionId" uuid NOT NULL, "qcParameterId" character varying, "parameterCode" character varying(100), "parameterName" character varying(255) NOT NULL, "parameterType" character varying(100), "sequence" integer NOT NULL, "measuredValue" text, "numericValue" numeric(15,4), "uom" character varying(50), "lowerSpecLimit" numeric(15,4), "upperSpecLimit" numeric(15,4), "nominalValue" numeric(15,4), "targetValue" numeric(15,4), "tolerance" numeric(15,4), "status" "kreupai_fbpa_dev"."inspection_results_status_enum" NOT NULL DEFAULT 'Pending', "isWithinSpec" boolean NOT NULL DEFAULT false, "isOutOfControl" boolean NOT NULL DEFAULT false, "deviation" numeric(15,4), "deviationPercentage" numeric(5,2), "hasDefect" boolean NOT NULL DEFAULT false, "defectSeverity" character varying(50), "defectType" character varying(255), "defectDescription" text, "defectCount" integer, "defectLocation" character varying(255), "measuringInstrument" character varying(255), "instrumentId" character varying(100), "testMethod" character varying(255), "measurementTime" TIMESTAMP, "measuredBy" character varying(255), "temperature" numeric(5,2), "humidity" numeric(5,2), "pressure" numeric(7,2), "measurements" json, "averageValue" numeric(15,4), "standardDeviation" numeric(15,4), "range" numeric(15,4), "cpk" numeric(5,2), "cp" numeric(5,2), "requiresRework" boolean NOT NULL DEFAULT false, "requiresNCR" boolean NOT NULL DEFAULT false, "requiresCAPA" boolean NOT NULL DEFAULT false, "correctionAction" character varying(255), "photos" json, "remarks" text, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_ae1c1bbb53694824486372c7ead" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."inspections_inspectiontype_enum" AS ENUM('Incoming', 'In-Process', 'Final', 'Supplier', 'Periodic', 'First Article', 'Random', 'Audit')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."inspections_status_enum" AS ENUM('Draft', 'Scheduled', 'In Progress', 'On Hold', 'Completed', 'Approved', 'Rejected', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."inspections_result_enum" AS ENUM('Passed', 'Failed', 'Conditionally Accepted', 'Pending', 'Not Applicable')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."inspections_priority_enum" AS ENUM('Low', 'Normal', 'High', 'Urgent', 'Critical')`);
        await queryRunner.query(`CREATE TABLE "inspections" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "inspectionNumber" character varying(50) NOT NULL, "inspectionName" character varying(255) NOT NULL, "description" text, "inspectionType" "kreupai_fbpa_dev"."inspections_inspectiontype_enum" NOT NULL DEFAULT 'Incoming', "status" "kreupai_fbpa_dev"."inspections_status_enum" NOT NULL DEFAULT 'Draft', "result" "kreupai_fbpa_dev"."inspections_result_enum" NOT NULL DEFAULT 'Pending', "priority" "kreupai_fbpa_dev"."inspections_priority_enum" NOT NULL DEFAULT 'Normal', "qcTemplateId" character varying, "qcTemplateCode" character varying(100), "qcTemplateName" character varying(255), "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "uom" character varying(50) NOT NULL DEFAULT 'PCS', "itemCategory" character varying(100), "batchNumber" character varying(100), "lotNumber" character varying(100), "serialNumbers" json, "lotQuantity" numeric(15,4) NOT NULL, "sampleSize" numeric(15,4) NOT NULL, "acceptedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "rejectedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "reworkQuantity" numeric(15,4) NOT NULL DEFAULT '0', "scrapQuantity" numeric(15,4) NOT NULL DEFAULT '0', "workOrderId" character varying, "workOrderNumber" character varying(100), "purchaseOrderId" character varying, "purchaseOrderNumber" character varying(100), "grnId" character varying, "grnNumber" character varying(100), "productionEntryId" character varying, "productionEntryNumber" character varying(100), "salesOrderId" character varying, "salesOrderNumber" character varying(100), "supplierId" character varying, "supplierName" character varying(255), "supplierInvoiceNumber" character varying(100), "supplierInvoiceDate" date, "customerId" character varying, "customerName" character varying(255), "customerPO" character varying(100), "warehouseId" character varying, "warehouseName" character varying(100), "workCenterId" character varying, "workCenterCode" character varying(100), "workCenterName" character varying(255), "inspectionLocation" character varying(255), "scheduledDate" date NOT NULL, "scheduledTime" TIMESTAMP, "dueDate" date, "actualStartTime" TIMESTAMP, "actualEndTime" TIMESTAMP, "durationMinutes" integer, "assignedToId" character varying, "assignedToName" character varying(255), "inspectedById" character varying, "inspectedByName" character varying(255), "defectRate" numeric(5,2) NOT NULL DEFAULT '0', "rejectionRate" numeric(5,2) NOT NULL DEFAULT '0', "totalDefects" integer NOT NULL DEFAULT '0', "criticalDefects" integer NOT NULL DEFAULT '0', "majorDefects" integer NOT NULL DEFAULT '0', "minorDefects" integer NOT NULL DEFAULT '0', "parametersChecked" integer NOT NULL DEFAULT '0', "parametersPassed" integer NOT NULL DEFAULT '0', "parametersFailed" integer NOT NULL DEFAULT '0', "disposition" character varying(50), "dispositionReason" text, "dispositionComments" text, "ncrGenerated" boolean NOT NULL DEFAULT false, "ncrId" character varying, "ncrNumber" character varying(100), "capaGenerated" boolean NOT NULL DEFAULT false, "capaId" character varying, "capaNumber" character varying(100), "supplierNotified" boolean NOT NULL DEFAULT false, "supplierNotifiedAt" TIMESTAMP, "photos" json, "attachments" json, "inspectorSignature" text, "inspectorSignedAt" TIMESTAMP, "approverSignature" text, "approverSignedAt" TIMESTAMP, "startedBy" character varying(100), "startedAt" TIMESTAMP, "completedBy" character varying(100), "completedAt" TIMESTAMP, "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "rejectedBy" character varying(100), "rejectedAt" TIMESTAMP, "rejectionReason" text, "cancelledBy" character varying(100), "cancelledAt" TIMESTAMP, "cancellationReason" text, "observations" text, "recommendations" text, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_25ae5c5fa1a1b9b22cddd0cef95" UNIQUE ("inspectionNumber"), CONSTRAINT "PK_a484980015782324454d8c88abe" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."non_conformances_ncrtype_enum" AS ENUM('Product', 'Process', 'Material', 'Supplier', 'Customer Complaint', 'Audit Finding', 'System', 'Documentation', 'Other')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."non_conformances_status_enum" AS ENUM('Draft', 'Submitted', 'Under Investigation', 'Investigation Complete', 'CAPA Required', 'CAPA In Progress', 'Pending Verification', 'Verified', 'Closed', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."non_conformances_severity_enum" AS ENUM('Critical', 'Major', 'Minor')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."non_conformances_priority_enum" AS ENUM('Low', 'Medium', 'High', 'Urgent', 'Critical')`);
        await queryRunner.query(`CREATE TABLE "non_conformances" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "ncrNumber" character varying(50) NOT NULL, "title" character varying(255) NOT NULL, "description" text NOT NULL, "ncrType" "kreupai_fbpa_dev"."non_conformances_ncrtype_enum" NOT NULL DEFAULT 'Product', "status" "kreupai_fbpa_dev"."non_conformances_status_enum" NOT NULL DEFAULT 'Draft', "severity" "kreupai_fbpa_dev"."non_conformances_severity_enum" NOT NULL DEFAULT 'Major', "priority" "kreupai_fbpa_dev"."non_conformances_priority_enum" NOT NULL DEFAULT 'Medium', "inspectionId" character varying, "inspectionNumber" character varying(100), "auditId" character varying, "auditNumber" character varying(100), "workOrderId" character varying, "workOrderNumber" character varying(100), "purchaseOrderId" character varying, "purchaseOrderNumber" character varying(100), "salesOrderId" character varying, "salesOrderNumber" character varying(100), "itemId" character varying, "itemCode" character varying(100), "itemName" character varying(255), "batchNumber" character varying(100), "lotNumber" character varying(100), "serialNumbers" json, "affectedQuantity" numeric(15,4), "uom" character varying(50), "quarantinedQuantity" numeric(15,4), "scrapQuantity" numeric(15,4), "reworkQuantity" numeric(15,4), "supplierId" character varying, "supplierName" character varying(255), "customerId" character varying, "customerName" character varying(255), "reportedById" character varying, "reportedByName" character varying(255), "reportedDate" date NOT NULL, "detectedDate" date, "occurrenceDate" date, "departmentId" character varying, "departmentName" character varying(255), "workCenterId" character varying, "workCenterCode" character varying(100), "location" character varying(255), "defectDescription" text, "defectCategory" character varying(255), "defectType" character varying(255), "defectCount" integer, "immediateAction" text, "immediateActionDate" date, "immediateActionBy" character varying(255), "rootCauseAnalysis" text, "rootCauseMethod" character varying(255), "identifiedRootCauses" text, "rootCauseCategories" json, "investigationCompletedDate" date, "investigatedBy" character varying(255), "containmentAction" text, "containmentActionDate" date, "containmentActionBy" character varying(255), "isContained" boolean NOT NULL DEFAULT false, "disposition" character varying(50), "dispositionReason" text, "dispositionComments" text, "dispositionApprovedBy" character varying(255), "dispositionApprovedDate" date, "estimatedCost" numeric(15,2) NOT NULL DEFAULT '0', "actualCost" numeric(15,2) NOT NULL DEFAULT '0', "reworkCost" numeric(15,2) NOT NULL DEFAULT '0', "scrapCost" numeric(15,2) NOT NULL DEFAULT '0', "downtimeCost" numeric(15,2) NOT NULL DEFAULT '0', "requiresCAP√Å" boolean NOT NULL DEFAULT false, "capaId" character varying, "capaNumber" character varying(100), "correctiveActionId" character varying, "correctiveActionNumber" character varying(100), "preventiveActionId" character varying, "preventiveActionNumber" character varying(100), "verificationMethod" text, "verificationResults" text, "verificationDate" date, "verifiedBy" character varying(255), "isVerified" boolean NOT NULL DEFAULT false, "effectivenessCheck" text, "effectivenessCheckDate" date, "effectivenessCheckedBy" character varying(255), "isEffective" boolean NOT NULL DEFAULT false, "customerNotificationRequired" boolean NOT NULL DEFAULT false, "customerNotified" boolean NOT NULL DEFAULT false, "customerNotifiedAt" TIMESTAMP, "customerNotifiedBy" character varying(255), "photos" json, "attachments" json, "submittedBy" character varying(100), "submittedAt" TIMESTAMP, "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "closedBy" character varying(100), "closedAt" TIMESTAMP, "cancelledBy" character varying(100), "cancelledAt" TIMESTAMP, "cancellationReason" text, "targetCloseDate" date, "investigationDueDate" date, "capaDueDate" date, "verificationDueDate" date, "lessonsLearned" text, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_f32c6786e8a217b77e352b10b6b" UNIQUE ("ncrNumber"), CONSTRAINT "PK_3dc16bc98bc1afb6ccb8ce89f4b" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."preventive_actions_status_enum" AS ENUM('Draft', 'Submitted', 'Approved', 'In Progress', 'Implemented', 'Pending Verification', 'Verified', 'Closed', 'Rejected', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."preventive_actions_priority_enum" AS ENUM('Low', 'Medium', 'High', 'Urgent', 'Critical')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."preventive_actions_actiontype_enum" AS ENUM('Process Improvement', 'Risk Mitigation', 'Preventive Maintenance', 'Training', 'Documentation', 'System Upgrade', 'Procedure Update', 'Other')`);
        await queryRunner.query(`CREATE TABLE "preventive_actions" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "paNumber" character varying(50) NOT NULL, "title" character varying(255) NOT NULL, "description" text NOT NULL, "status" "kreupai_fbpa_dev"."preventive_actions_status_enum" NOT NULL DEFAULT 'Draft', "priority" "kreupai_fbpa_dev"."preventive_actions_priority_enum" NOT NULL DEFAULT 'Medium', "actionType" "kreupai_fbpa_dev"."preventive_actions_actiontype_enum" NOT NULL DEFAULT 'Process Improvement', "capaId" character varying, "capaNumber" character varying(100), "auditId" character varying, "auditNumber" character varying(100), "ncrId" character varying, "ncrNumber" character varying(100), "sourceType" character varying(255), "sourceId" character varying, "sourceReference" character varying(100), "riskOpportunity" text NOT NULL, "potentialConsequences" text, "riskLevel" character varying(50), "riskScore" integer, "actionPlan" text NOT NULL, "actionDetails" text, "expectedBenefits" text, "actionSteps" json, "assignedToId" character varying, "assignedToName" character varying(255), "departmentId" character varying, "departmentName" character varying(255), "assignedDate" date, "targetDate" date NOT NULL, "actualStartDate" date, "actualCompletionDate" date, "implementationDate" date, "verificationDate" date, "implementationDetails" text, "implementedBy" character varying(255), "implementedAt" TIMESTAMP, "isImplemented" boolean NOT NULL DEFAULT false, "verificationMethod" text, "verificationCriteria" text, "verificationResults" text, "verifiedBy" character varying(255), "verifiedAt" TIMESTAMP, "isVerified" boolean NOT NULL DEFAULT false, "isEffective" boolean NOT NULL DEFAULT false, "effectivenessEvaluation" text, "effectivenessEvaluationDate" date, "effectivenessEvaluatedBy" character varying(255), "effectivenessScore" integer, "residualRiskLevel" character varying(50), "residualRiskScore" integer, "estimatedCost" numeric(15,2) NOT NULL DEFAULT '0', "actualCost" numeric(15,2) NOT NULL DEFAULT '0', "estimatedHours" integer, "actualHours" integer, "resourcesRequired" text, "estimatedSavings" numeric(15,2) NOT NULL DEFAULT '0', "actualSavings" numeric(15,2) NOT NULL DEFAULT '0', "roi" text, "impactAssessment" text, "affectedAreas" json, "requiresTraining" boolean NOT NULL DEFAULT false, "trainingDetails" text, "requiresDocumentUpdate" boolean NOT NULL DEFAULT false, "documentUpdateDetails" text, "monitoringPlan" text, "nextReviewDate" date, "reviewFrequency" character varying(50), "attachments" json, "submittedBy" character varying(100), "submittedAt" TIMESTAMP, "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "rejectedBy" character varying(100), "rejectedAt" TIMESTAMP, "rejectionReason" text, "closedBy" character varying(100), "closedAt" TIMESTAMP, "cancelledBy" character varying(100), "cancelledAt" TIMESTAMP, "cancellationReason" text, "progressPercentage" numeric(5,2) NOT NULL DEFAULT '0', "isOverdue" boolean NOT NULL DEFAULT false, "daysOverdue" integer, "lessonsLearned" text, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_fa4f8d590570986721fb72f0184" UNIQUE ("paNumber"), CONSTRAINT "PK_b9b8d49da1022f47aa2dac16e34" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."corrective_actions_status_enum" AS ENUM('Draft', 'Submitted', 'Approved', 'In Progress', 'Implemented', 'Pending Verification', 'Verified', 'Closed', 'Rejected', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."corrective_actions_priority_enum" AS ENUM('Low', 'Medium', 'High', 'Urgent', 'Critical')`);
        await queryRunner.query(`CREATE TABLE "corrective_actions" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "caNumber" character varying(50) NOT NULL, "title" character varying(255) NOT NULL, "description" text NOT NULL, "status" "kreupai_fbpa_dev"."corrective_actions_status_enum" NOT NULL DEFAULT 'Draft', "priority" "kreupai_fbpa_dev"."corrective_actions_priority_enum" NOT NULL DEFAULT 'Medium', "ncrId" character varying, "ncrNumber" character varying(100), "capaId" character varying, "capaNumber" character varying(100), "auditId" character varying, "auditNumber" character varying(100), "sourceType" character varying(255), "sourceId" character varying, "sourceReference" character varying(100), "problemStatement" text NOT NULL, "problemDetails" text, "problemDetectedDate" date, "problemOccurrenceDate" date, "rootCause" text NOT NULL, "rootCauseMethod" character varying(255), "rootCauseCategories" json, "actionPlan" text NOT NULL, "actionDetails" text, "actionSteps" json, "assignedToId" character varying, "assignedToName" character varying(255), "departmentId" character varying, "departmentName" character varying(255), "assignedDate" date, "targetDate" date NOT NULL, "actualStartDate" date, "actualCompletionDate" date, "implementationDate" date, "verificationDate" date, "implementationDetails" text, "implementedBy" character varying(255), "implementedAt" TIMESTAMP, "isImplemented" boolean NOT NULL DEFAULT false, "verificationMethod" text, "verificationCriteria" text, "verificationResults" text, "verifiedBy" character varying(255), "verifiedAt" TIMESTAMP, "isVerified" boolean NOT NULL DEFAULT false, "isEffective" boolean NOT NULL DEFAULT false, "effectivenessEvaluation" text, "effectivenessEvaluationDate" date, "effectivenessEvaluatedBy" character varying(255), "effectivenessScore" integer, "estimatedCost" numeric(15,2) NOT NULL DEFAULT '0', "actualCost" numeric(15,2) NOT NULL DEFAULT '0', "estimatedHours" integer, "actualHours" integer, "resourcesRequired" text, "impactAssessment" text, "affectedAreas" json, "requiresTraining" boolean NOT NULL DEFAULT false, "trainingDetails" text, "requiresDocumentUpdate" boolean NOT NULL DEFAULT false, "documentUpdateDetails" text, "attachments" json, "submittedBy" character varying(100), "submittedAt" TIMESTAMP, "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "rejectedBy" character varying(100), "rejectedAt" TIMESTAMP, "rejectionReason" text, "closedBy" character varying(100), "closedAt" TIMESTAMP, "cancelledBy" character varying(100), "cancelledAt" TIMESTAMP, "cancellationReason" text, "progressPercentage" numeric(5,2) NOT NULL DEFAULT '0', "isOverdue" boolean NOT NULL DEFAULT false, "daysOverdue" integer, "lessonsLearned" text, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_617d51a6951988e2fd81de8bf34" UNIQUE ("caNumber"), CONSTRAINT "PK_b1382eccccc5ca8d821e3688ade" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."capas_status_enum" AS ENUM('Draft', 'Submitted', 'Approved', 'In Progress', 'Implemented', 'Pending Verification', 'Verified', 'Closed', 'Rejected', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."capas_priority_enum" AS ENUM('Low', 'Medium', 'High', 'Urgent', 'Critical')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."capas_capatype_enum" AS ENUM('Corrective', 'Preventive', 'Combined')`);
        await queryRunner.query(`CREATE TABLE "capas" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "capaNumber" character varying(50) NOT NULL, "title" character varying(255) NOT NULL, "description" text NOT NULL, "status" "kreupai_fbpa_dev"."capas_status_enum" NOT NULL DEFAULT 'Draft', "priority" "kreupai_fbpa_dev"."capas_priority_enum" NOT NULL DEFAULT 'Medium', "capaType" "kreupai_fbpa_dev"."capas_capatype_enum" NOT NULL DEFAULT 'Combined', "ncrId" character varying, "ncrNumber" character varying(100), "auditId" character varying, "auditNumber" character varying(100), "inspectionId" character varying, "inspectionNumber" character varying(100), "sourceType" character varying(255), "sourceId" character varying, "sourceReference" character varying(100), "problemStatement" text NOT NULL, "problemDetails" text, "problemDetectedDate" date, "problemOccurrenceDate" date, "rootCauseAnalysis" text NOT NULL, "rootCauseMethod" character varying(255), "rootCauseCategories" json, "identifiedRootCauses" text, "containmentAction" text, "containmentActionDate" date, "containmentActionBy" character varying(255), "isContained" boolean NOT NULL DEFAULT false, "correctiveActionId" character varying, "correctiveActionNumber" character varying(100), "correctiveActionPlan" text, "correctiveActionDetails" text, "preventiveActionId" character varying, "preventiveActionNumber" character varying(100), "preventiveActionPlan" text, "preventiveActionDetails" text, "actionPlan" text NOT NULL, "actionSteps" json, "ownerId" character varying, "ownerName" character varying(255), "departmentId" character varying, "departmentName" character varying(255), "assignedDate" date, "targetDate" date NOT NULL, "actualStartDate" date, "actualCompletionDate" date, "implementationDate" date, "verificationDate" date, "effectivenessCheckDate" date, "implementationDetails" text, "implementedBy" character varying(255), "implementedAt" TIMESTAMP, "isImplemented" boolean NOT NULL DEFAULT false, "verificationMethod" text, "verificationCriteria" text, "verificationResults" text, "verifiedBy" character varying(255), "verifiedAt" TIMESTAMP, "isVerified" boolean NOT NULL DEFAULT false, "effectivenessEvaluation" text, "effectivenessEvaluatedBy" character varying(255), "effectivenessEvaluatedAt" TIMESTAMP, "isEffective" boolean NOT NULL DEFAULT false, "effectivenessScore" integer, "estimatedCost" numeric(15,2) NOT NULL DEFAULT '0', "actualCost" numeric(15,2) NOT NULL DEFAULT '0', "estimatedHours" integer, "actualHours" integer, "resourcesRequired" text, "estimatedSavings" numeric(15,2) NOT NULL DEFAULT '0', "actualSavings" numeric(15,2) NOT NULL DEFAULT '0', "costBenefitAnalysis" text, "impactAssessment" text, "affectedProcesses" json, "affectedDepartments" json, "affectedProducts" json, "requiresTraining" boolean NOT NULL DEFAULT false, "trainingDetails" text, "trainingCompletedDate" date, "requiresDocumentUpdate" boolean NOT NULL DEFAULT false, "documentUpdateDetails" text, "documentUpdatedDate" date, "initialRiskLevel" character varying(50), "initialRiskScore" integer, "residualRiskLevel" character varying(50), "residualRiskScore" integer, "monitoringPlan" text, "nextReviewDate" date, "reviewFrequency" character varying(50), "attachments" json, "initiatedBy" character varying(100), "initiatedAt" TIMESTAMP, "submittedBy" character varying(100), "submittedAt" TIMESTAMP, "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "rejectedBy" character varying(100), "rejectedAt" TIMESTAMP, "rejectionReason" text, "closedBy" character varying(100), "closedAt" TIMESTAMP, "cancelledBy" character varying(100), "cancelledAt" TIMESTAMP, "cancellationReason" text, "progressPercentage" numeric(5,2) NOT NULL DEFAULT '0', "isOverdue" boolean NOT NULL DEFAULT false, "daysOverdue" integer, "lessonsLearned" text, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_00b2e5746e9e0eb9852436d1f40" UNIQUE ("capaNumber"), CONSTRAINT "PK_decf0d2a6bc9de32e04cff44b41" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."audit_findings_findingtype_enum" AS ENUM('Non-Conformance', 'Observation', 'Opportunity for Improvement', 'Best Practice', 'Positive Finding')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."audit_findings_severity_enum" AS ENUM('Critical', 'Major', 'Minor')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."audit_findings_status_enum" AS ENUM('Open', 'Acknowledged', 'CAPA Initiated', 'In Progress', 'Pending Verification', 'Verified', 'Closed', 'Rejected')`);
        await queryRunner.query(`CREATE TABLE "audit_findings" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "auditPlanId" uuid NOT NULL, "findingNumber" character varying(50) NOT NULL, "title" character varying(255) NOT NULL, "description" text NOT NULL, "findingType" "kreupai_fbpa_dev"."audit_findings_findingtype_enum" NOT NULL DEFAULT 'Non-Conformance', "severity" "kreupai_fbpa_dev"."audit_findings_severity_enum", "status" "kreupai_fbpa_dev"."audit_findings_status_enum" NOT NULL DEFAULT 'Open', "auditNumber" character varying(100), "findingDate" date NOT NULL, "standardReference" character varying(255), "clauseNumber" character varying(100), "clauseTitle" character varying(255), "requirement" text, "departmentId" character varying, "departmentName" character varying(255), "process" character varying(255), "processId" character varying, "location" character varying(255), "workCenterId" character varying, "workCenterCode" character varying(100), "evidence" text NOT NULL, "objectiveEvidence" text, "deviation" text, "impact" text, "riskAssessment" text, "auditeeId" character varying, "auditeeName" character varying(255), "auditeeDesignation" character varying(255), "auditeeDepartment" character varying(255), "auditorId" character varying, "auditorName" character varying(255), "rootCauseAnalysis" text, "rootCauseMethod" character varying(255), "identifiedRootCauses" json, "proposedCorrectiveAction" text, "assignedToId" character varying, "assignedToName" character varying(255), "targetCompletionDate" date, "actualCompletionDate" date, "requiresCAPA" boolean NOT NULL DEFAULT false, "capaId" character varying, "capaNumber" character varying(100), "capaCompleted" boolean NOT NULL DEFAULT false, "capaCompletionDate" date, "requiresNCR" boolean NOT NULL DEFAULT false, "ncrId" character varying, "ncrNumber" character varying(100), "auditeeResponse" text, "auditeeResponseDate" TIMESTAMP, "respondedBy" character varying(255), "implementationDetails" text, "implementationDate" date, "implementedBy" character varying(255), "verificationMethod" text, "verificationEvidence" text, "verificationResults" text, "verificationDate" date, "verifiedBy" character varying(255), "isVerified" boolean NOT NULL DEFAULT false, "isEffective" boolean NOT NULL DEFAULT false, "effectivenessEvaluation" text, "effectivenessEvaluationDate" date, "effectivenessEvaluatedBy" character varying(255), "photos" json, "attachments" json, "acknowledgedBy" character varying(100), "acknowledgedAt" TIMESTAMP, "closedBy" character varying(100), "closedAt" TIMESTAMP, "rejectedBy" character varying(100), "rejectedAt" TIMESTAMP, "rejectionReason" text, "responseDueDate" date, "verificationDueDate" date, "isOverdue" boolean NOT NULL DEFAULT false, "daysOverdue" integer, "recommendations" text, "lessonsLearned" text, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_fe38beb55dcc9effbeb22915031" UNIQUE ("findingNumber"), CONSTRAINT "PK_b66fb855ac062aabeccdd4ec1b4" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."audit_plans_audittype_enum" AS ENUM('Internal', 'External', 'Supplier', 'Customer', 'Certification', 'Surveillance', 'Compliance', 'Process', 'Product', 'System')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."audit_plans_status_enum" AS ENUM('Draft', 'Scheduled', 'In Progress', 'Completed', 'Report Pending', 'Report Submitted', 'Under Review', 'Approved', 'Closed', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."audit_plans_priority_enum" AS ENUM('Low', 'Normal', 'High', 'Critical')`);
        await queryRunner.query(`CREATE TABLE "audit_plans" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "auditNumber" character varying(50) NOT NULL, "auditTitle" character varying(255) NOT NULL, "description" text, "auditType" "kreupai_fbpa_dev"."audit_plans_audittype_enum" NOT NULL DEFAULT 'Internal', "status" "kreupai_fbpa_dev"."audit_plans_status_enum" NOT NULL DEFAULT 'Draft', "priority" "kreupai_fbpa_dev"."audit_plans_priority_enum" NOT NULL DEFAULT 'Normal', "auditScope" text NOT NULL, "auditObjectives" text, "auditCriteria" json, "clausesCovered" json, "standards" json, "referenceDocuments" json, "departmentIds" json, "departmentNames" json, "processIds" json, "processNames" json, "locations" json, "auditeeId" character varying, "auditeeName" character varying(255), "auditeeType" character varying(50), "auditeeAddress" character varying(255), "auditeeContactPerson" character varying(255), "auditeeContactPhone" character varying(50), "auditeeContactEmail" character varying(100), "leadAuditorId" character varying, "leadAuditorName" character varying(255), "auditTeam" json, "auditeeRepresentatives" json, "plannedStartDate" date NOT NULL, "plannedEndDate" date NOT NULL, "actualStartDate" date, "actualEndDate" date, "estimatedDurationHours" integer, "actualDurationHours" integer, "auditSchedule" json, "checklistItems" json, "openingMeetingDateTime" TIMESTAMP, "openingMeetingLocation" character varying(255), "openingMeetingAttendees" json, "openingMeetingNotes" text, "closingMeetingDateTime" TIMESTAMP, "closingMeetingLocation" character varying(255), "closingMeetingAttendees" json, "closingMeetingNotes" text, "totalFindings" integer NOT NULL DEFAULT '0', "criticalFindings" integer NOT NULL DEFAULT '0', "majorFindings" integer NOT NULL DEFAULT '0', "minorFindings" integer NOT NULL DEFAULT '0', "observations" integer NOT NULL DEFAULT '0', "opportunities" integer NOT NULL DEFAULT '0', "closedFindings" integer NOT NULL DEFAULT '0', "executiveSummary" text, "auditConclusion" text, "overallRating" character varying(50), "complianceScore" integer, "strengths" text, "areasForImprovement" text, "recommendations" text, "reportSubmittedDate" date, "reportSubmittedBy" character varying(255), "requiresFollowUp" boolean NOT NULL DEFAULT false, "followUpDate" date, "followUpCompleted" boolean NOT NULL DEFAULT false, "followUpCompletedDate" date, "followUpNotes" text, "nextAuditDate" date, "auditFrequency" character varying(50), "isCertificationAudit" boolean NOT NULL DEFAULT false, "certificationBody" character varying(255), "certificateNumber" character varying(100), "certificationDate" date, "certificationExpiryDate" date, "estimatedCost" numeric(15,2) NOT NULL DEFAULT '0', "actualCost" numeric(15,2) NOT NULL DEFAULT '0', "attachments" json, "preparedBy" character varying(100), "preparedAt" TIMESTAMP, "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "completedBy" character varying(100), "completedAt" TIMESTAMP, "closedBy" character varying(100), "closedAt" TIMESTAMP, "cancelledBy" character varying(100), "cancelledAt" TIMESTAMP, "cancellationReason" text, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_4811347874626baa63da37d5a32" UNIQUE ("auditNumber"), CONSTRAINT "PK_e0f507860ee892974f01cce9adc" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."projects_status_enum" AS ENUM('Planning', 'In Progress', 'On Hold', 'Delayed', 'Completed', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."projects_priority_enum" AS ENUM('P1', 'P2', 'P3')`);
        await queryRunner.query(`CREATE TABLE "projects" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "projectNumber" character varying NOT NULL, "projectName" character varying NOT NULL, "projectType" character varying NOT NULL, "customer" character varying NOT NULL, "location" character varying NOT NULL, "salesOrderNumber" character varying, "projectManager" character varying, "startDate" date NOT NULL, "endDate" date NOT NULL, "actualEndDate" date, "status" "kreupai_fbpa_dev"."projects_status_enum" NOT NULL DEFAULT 'Planning', "progress" double precision NOT NULL DEFAULT '0', "budget" double precision NOT NULL DEFAULT '0', "actualCost" double precision NOT NULL DEFAULT '0', "phase" character varying NOT NULL DEFAULT 'Initiation', "priority" "kreupai_fbpa_dev"."projects_priority_enum" NOT NULL DEFAULT 'P2', "teamSize" integer NOT NULL DEFAULT '0', "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_35ac9453ac1af9b36c4d9516a4c" UNIQUE ("projectNumber"), CONSTRAINT "PK_6271df0a7aed1d6c0691ce6ac50" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."work_order_items_itemtype_enum" AS ENUM('Required', 'Consumed', 'Returned', 'Scrap', 'By-Product')`);
        await queryRunner.query(`CREATE TABLE "work_order_items" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "workOrderId" uuid NOT NULL, "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "description" text, "itemType" "kreupai_fbpa_dev"."work_order_items_itemtype_enum" NOT NULL DEFAULT 'Required', "sequenceNumber" integer NOT NULL DEFAULT '0', "requiredQuantity" numeric(15,4) NOT NULL, "issuedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "consumedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "returnedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "pendingQuantity" numeric(15,4) NOT NULL DEFAULT '0', "uom" character varying(50) NOT NULL DEFAULT 'PCS', "unitCost" numeric(15,2) NOT NULL DEFAULT '0', "totalCost" numeric(15,2) NOT NULL DEFAULT '0', "operationId" character varying, "operationCode" character varying(100), "backflush" boolean NOT NULL DEFAULT false, "bomItemId" character varying, "scrapPercentage" numeric(5,2) NOT NULL DEFAULT '0', "warehouseId" character varying, "warehouseName" character varying(100), "binLocation" character varying(100), "trackSerialNumbers" boolean NOT NULL DEFAULT false, "trackBatchNumbers" boolean NOT NULL DEFAULT false, "batchNumber" character varying(100), "serialNumbers" json, "isMaterialIssued" boolean NOT NULL DEFAULT false, "issuedAt" TIMESTAMP, "issuedBy" character varying(100), "materialIssueId" character varying(100), "isMaterialConsumed" boolean NOT NULL DEFAULT false, "consumedAt" TIMESTAMP, "consumedBy" character varying(100), "isAlternativeItem" boolean NOT NULL DEFAULT false, "originalItemId" character varying, "originalItemCode" character varying(100), "notes" text, "isActive" boolean NOT NULL DEFAULT true, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_857f8e431138c3ef8c2febe6ebf" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."work_orders_workordertype_enum" AS ENUM('Production', 'Rework', 'Maintenance', 'Assembly', 'Disassembly', 'Prototype')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."work_orders_status_enum" AS ENUM('Draft', 'Submitted', 'Released', 'In Progress', 'On Hold', 'Completed', 'Closed', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."work_orders_priority_enum" AS ENUM('Low', 'Normal', 'High', 'Urgent', 'Critical')`);
        await queryRunner.query(`CREATE TABLE "work_orders" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "workOrderNumber" character varying(50) NOT NULL, "workOrderName" character varying(255) NOT NULL, "description" text, "workOrderType" "kreupai_fbpa_dev"."work_orders_workordertype_enum" NOT NULL DEFAULT 'Production', "status" "kreupai_fbpa_dev"."work_orders_status_enum" NOT NULL DEFAULT 'Draft', "priority" "kreupai_fbpa_dev"."work_orders_priority_enum" NOT NULL DEFAULT 'Normal', "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "uom" character varying(50) NOT NULL DEFAULT 'PCS', "plannedQuantity" numeric(15,4) NOT NULL, "producedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "acceptedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "rejectedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "scrapQuantity" numeric(15,4) NOT NULL DEFAULT '0', "pendingQuantity" numeric(15,4) NOT NULL DEFAULT '0', "bomId" character varying, "bomCode" character varying(100), "bomVersion" integer, "routingId" character varying, "routingCode" character varying(100), "plannedStartDate" date NOT NULL, "plannedEndDate" date NOT NULL, "actualStartDate" date, "actualEndDate" date, "requiredByDate" date, "workCenterId" character varying, "workCenterCode" character varying(100), "workCenterName" character varying(255), "salesOrderId" character varying, "salesOrderNumber" character varying(100), "productionPlanId" character varying, "productionPlanNumber" character varying(100), "projectId" character varying, "projectCode" character varying(100), "customerId" character varying, "customerName" character varying(255), "customerPO" character varying(100), "jobNumber" character varying(100), "estimatedMaterialCost" numeric(15,2) NOT NULL DEFAULT '0', "estimatedLaborCost" numeric(15,2) NOT NULL DEFAULT '0', "estimatedOverheadCost" numeric(15,2) NOT NULL DEFAULT '0', "estimatedTotalCost" numeric(15,2) NOT NULL DEFAULT '0', "actualMaterialCost" numeric(15,2) NOT NULL DEFAULT '0', "actualLaborCost" numeric(15,2) NOT NULL DEFAULT '0', "actualOverheadCost" numeric(15,2) NOT NULL DEFAULT '0', "actualTotalCost" numeric(15,2) NOT NULL DEFAULT '0', "progressPercentage" numeric(5,2) NOT NULL DEFAULT '0', "materialsIssued" boolean NOT NULL DEFAULT false, "materialsConsumed" boolean NOT NULL DEFAULT false, "productionCompleted" boolean NOT NULL DEFAULT false, "qualityInspected" boolean NOT NULL DEFAULT false, "stockReceived" boolean NOT NULL DEFAULT false, "trackSerialNumbers" boolean NOT NULL DEFAULT false, "trackBatchNumbers" boolean NOT NULL DEFAULT false, "batchNumber" character varying(100), "serialNumbers" json, "sourceWarehouseId" character varying, "sourceWarehouseName" character varying(100), "targetWarehouseId" character varying, "targetWarehouseName" character varying(100), "requiresInspection" boolean NOT NULL DEFAULT false, "qcTemplateId" character varying, "qualityStatus" character varying(50), "submittedBy" character varying(100), "submittedAt" TIMESTAMP, "releasedBy" character varying(100), "releasedAt" TIMESTAMP, "startedBy" character varying(100), "startedAt" TIMESTAMP, "completedBy" character varying(100), "completedAt" TIMESTAMP, "closedBy" character varying(100), "closedAt" TIMESTAMP, "cancelledBy" character varying(100), "cancelledAt" TIMESTAMP, "cancellationReason" text, "notes" text, "customFields" json, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_f26e571a0d252246e65c559eb8e" UNIQUE ("workOrderNumber"), CONSTRAINT "PK_29f6c1884082ee6f535aed93660" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."work_centers_workcentertype_enum" AS ENUM('Machine', 'Manual', 'Assembly Line', 'Inspection', 'Packaging', 'Warehouse', 'Testing', 'Maintenance', 'Other')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."work_centers_status_enum" AS ENUM('Available', 'Busy', 'Maintenance', 'Breakdown', 'Idle', 'Inactive')`);
        await queryRunner.query(`CREATE TABLE "work_centers" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "workCenterCode" character varying(50) NOT NULL, "workCenterName" character varying(255) NOT NULL, "description" text, "workCenterType" "kreupai_fbpa_dev"."work_centers_workcentertype_enum" NOT NULL DEFAULT 'Machine', "status" "kreupai_fbpa_dev"."work_centers_status_enum" NOT NULL DEFAULT 'Available', "department" character varying(100), "plant" character varying(100), "building" character varying(100), "floor" character varying(100), "area" character varying(100), "location" character varying(255), "numberOfStations" integer NOT NULL DEFAULT '1', "workingHoursPerDay" integer NOT NULL DEFAULT '8', "workingDaysPerWeek" integer NOT NULL DEFAULT '5', "availableCapacityHoursPerDay" numeric(10,2) NOT NULL DEFAULT '0', "utilisedCapacityHoursPerDay" numeric(10,2) NOT NULL DEFAULT '0', "capacityUtilizationPercentage" numeric(5,2) NOT NULL DEFAULT '0', "efficiency" numeric(5,2) NOT NULL DEFAULT '100', "hourlyOperatingCost" numeric(15,2) NOT NULL DEFAULT '0', "laborCostPerHour" numeric(15,2) NOT NULL DEFAULT '0', "overheadCostPerHour" numeric(15,2) NOT NULL DEFAULT '0', "setupCost" numeric(15,2) NOT NULL DEFAULT '0', "totalCostPerHour" numeric(15,2) NOT NULL DEFAULT '0', "shifts" json, "machineNumber" character varying(100), "manufacturer" character varying(100), "model" character varying(100), "serialNumber" character varying(100), "purchaseDate" date, "installationDate" date, "warrantyMonths" integer, "assetValue" numeric(15,2) NOT NULL DEFAULT '0', "totalRunningHours" numeric(10,2) NOT NULL DEFAULT '0', "totalDowntimeHours" numeric(10,2) NOT NULL DEFAULT '0', "uptimePercentage" numeric(5,2) NOT NULL DEFAULT '0', "oeePercentage" numeric(5,2) NOT NULL DEFAULT '0', "totalBreakdowns" integer NOT NULL DEFAULT '0', "lastBreakdownDate" TIMESTAMP, "requiresPreventiveMaintenance" boolean NOT NULL DEFAULT false, "maintenanceIntervalDays" integer NOT NULL DEFAULT '0', "lastMaintenanceDate" TIMESTAMP, "nextMaintenanceDate" TIMESTAMP, "maintenanceScheduleId" character varying, "maintenanceHistory" json, "requiredOperators" integer NOT NULL DEFAULT '1', "assignedOperators" json, "requiredSkills" json, "requiresQualityCheck" boolean NOT NULL DEFAULT false, "defectRate" numeric(5,2) NOT NULL DEFAULT '0', "firstPassYield" numeric(5,2) NOT NULL DEFAULT '0', "supervisorId" character varying, "supervisorName" character varying(255), "supervisorEmployeeCode" character varying(100), "technicalSpecs" json, "capabilities" json, "operationTypes" json, "attachments" json, "isActive" boolean NOT NULL DEFAULT true, "isCritical" boolean NOT NULL DEFAULT false, "allowBooking" boolean NOT NULL DEFAULT true, "holidays" json, "nonWorkingDays" json, "currentWorkOrderId" character varying, "currentWorkOrderNumber" character varying(100), "currentOperationId" character varying, "currentOperationStartTime" TIMESTAMP, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_523f24a5885accad007e2cb7949" UNIQUE ("workCenterCode"), CONSTRAINT "PK_efd461c689b6b2894c3ab1c930a" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."shop_floor_control_activitytype_enum" AS ENUM('Operation Start', 'Operation Pause', 'Operation Resume', 'Operation Complete', 'Material Issue', 'Material Return', 'Downtime', 'Quality Check', 'Tool Change', 'Setup Start', 'Setup Complete')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."shop_floor_control_status_enum" AS ENUM('Pending', 'In Progress', 'Paused', 'Completed', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."shop_floor_control_downtimecategory_enum" AS ENUM('Machine Breakdown', 'Tool Failure', 'Material Shortage', 'Power Failure', 'Operator Absence', 'Quality Issue', 'Planned Maintenance', 'Changeover', 'Other')`);
        await queryRunner.query(`CREATE TABLE "shop_floor_control" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "entryNumber" character varying(50) NOT NULL, "activityType" "kreupai_fbpa_dev"."shop_floor_control_activitytype_enum" NOT NULL, "status" "kreupai_fbpa_dev"."shop_floor_control_status_enum" NOT NULL DEFAULT 'Pending', "workOrderId" character varying NOT NULL, "workOrderNumber" character varying(100) NOT NULL, "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "operationId" character varying, "operationCode" character varying(100), "operationName" character varying(255), "operationSequence" integer, "workCenterId" character varying, "workCenterCode" character varying(100), "workCenterName" character varying(255), "operatorId" character varying, "operatorName" character varying(255), "employeeCode" character varying(100), "shift" character varying(100), "startTime" TIMESTAMP NOT NULL, "endTime" TIMESTAMP, "durationMinutes" integer NOT NULL DEFAULT '0', "setupTimeMinutes" numeric(10,2) NOT NULL DEFAULT '0', "runTimeMinutes" numeric(10,2) NOT NULL DEFAULT '0', "teardownTimeMinutes" numeric(10,2) NOT NULL DEFAULT '0', "targetQuantity" numeric(15,4) NOT NULL DEFAULT '0', "completedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "acceptedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "rejectedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "scrapQuantity" numeric(15,4) NOT NULL DEFAULT '0', "reworkQuantity" numeric(15,4) NOT NULL DEFAULT '0', "uom" character varying(50) NOT NULL DEFAULT 'PCS', "efficiencyPercentage" numeric(5,2) NOT NULL DEFAULT '0', "utilizationPercentage" numeric(5,2) NOT NULL DEFAULT '0', "yieldPercentage" numeric(5,2) NOT NULL DEFAULT '0', "cycleTimeMinutes" numeric(10,2) NOT NULL DEFAULT '0', "standardTimeMinutes" numeric(10,2) NOT NULL DEFAULT '0', "hasDowntime" boolean NOT NULL DEFAULT false, "downtimeCategory" "kreupai_fbpa_dev"."shop_floor_control_downtimecategory_enum", "downtimeMinutes" integer NOT NULL DEFAULT '0', "downtimeReason" text, "downtimeRemarks" text, "materialsIssued" json, "materialsConsumed" json, "qualityInspectionRequired" boolean NOT NULL DEFAULT false, "qualityInspectionCompleted" boolean NOT NULL DEFAULT false, "qualityStatus" character varying(50), "qcReportId" character varying, "toolsUsed" json, "batchNumber" character varying(100), "serialNumbers" json, "requiresSupervisorApproval" boolean NOT NULL DEFAULT false, "isApproved" boolean NOT NULL DEFAULT false, "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "remarks" text, "issues" text, "customFields" json, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_906d2ecdf0ecfcdd959ac9e051b" UNIQUE ("entryNumber"), CONSTRAINT "PK_4d71aa59c4e4a49a29e9dd8216a" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."routings_status_enum" AS ENUM('Draft', 'Submitted', 'Active', 'Inactive', 'Obsolete')`);
        await queryRunner.query(`CREATE TABLE "routings" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "routingCode" character varying(50) NOT NULL, "routingName" character varying(255) NOT NULL, "description" text, "status" "kreupai_fbpa_dev"."routings_status_enum" NOT NULL DEFAULT 'Draft', "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "bomId" character varying, "bomCode" character varying(100), "version" integer NOT NULL DEFAULT '1', "isActive" boolean NOT NULL DEFAULT true, "isDefault" boolean NOT NULL DEFAULT false, "effectiveFrom" date, "effectiveTo" date, "operations" json NOT NULL, "totalSetupTime" numeric(10,2) NOT NULL DEFAULT '0', "totalRunTimePerUnit" numeric(10,2) NOT NULL DEFAULT '0', "totalTeardownTime" numeric(10,2) NOT NULL DEFAULT '0', "totalTimePerUnit" numeric(10,2) NOT NULL DEFAULT '0', "totalOperations" integer NOT NULL DEFAULT '0', "totalCostPerUnit" numeric(15,2) NOT NULL DEFAULT '0', "laborCostPerUnit" numeric(15,2) NOT NULL DEFAULT '0', "overheadCostPerUnit" numeric(15,2) NOT NULL DEFAULT '0', "leadTimeDays" integer NOT NULL DEFAULT '0', "batchSize" numeric(15,4) NOT NULL DEFAULT '1', "uom" character varying(50) NOT NULL DEFAULT 'PCS', "requiresQualityInspection" boolean NOT NULL DEFAULT false, "qualityCheckpoints" integer NOT NULL DEFAULT '0', "drawingNumber" character varying(100), "revision" character varying(100), "attachments" json, "submittedBy" character varying(100), "submittedAt" TIMESTAMP, "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "approvalComments" text, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_8531f833b48f05658fddb513dfd" UNIQUE ("routingCode"), CONSTRAINT "PK_4d414cfafdc1d9a189a9989e30f" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."production_entries_entrytype_enum" AS ENUM('Production', 'Rework', 'Scrap', 'Rejection', 'Material Consumption', 'Material Return', 'By-Product', 'Co-Product')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."production_entries_status_enum" AS ENUM('Draft', 'Submitted', 'Posted', 'Reversed', 'Cancelled')`);
        await queryRunner.query(`CREATE TABLE "production_entries" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "entryNumber" character varying(50) NOT NULL, "entryType" "kreupai_fbpa_dev"."production_entries_entrytype_enum" NOT NULL DEFAULT 'Production', "status" "kreupai_fbpa_dev"."production_entries_status_enum" NOT NULL DEFAULT 'Draft', "postingDate" date NOT NULL, "postingTime" TIMESTAMP, "workOrderId" character varying NOT NULL, "workOrderNumber" character varying(100) NOT NULL, "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "operationId" character varying, "operationCode" character varying(100), "operationName" character varying(255), "workCenterId" character varying, "workCenterCode" character varying(100), "workCenterName" character varying(255), "quantity" numeric(15,4) NOT NULL, "acceptedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "rejectedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "scrapQuantity" numeric(15,4) NOT NULL DEFAULT '0', "uom" character varying(50) NOT NULL DEFAULT 'PCS', "materialsConsumed" json, "totalMaterialCost" numeric(15,2) NOT NULL DEFAULT '0', "laborEntries" json, "totalLaborCost" numeric(15,2) NOT NULL DEFAULT '0', "overheadCost" numeric(15,2) NOT NULL DEFAULT '0', "totalCost" numeric(15,2) NOT NULL DEFAULT '0', "costPerUnit" numeric(15,2) NOT NULL DEFAULT '0', "setupTimeMinutes" numeric(10,2) NOT NULL DEFAULT '0', "runTimeMinutes" numeric(10,2) NOT NULL DEFAULT '0', "teardownTimeMinutes" numeric(10,2) NOT NULL DEFAULT '0', "totalTimeMinutes" numeric(10,2) NOT NULL DEFAULT '0', "downtimeMinutes" numeric(10,2) NOT NULL DEFAULT '0', "targetWarehouseId" character varying, "targetWarehouseName" character varying(100), "binLocation" character varying(100), "trackSerialNumbers" boolean NOT NULL DEFAULT false, "trackBatchNumbers" boolean NOT NULL DEFAULT false, "batchNumber" character varying(100), "serialNumbers" json, "qualityInspectionRequired" boolean NOT NULL DEFAULT false, "qualityInspectionCompleted" boolean NOT NULL DEFAULT false, "qualityStatus" character varying(50), "qcReportId" character varying, "rejectionReason" text, "operatorId" character varying, "operatorName" character varying(255), "employeeCode" character varying(100), "shift" character varying(100), "inventoryPosted" boolean NOT NULL DEFAULT false, "inventoryPostedAt" TIMESTAMP, "stockEntryId" character varying, "stockEntryNumber" character varying(100), "glPosted" boolean NOT NULL DEFAULT false, "glPostedAt" TIMESTAMP, "journalEntryId" character varying, "journalEntryNumber" character varying(100), "isReversed" boolean NOT NULL DEFAULT false, "reversalEntryId" character varying, "reversalEntryNumber" character varying(100), "reversedAt" TIMESTAMP, "reversedBy" character varying(100), "reversalReason" text, "submittedBy" character varying(100), "submittedAt" TIMESTAMP, "postedBy" character varying(100), "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "remarks" text, "notes" text, "customFields" json, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_e5e4b6823de4b43ac4571dcdeac" UNIQUE ("entryNumber"), CONSTRAINT "PK_64528453902a2eadc39c9ce2cc5" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."production_plans_status_enum" AS ENUM('Draft', 'Submitted', 'Approved', 'In Progress', 'Completed', 'Closed', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."production_plans_planningmethod_enum" AS ENUM('MRP', 'JIT', 'Make to Order', 'Make to Stock', 'Assemble to Order')`);
        await queryRunner.query(`CREATE TABLE "production_plans" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "planNumber" character varying(50) NOT NULL, "planName" character varying(255) NOT NULL, "description" text, "status" "kreupai_fbpa_dev"."production_plans_status_enum" NOT NULL DEFAULT 'Draft', "planningMethod" "kreupai_fbpa_dev"."production_plans_planningmethod_enum" NOT NULL DEFAULT 'MRP', "periodStartDate" date NOT NULL, "periodEndDate" date NOT NULL, "periodName" character varying(50), "planningDate" date, "frozenDate" date, "itemId" character varying, "itemCode" character varying(100), "itemName" character varying(255), "itemCategory" character varying(100), "demandQuantity" numeric(15,4) NOT NULL DEFAULT '0', "forecastQuantity" numeric(15,4) NOT NULL DEFAULT '0', "openOrderQuantity" numeric(15,4) NOT NULL DEFAULT '0', "currentStockQuantity" numeric(15,4) NOT NULL DEFAULT '0', "plannedProductionQuantity" numeric(15,4) NOT NULL DEFAULT '0', "actualProductionQuantity" numeric(15,4) NOT NULL DEFAULT '0', "uom" character varying(50) NOT NULL DEFAULT 'PCS', "netRequirement" numeric(15,4) NOT NULL DEFAULT '0', "safetyStock" numeric(15,4) NOT NULL DEFAULT '0', "leadTimeDays" integer NOT NULL DEFAULT '0', "lotSize" numeric(15,4) NOT NULL DEFAULT '0', "requiredCapacityHours" numeric(10,2) NOT NULL DEFAULT '0', "availableCapacityHours" numeric(10,2) NOT NULL DEFAULT '0', "capacityUtilizationPercentage" numeric(5,2) NOT NULL DEFAULT '0', "hasCapacityConstraint" boolean NOT NULL DEFAULT false, "workCenterId" character varying, "workCenterCode" character varying(100), "workCenterName" character varying(255), "salesForecastId" character varying, "salesOrderId" character varying, "salesOrderNumber" character varying(100), "customerId" character varying, "customerName" character varying(255), "workOrdersGenerated" integer NOT NULL DEFAULT '0', "workOrderIds" json, "mrpRunExecuted" boolean NOT NULL DEFAULT false, "mrpRunDate" TIMESTAMP, "mrpRunBy" character varying(100), "mrpResults" json, "completionPercentage" numeric(5,2) NOT NULL DEFAULT '0', "isFrozen" boolean NOT NULL DEFAULT false, "submittedBy" character varying(100), "submittedAt" TIMESTAMP, "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "approvalComments" text, "notes" text, "customFields" json, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_648bfc9f11569ea84fd2b39921f" UNIQUE ("planNumber"), CONSTRAINT "PK_171d3990efc1882102b85f3b71e" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."operations_operationtype_enum" AS ENUM('Machining', 'Assembly', 'Welding', 'Painting', 'Testing', 'Inspection', 'Packaging', 'Heat Treatment', 'Surface Treatment', 'Quality Control', 'Material Handling', 'Setup', 'Other')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."operations_status_enum" AS ENUM('Active', 'Inactive', 'Obsolete')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."operations_timecalculationmethod_enum" AS ENUM('Manual', 'Standard Time', 'Estimated', 'Actual Average')`);
        await queryRunner.query(`CREATE TABLE "operations" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "operationCode" character varying(50) NOT NULL, "operationName" character varying(255) NOT NULL, "description" text, "operationType" "kreupai_fbpa_dev"."operations_operationtype_enum" NOT NULL DEFAULT 'Machining', "status" "kreupai_fbpa_dev"."operations_status_enum" NOT NULL DEFAULT 'Active', "defaultWorkCenterId" character varying, "defaultWorkCenterCode" character varying(100), "defaultWorkCenterName" character varying(255), "alternateWorkCenters" json, "timeCalculationMethod" "kreupai_fbpa_dev"."operations_timecalculationmethod_enum" NOT NULL DEFAULT 'Standard Time', "setupTimeMinutes" numeric(10,2) NOT NULL DEFAULT '0', "runTimePerUnitMinutes" numeric(10,2) NOT NULL DEFAULT '0', "teardownTimeMinutes" numeric(10,2) NOT NULL DEFAULT '0', "totalTimePerUnitMinutes" numeric(10,2) NOT NULL DEFAULT '0', "batchSize" integer NOT NULL DEFAULT '1', "changoverTimeMinutes" numeric(10,2) NOT NULL DEFAULT '0', "hourlyRate" numeric(15,2) NOT NULL DEFAULT '0', "costPerUnit" numeric(15,2) NOT NULL DEFAULT '0', "overheadRate" numeric(15,2) NOT NULL DEFAULT '0', "totalCostPerUnit" numeric(15,2) NOT NULL DEFAULT '0', "numberOfOperators" integer NOT NULL DEFAULT '1', "numberOfMachines" integer NOT NULL DEFAULT '1', "capacityPerHour" numeric(10,2) NOT NULL DEFAULT '0', "capacityUOM" character varying(50) NOT NULL DEFAULT 'PCS', "requiresQualityInspection" boolean NOT NULL DEFAULT false, "qcTemplateId" character varying, "qcTemplateName" character varying(100), "requiresSupervisorApproval" boolean NOT NULL DEFAULT false, "requiredSkills" json, "requiredCertifications" json, "requiredTools" json, "requiredEquipment" json, "safetyRequirements" json, "safetyEquipment" json, "workInstructions" text, "instructionSteps" json, "drawingNumber" character varying(100), "revision" character varying(100), "attachments" json, "targetEfficiency" numeric(5,2) NOT NULL DEFAULT '100', "actualEfficiency" numeric(5,2) NOT NULL DEFAULT '0', "defectRate" numeric(5,2) NOT NULL DEFAULT '0', "reworkRate" numeric(5,2) NOT NULL DEFAULT '0', "isOutsourced" boolean NOT NULL DEFAULT false, "outsourcedVendorId" character varying, "outsourcedVendorName" character varying(255), "isActive" boolean NOT NULL DEFAULT true, "isCritical" boolean NOT NULL DEFAULT false, "allowParallelOperations" boolean NOT NULL DEFAULT false, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_a72f04aa7f54744109cce2b6d43" UNIQUE ("operationCode"), CONSTRAINT "PK_7b62d84d6f9912b975987165856" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."bom_items_itemtype_enum" AS ENUM('Component', 'Sub-Assembly', 'Consumable', 'Scrap', 'Co-Product', 'By-Product')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."bom_items_supplytype_enum" AS ENUM('Purchase', 'Manufacture', 'Transfer', 'Customer Provided')`);
        await queryRunner.query(`CREATE TABLE "bom_items" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "bomId" uuid NOT NULL, "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "description" text, "itemType" "kreupai_fbpa_dev"."bom_items_itemtype_enum" NOT NULL DEFAULT 'Component', "supplyType" "kreupai_fbpa_dev"."bom_items_supplytype_enum" NOT NULL DEFAULT 'Purchase', "sequenceNumber" integer NOT NULL DEFAULT '0', "parentItemId" character varying, "level" integer NOT NULL DEFAULT '0', "quantity" numeric(15,4) NOT NULL, "uom" character varying(50) NOT NULL DEFAULT 'PCS', "scrapPercentage" numeric(5,2) NOT NULL DEFAULT '0', "netQuantity" numeric(15,4) NOT NULL DEFAULT '0', "unitCost" numeric(15,2) NOT NULL DEFAULT '0', "totalCost" numeric(15,2) NOT NULL DEFAULT '0', "costAllocationPercentage" numeric(5,2) NOT NULL DEFAULT '0', "trackConsumption" boolean NOT NULL DEFAULT true, "backflush" boolean NOT NULL DEFAULT false, "operationId" character varying, "operationCode" character varying(100), "hasAlternatives" boolean NOT NULL DEFAULT false, "alternatives" json, "preferredVendorId" character varying, "preferredVendorName" character varying(255), "leadTimeDays" integer NOT NULL DEFAULT '0', "requiresInspection" boolean NOT NULL DEFAULT false, "qcTemplateId" character varying, "referenceDesignator" character varying(100), "findNumber" character varying(100), "notes" text, "effectiveFrom" date, "effectiveTo" date, "isActive" boolean NOT NULL DEFAULT true, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_f88a851d4f3c46533a354229e15" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."boms_bomtype_enum" AS ENUM('Manufacture', 'Assembly', 'Kit', 'Disassembly', 'Planning')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."boms_status_enum" AS ENUM('Draft', 'Submitted', 'Active', 'Inactive', 'Obsolete')`);
        await queryRunner.query(`CREATE TABLE "boms" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "bomCode" character varying(50) NOT NULL, "bomName" character varying(255) NOT NULL, "description" text, "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "bomType" "kreupai_fbpa_dev"."boms_bomtype_enum" NOT NULL DEFAULT 'Manufacture', "status" "kreupai_fbpa_dev"."boms_status_enum" NOT NULL DEFAULT 'Draft', "version" integer NOT NULL DEFAULT '1', "isActive" boolean NOT NULL DEFAULT true, "isDefault" boolean NOT NULL DEFAULT false, "effectiveFrom" date, "effectiveTo" date, "quantity" numeric(15,4) NOT NULL DEFAULT '1', "uom" character varying(50) NOT NULL DEFAULT 'PCS', "materialCost" numeric(15,2) NOT NULL DEFAULT '0', "operationCost" numeric(15,2) NOT NULL DEFAULT '0', "overheadCost" numeric(15,2) NOT NULL DEFAULT '0', "totalCost" numeric(15,2) NOT NULL DEFAULT '0', "costPerUnit" numeric(15,2) NOT NULL DEFAULT '0', "lastCostRollupDate" TIMESTAMP, "leadTimeDays" integer NOT NULL DEFAULT '0', "scrapPercentage" numeric(5,2) NOT NULL DEFAULT '0', "batchSize" numeric(15,4) NOT NULL DEFAULT '0', "allowAlternativeItems" boolean NOT NULL DEFAULT false, "requiresQualityInspection" boolean NOT NULL DEFAULT false, "defaultRoutingId" character varying, "defaultRoutingCode" character varying(100), "drawingNumber" character varying(100), "revision" character varying(100), "attachments" json, "submittedBy" character varying(100), "submittedAt" TIMESTAMP, "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "approvalComments" text, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_3dfa037961ed2302840c28d99a9" UNIQUE ("bomCode"), CONSTRAINT "PK_59659fde3f22d3869fee0f78822" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."vendor_quotations_status_enum" AS ENUM('Draft', 'Submitted', 'Under Review', 'Accepted', 'Rejected', 'Awarded', 'Expired', 'Withdrawn')`);
        await queryRunner.query(`CREATE TABLE "vendor_quotations" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "quotationNumber" character varying(50) NOT NULL, "quotationDate" date NOT NULL, "validUntil" date NOT NULL, "status" "kreupai_fbpa_dev"."vendor_quotations_status_enum" NOT NULL DEFAULT 'Draft', "rfqId" character varying NOT NULL, "rfqNumber" character varying(50) NOT NULL, "rfqDate" date NOT NULL, "vendorId" character varying NOT NULL, "vendorName" character varying(255) NOT NULL, "vendorCode" character varying(50) NOT NULL, "vendorAddress" text, "vendorContactPerson" character varying(100), "vendorEmail" character varying(100), "vendorPhone" character varying(50), "items" json NOT NULL, "currency" character varying(3) NOT NULL DEFAULT 'INR', "exchangeRate" numeric(10,4) NOT NULL DEFAULT '1', "subtotal" numeric(15,2) NOT NULL DEFAULT '0', "discountAmount" numeric(15,2) NOT NULL DEFAULT '0', "discountPercentage" numeric(5,2) NOT NULL DEFAULT '0', "taxAmount" numeric(15,2) NOT NULL DEFAULT '0', "shippingCharges" numeric(15,2) NOT NULL DEFAULT '0', "otherCharges" numeric(15,2) NOT NULL DEFAULT '0', "totalAmount" numeric(15,2) NOT NULL DEFAULT '0', "paymentTerms" character varying(100), "paymentTermsDescription" text, "deliveryTerms" character varying(100), "deliveryDays" integer, "deliveryDate" date, "shippingMethod" character varying(100), "packingDetails" text, "warrantyPeriod" character varying(100), "warrantyTerms" text, "technicalSpecifications" text, "qualityStandards" text, "certifications" text, "sampleProvided" boolean NOT NULL DEFAULT false, "sampleDetails" text, "isEvaluated" boolean NOT NULL DEFAULT false, "evaluationScore" numeric(5,2), "rank" integer, "evaluationCriteria" json, "evaluationRemarks" text, "evaluatedBy" character varying(100), "evaluatedAt" TIMESTAMP, "isAwarded" boolean NOT NULL DEFAULT false, "awardedDate" date, "purchaseOrderId" character varying, "purchaseOrderNumber" character varying(50), "awardRemarks" text, "isRejected" boolean NOT NULL DEFAULT false, "rejectedDate" date, "rejectionReason" text, "notes" text, "vendorRemarks" text, "customFields" json, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_bd999f99bacd42ebfbab2e6c341" UNIQUE ("quotationNumber"), CONSTRAINT "PK_5eb3d7d583679bf600cddcb9b58" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."vendor_evaluations_evaluationperiod_enum" AS ENUM('Monthly', 'Quarterly', 'Half Yearly', 'Yearly', 'Ad-hoc')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."vendor_evaluations_status_enum" AS ENUM('Draft', 'In Progress', 'Completed', 'Approved', 'Rejected')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."vendor_evaluations_performancegrade_enum" AS ENUM('A+', 'A', 'B+', 'B', 'C', 'D', 'F')`);
        await queryRunner.query(`CREATE TABLE "vendor_evaluations" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "evaluationNumber" character varying(50) NOT NULL, "evaluationDate" date NOT NULL, "evaluationPeriodStart" date NOT NULL, "evaluationPeriodEnd" date NOT NULL, "evaluationPeriod" "kreupai_fbpa_dev"."vendor_evaluations_evaluationperiod_enum" NOT NULL DEFAULT 'Quarterly', "status" "kreupai_fbpa_dev"."vendor_evaluations_status_enum" NOT NULL DEFAULT 'Draft', "vendorId" character varying NOT NULL, "vendorName" character varying(255) NOT NULL, "vendorCode" character varying(50) NOT NULL, "vendorCategory" character varying(100), "evaluatorId" character varying(100) NOT NULL, "evaluatorName" character varying(255) NOT NULL, "department" character varying(100), "qualityScore" numeric(5,2) NOT NULL DEFAULT '0', "totalDeliveries" integer NOT NULL DEFAULT '0', "defectiveDeliveries" integer NOT NULL DEFAULT '0', "defectRate" numeric(5,2) NOT NULL DEFAULT '0', "totalQuantityReceived" numeric(15,3) NOT NULL DEFAULT '0', "rejectedQuantity" numeric(15,3) NOT NULL DEFAULT '0', "rejectionRate" numeric(5,2) NOT NULL DEFAULT '0', "qualityComplaints" integer NOT NULL DEFAULT '0', "qualityRemarks" text, "deliveryScore" numeric(5,2) NOT NULL DEFAULT '0', "totalOrders" integer NOT NULL DEFAULT '0', "onTimeDeliveries" integer NOT NULL DEFAULT '0', "lateDeliveries" integer NOT NULL DEFAULT '0', "onTimeDeliveryPercentage" numeric(5,2) NOT NULL DEFAULT '0', "averageDeliveryDelay" numeric(10,2) NOT NULL DEFAULT '0', "deliveryComplaints" integer NOT NULL DEFAULT '0', "deliveryRemarks" text, "priceScore" numeric(5,2) NOT NULL DEFAULT '0', "totalPurchaseValue" numeric(15,2) NOT NULL DEFAULT '0', "priceCompetitiveness" numeric(5,2) NOT NULL DEFAULT '0', "priceVariation" numeric(5,2) NOT NULL DEFAULT '0', "priceIncreaseInstances" integer NOT NULL DEFAULT '0', "priceDiscounts" integer NOT NULL DEFAULT '0', "priceRemarks" text, "responsivenessScore" numeric(5,2) NOT NULL DEFAULT '0', "averageResponseTime" numeric(10,2) NOT NULL DEFAULT '0', "communicationIssues" integer NOT NULL DEFAULT '0', "orderModifications" integer NOT NULL DEFAULT '0', "emergencyOrdersFulfilled" integer NOT NULL DEFAULT '0', "responsivenessRemarks" text, "complianceScore" numeric(5,2) NOT NULL DEFAULT '0', "documentationIssues" integer NOT NULL DEFAULT '0', "packagingIssues" integer NOT NULL DEFAULT '0', "regulatoryViolations" integer NOT NULL DEFAULT '0', "certificationsValid" boolean NOT NULL DEFAULT false, "complianceRemarks" text, "serviceScore" numeric(5,2) NOT NULL DEFAULT '0', "serviceRequests" integer NOT NULL DEFAULT '0', "serviceRequestsResolved" integer NOT NULL DEFAULT '0', "warrantyIssues" integer NOT NULL DEFAULT '0', "technicalSupportIssues" integer NOT NULL DEFAULT '0', "serviceRemarks" text, "customCriteria" json, "qualityWeightage" numeric(5,2) NOT NULL DEFAULT '0', "deliveryWeightage" numeric(5,2) NOT NULL DEFAULT '0', "priceWeightage" numeric(5,2) NOT NULL DEFAULT '0', "responsivenessWeightage" numeric(5,2) NOT NULL DEFAULT '0', "complianceWeightage" numeric(5,2) NOT NULL DEFAULT '0', "serviceWeightage" numeric(5,2) NOT NULL DEFAULT '0', "overallScore" numeric(5,2) NOT NULL DEFAULT '0', "performanceGrade" "kreupai_fbpa_dev"."vendor_evaluations_performancegrade_enum", "ranking" integer, "strengths" json, "weaknesses" json, "opportunities" json, "threats" json, "recommendations" text, "actionItems" json, "improvementAreas" text, "costSavings" numeric(15,2) NOT NULL DEFAULT '0', "costOverruns" numeric(15,2) NOT NULL DEFAULT '0', "productionDowntimeDays" integer NOT NULL DEFAULT '0', "productionDowntimeCost" numeric(15,2) NOT NULL DEFAULT '0', "futureBusinessRecommendation" text, "recommendForFutureBusiness" boolean NOT NULL DEFAULT true, "recommendForBlacklist" boolean NOT NULL DEFAULT false, "blacklistReason" text, "isApproved" boolean NOT NULL DEFAULT false, "approvedBy" character varying(100), "approverName" character varying(255), "approvedAt" TIMESTAMP, "approvalNotes" text, "previousEvaluationId" character varying, "previousScore" numeric(5,2), "scoreImprovement" numeric(5,2), "trendAnalysis" text, "notes" text, "customFields" json, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_baf931f5039f3d67d72df64c76a" UNIQUE ("evaluationNumber"), CONSTRAINT "PK_98c4152571558d105fdcbbc5015" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."rfqs_status_enum" AS ENUM('Draft', 'Sent', 'In Progress', 'Quotes Received', 'Evaluated', 'Awarded', 'Closed', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."rfqs_rfqtype_enum" AS ENUM('Standard', 'Service', 'Tender', 'Emergency')`);
        await queryRunner.query(`CREATE TABLE "rfqs" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "rfqNumber" character varying(50) NOT NULL, "rfqDate" date NOT NULL, "submissionDeadline" date NOT NULL, "validUntil" date, "status" "kreupai_fbpa_dev"."rfqs_status_enum" NOT NULL DEFAULT 'Draft', "rfqType" "kreupai_fbpa_dev"."rfqs_rfqtype_enum" NOT NULL DEFAULT 'Standard', "prNumber" character varying(50), "prId" character varying, "title" character varying(255) NOT NULL, "description" text NOT NULL, "buyerId" character varying(100) NOT NULL, "buyerName" character varying(255) NOT NULL, "department" character varying(100), "buyerEmail" character varying(100), "buyerPhone" character varying(50), "vendors" json NOT NULL, "items" json NOT NULL, "estimatedTotal" numeric(15,2) NOT NULL DEFAULT '0', "termsAndConditions" text, "paymentTerms" text, "deliveryTerms" text, "qualityRequirements" text, "packingRequirements" text, "evaluationCriteria" json, "technicalRequirements" text, "commercialRequirements" text, "comparativeAnalysis" json, "awardedVendorId" character varying, "awardedVendorName" character varying(255), "awardedAmount" numeric(15,2), "awardedDate" date, "awardJustification" text, "awardedPOId" character varying, "awardedPONumber" character varying(50), "quotationsReceived" integer NOT NULL DEFAULT '0', "quotationsPending" integer NOT NULL DEFAULT '0', "lowestQuotationAmount" numeric(15,2), "highestQuotationAmount" numeric(15,2), "notes" text, "customFields" json, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_1f87b36a05a4c5d113944e67a6c" UNIQUE ("rfqNumber"), CONSTRAINT "PK_c8b7481584218bdee534e5fc436" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."purchase_returns_status_enum" AS ENUM('Draft', 'Submitted', 'Approved', 'Rejected', 'Dispatched', 'Received by Vendor', 'Credit Note Received', 'Completed', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."purchase_returns_returnreason_enum" AS ENUM('Damaged', 'Defective', 'Wrong Item', 'Excess Quantity', 'Quality Issue', 'Expired', 'Not as per Specification', 'Other')`);
        await queryRunner.query(`CREATE TABLE "purchase_returns" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "returnNumber" character varying(50) NOT NULL, "returnDate" date NOT NULL, "status" "kreupai_fbpa_dev"."purchase_returns_status_enum" NOT NULL DEFAULT 'Draft', "goodsReceiptId" character varying, "goodsReceiptNumber" character varying(50), "purchaseOrderId" character varying, "purchaseOrderNumber" character varying(50), "vendorId" character varying NOT NULL, "vendorName" character varying(255) NOT NULL, "vendorCode" character varying(50) NOT NULL, "vendorAddress" text, "vendorContactPerson" character varying(100), "vendorEmail" character varying(100), "vendorPhone" character varying(50), "returnReason" "kreupai_fbpa_dev"."purchase_returns_returnreason_enum" NOT NULL, "returnReasonDescription" text NOT NULL, "items" json NOT NULL, "currency" character varying(3) NOT NULL DEFAULT 'INR', "subtotal" numeric(15,2) NOT NULL DEFAULT '0', "taxAmount" numeric(15,2) NOT NULL DEFAULT '0', "totalAmount" numeric(15,2) NOT NULL DEFAULT '0', "dispatchDate" date, "dispatchedBy" character varying(100), "vehicleNumber" character varying(100), "driverName" character varying(100), "driverPhone" character varying(50), "transporterName" character varying(100), "lrNumber" character varying(100), "lrDate" date, "eWayBillNumber" character varying(100), "isAcknowledgedByVendor" boolean NOT NULL DEFAULT false, "vendorAcknowledgmentDate" date, "vendorAcknowledgmentRemarks" text, "isCreditNoteReceived" boolean NOT NULL DEFAULT false, "creditNoteNumber" character varying(50), "creditNoteDate" date, "creditNoteAmount" numeric(15,2), "creditNoteId" character varying, "isApproved" boolean NOT NULL DEFAULT false, "approvedBy" character varying(100), "approverName" character varying(255), "approvedAt" TIMESTAMP, "approvalNotes" text, "rejectedBy" character varying(100), "rejectedAt" TIMESTAMP, "rejectionReason" text, "isInventoryAdjusted" boolean NOT NULL DEFAULT false, "inventoryAdjustedAt" TIMESTAMP, "inventoryAdjustedBy" character varying(100), "inventoryTransactions" json, "isPostedToAccounting" boolean NOT NULL DEFAULT false, "accountingPostedAt" TIMESTAMP, "accountingPostedBy" character varying(100), "journalEntryId" character varying, "journalEntryNumber" character varying(50), "notes" text, "internalRemarks" text, "customFields" json, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_448bb11c381cb6275453a448f32" UNIQUE ("returnNumber"), CONSTRAINT "PK_cc2ea54a32938fc38a4e5442330" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."purchase_order_items_status_enum" AS ENUM('Pending', 'In Progress', 'Partially Received', 'Fully Received', 'Cancelled')`);
        await queryRunner.query(`CREATE TABLE "purchase_order_items" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "purchaseOrderId" uuid NOT NULL, "lineNumber" integer NOT NULL, "status" "kreupai_fbpa_dev"."purchase_order_items_status_enum" NOT NULL DEFAULT 'Pending', "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "description" text, "uom" character varying(50) NOT NULL, "specification" text, "orderedQuantity" numeric(15,3) NOT NULL, "receivedQuantity" numeric(15,3) NOT NULL DEFAULT '0', "pendingQuantity" numeric(15,3) NOT NULL DEFAULT '0', "rejectedQuantity" numeric(15,3) NOT NULL DEFAULT '0', "acceptedQuantity" numeric(15,3) NOT NULL DEFAULT '0', "unitPrice" numeric(15,2) NOT NULL, "discountPercentage" numeric(5,2) NOT NULL DEFAULT '0', "discountAmount" numeric(15,2) NOT NULL DEFAULT '0', "netUnitPrice" numeric(15,2) NOT NULL, "lineTotal" numeric(15,2) NOT NULL, "taxCode" character varying(50), "taxRate" numeric(5,2) NOT NULL DEFAULT '0', "taxAmount" numeric(15,2) NOT NULL DEFAULT '0', "totalAmount" numeric(15,2) NOT NULL, "requiredDate" date, "promisedDate" date, "deliveryLocation" character varying(100), "accountCode" character varying(100), "costCenter" character varying(100), "project" character varying(100), "requiresQualityCheck" boolean NOT NULL DEFAULT false, "qualityCheckPassed" boolean NOT NULL DEFAULT false, "qualityRemarks" text, "receipts" json, "invoices" json, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_e8b7568d25c41e3290db596b312" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."purchase_orders_status_enum" AS ENUM('Draft', 'Submitted', 'Approved', 'Rejected', 'In Progress', 'Partially Received', 'Fully Received', 'Closed', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."purchase_orders_potype_enum" AS ENUM('Standard', 'Blanket', 'Contract', 'Planned', 'Service')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."purchase_orders_deliveryterms_enum" AS ENUM('EXW', 'FOB', 'CIF', 'CIP', 'DAP', 'DDP')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."purchase_orders_paymentterms_enum" AS ENUM('Immediate', 'Net 15', 'Net 30', 'Net 45', 'Net 60', 'Net 90', 'COD', 'Advance', 'Custom')`);
        await queryRunner.query(`CREATE TABLE "purchase_orders" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "poNumber" character varying(50) NOT NULL, "poDate" date NOT NULL, "deliveryDate" date NOT NULL, "status" "kreupai_fbpa_dev"."purchase_orders_status_enum" NOT NULL DEFAULT 'Draft', "poType" "kreupai_fbpa_dev"."purchase_orders_potype_enum" NOT NULL DEFAULT 'Standard', "prNumber" character varying(50), "prId" character varying, "rfqNumber" character varying(50), "rfqId" character varying, "quotationNumber" character varying(50), "quotationId" character varying, "vendorId" character varying NOT NULL, "vendorName" character varying(255) NOT NULL, "vendorCode" character varying(50), "vendorAddress" text, "vendorContactPerson" character varying(100), "vendorPhone" character varying(100), "vendorEmail" character varying(100), "deliveryAddress" text NOT NULL, "deliveryLocation" character varying(100), "deliveryContactPerson" character varying(100), "deliveryContactPhone" character varying(50), "deliveryTerms" "kreupai_fbpa_dev"."purchase_orders_deliveryterms_enum" NOT NULL DEFAULT 'FOB', "shippingMethod" character varying(100), "currency" character varying(3) NOT NULL DEFAULT 'INR', "exchangeRate" numeric(10,4) NOT NULL DEFAULT '1', "paymentTerms" "kreupai_fbpa_dev"."purchase_orders_paymentterms_enum" NOT NULL DEFAULT 'Net 30', "paymentTermsDescription" character varying(255), "subtotal" numeric(15,2) NOT NULL DEFAULT '0', "discountAmount" numeric(15,2) NOT NULL DEFAULT '0', "discountPercentage" numeric(5,2) NOT NULL DEFAULT '0', "taxAmount" numeric(15,2) NOT NULL DEFAULT '0', "shippingCharges" numeric(15,2) NOT NULL DEFAULT '0', "otherCharges" numeric(15,2) NOT NULL DEFAULT '0', "totalAmount" numeric(15,2) NOT NULL DEFAULT '0', "advanceAmount" numeric(15,2) NOT NULL DEFAULT '0', "balanceAmount" numeric(15,2) NOT NULL DEFAULT '0', "buyerId" character varying(100) NOT NULL, "buyerName" character varying(255) NOT NULL, "department" character varying(100), "costCenter" character varying(100), "project" character varying(100), "isApproved" boolean NOT NULL DEFAULT false, "approvedBy" character varying(100), "approverName" character varying(255), "approvedAt" TIMESTAMP, "approvalNotes" text, "rejectedBy" character varying(100), "rejectedAt" TIMESTAMP, "rejectionReason" text, "amendmentNumber" integer NOT NULL DEFAULT '0', "amendmentHistory" json, "receivedAmount" numeric(15,2) NOT NULL DEFAULT '0', "receivedPercentage" numeric(5,2) NOT NULL DEFAULT '0', "goodsReceipts" json, "invoicedAmount" numeric(15,2) NOT NULL DEFAULT '0', "purchaseInvoices" json, "termsAndConditions" text, "specialInstructions" text, "qualityRequirements" text, "packingInstructions" text, "notes" text, "customFields" json, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_2e0fc7a6605393a9bd691cdcebe" UNIQUE ("poNumber"), CONSTRAINT "PK_05148947415204a897e8beb2553" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."purchase_requisitions_status_enum" AS ENUM('Draft', 'Submitted', 'Approved', 'Rejected', 'Partially Ordered', 'Fully Ordered', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."purchase_requisitions_priority_enum" AS ENUM('Low', 'Medium', 'High', 'Urgent')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."purchase_requisitions_prtype_enum" AS ENUM('Standard', 'Emergency', 'Blanket', 'Service')`);
        await queryRunner.query(`CREATE TABLE "purchase_requisitions" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "prNumber" character varying(50) NOT NULL, "prDate" date NOT NULL, "requiredByDate" date NOT NULL, "status" "kreupai_fbpa_dev"."purchase_requisitions_status_enum" NOT NULL DEFAULT 'Draft', "priority" "kreupai_fbpa_dev"."purchase_requisitions_priority_enum" NOT NULL DEFAULT 'Medium', "prType" "kreupai_fbpa_dev"."purchase_requisitions_prtype_enum" NOT NULL DEFAULT 'Standard', "requesterId" character varying(100) NOT NULL, "requesterName" character varying(255) NOT NULL, "department" character varying(100), "costCenter" character varying(100), "project" character varying(100), "items" json NOT NULL, "totalAmount" numeric(15,2) NOT NULL DEFAULT '0', "purpose" text NOT NULL, "justification" text, "isApproved" boolean NOT NULL DEFAULT false, "approvedBy" character varying(100), "approverName" character varying(255), "approvedAt" TIMESTAMP, "approvalNotes" text, "rejectedBy" character varying(100), "rejectedAt" TIMESTAMP, "rejectionReason" text, "purchaseOrders" json, "budgetCode" character varying(100), "budgetAllocated" numeric(15,2), "budgetConsumed" numeric(15,2), "isBudgetAvailable" boolean NOT NULL DEFAULT false, "notes" text, "customFields" json, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_0aa2dff0488999b1f08280b8caf" UNIQUE ("prNumber"), CONSTRAINT "PK_498c368a925013267fce72a3dfe" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."purchase_invoices_status_enum" AS ENUM('Draft', 'Submitted', 'Under Verification', 'Matched', 'Mismatch', 'Approved', 'Rejected', 'Posted', 'Paid', 'Partially Paid', 'Overdue', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."purchase_invoices_invoicetype_enum" AS ENUM('Standard', 'Debit Note', 'Credit Note', 'Advance', 'Final')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."purchase_invoices_matchingstatus_enum" AS ENUM('Not Matched', '2-Way Matched', '3-Way Matched', 'Quantity Mismatch', 'Price Mismatch', 'Amount Mismatch', 'Tolerance Exceeded')`);
        await queryRunner.query(`CREATE TABLE "purchase_invoices" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "internalInvoiceNumber" character varying(50) NOT NULL, "vendorInvoiceNumber" character varying(50) NOT NULL, "invoiceDate" date NOT NULL, "dueDate" date NOT NULL, "receivedDate" date, "status" "kreupai_fbpa_dev"."purchase_invoices_status_enum" NOT NULL DEFAULT 'Draft', "invoiceType" "kreupai_fbpa_dev"."purchase_invoices_invoicetype_enum" NOT NULL DEFAULT 'Standard', "purchaseOrderId" character varying, "purchaseOrderNumber" character varying(50), "purchaseOrderDate" date, "goodsReceipts" json, "vendorId" character varying NOT NULL, "vendorName" character varying(255) NOT NULL, "vendorCode" character varying(50) NOT NULL, "vendorAddress" text, "vendorGSTIN" character varying(50), "vendorPAN" character varying(50), "items" json NOT NULL, "currency" character varying(3) NOT NULL DEFAULT 'INR', "exchangeRate" numeric(10,4) NOT NULL DEFAULT '1', "subtotal" numeric(15,2) NOT NULL DEFAULT '0', "discountAmount" numeric(15,2) NOT NULL DEFAULT '0', "discountPercentage" numeric(5,2) NOT NULL DEFAULT '0', "taxableAmount" numeric(15,2) NOT NULL DEFAULT '0', "cgstAmount" numeric(15,2) NOT NULL DEFAULT '0', "sgstAmount" numeric(15,2) NOT NULL DEFAULT '0', "igstAmount" numeric(15,2) NOT NULL DEFAULT '0', "cessAmount" numeric(15,2) NOT NULL DEFAULT '0', "totalTaxAmount" numeric(15,2) NOT NULL DEFAULT '0', "tcsAmount" numeric(15,2) NOT NULL DEFAULT '0', "tdsAmount" numeric(15,2) NOT NULL DEFAULT '0', "shippingCharges" numeric(15,2) NOT NULL DEFAULT '0', "otherCharges" numeric(15,2) NOT NULL DEFAULT '0', "roundOffAmount" numeric(15,2) NOT NULL DEFAULT '0', "totalAmount" numeric(15,2) NOT NULL DEFAULT '0', "paidAmount" numeric(15,2) NOT NULL DEFAULT '0', "balanceAmount" numeric(15,2) NOT NULL DEFAULT '0', "matchingStatus" "kreupai_fbpa_dev"."purchase_invoices_matchingstatus_enum" NOT NULL DEFAULT 'Not Matched', "isMatched" boolean NOT NULL DEFAULT false, "matchedAt" TIMESTAMP, "matchedBy" character varying(100), "matchingDetails" json, "matchingExceptions" json, "isApproved" boolean NOT NULL DEFAULT false, "approvedBy" character varying(100), "approverName" character varying(255), "approvedAt" TIMESTAMP, "approvalNotes" text, "rejectedBy" character varying(100), "rejectedAt" TIMESTAMP, "rejectionReason" text, "paymentTerms" character varying(100), "paymentTermsDays" integer NOT NULL DEFAULT '30', "payments" json, "lastPaymentDate" date, "isPostedToAccounting" boolean NOT NULL DEFAULT false, "accountingPostedAt" TIMESTAMP, "accountingPostedBy" character varying(100), "journalEntryId" character varying, "journalEntryNumber" character varying(50), "placeOfSupply" character varying(100), "isReverseCharge" boolean NOT NULL DEFAULT false, "isImportInvoice" boolean NOT NULL DEFAULT false, "billOfEntryNumber" character varying(100), "billOfEntryDate" date, "notes" text, "internalRemarks" text, "customFields" json, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_3964fc92283e086f9c9438ecf54" UNIQUE ("internalInvoiceNumber"), CONSTRAINT "PK_efa8a22a9bf7685952deba65c30" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."goods_receipt_items_status_enum" AS ENUM('Pending Inspection', 'Under Inspection', 'Accepted', 'Rejected', 'Partially Accepted', 'Returned')`);
        await queryRunner.query(`CREATE TABLE "goods_receipt_items" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "goodsReceiptId" uuid NOT NULL, "lineNumber" integer NOT NULL, "status" "kreupai_fbpa_dev"."goods_receipt_items_status_enum" NOT NULL DEFAULT 'Pending Inspection', "purchaseOrderItemId" character varying, "poLineNumber" integer, "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "description" text, "uom" character varying(50) NOT NULL, "specification" text, "orderedQuantity" numeric(15,3) NOT NULL DEFAULT '0', "receivedQuantity" numeric(15,3) NOT NULL, "acceptedQuantity" numeric(15,3) NOT NULL DEFAULT '0', "rejectedQuantity" numeric(15,3) NOT NULL DEFAULT '0', "shortageQuantity" numeric(15,3) NOT NULL DEFAULT '0', "excessQuantity" numeric(15,3) NOT NULL DEFAULT '0', "unitPrice" numeric(15,2) NOT NULL, "lineTotal" numeric(15,2) NOT NULL, "taxAmount" numeric(15,2) NOT NULL DEFAULT '0', "totalAmount" numeric(15,2) NOT NULL, "batchNumber" text, "serialNumber" text, "manufacturingDate" date, "expiryDate" date, "packingCondition" text, "isDamaged" boolean NOT NULL DEFAULT false, "damageRemarks" text, "requiresQualityCheck" boolean NOT NULL DEFAULT false, "qualityCheckCompleted" boolean NOT NULL DEFAULT false, "qualityCheckPassed" boolean NOT NULL DEFAULT false, "qualityCheckRemarks" text, "inspectedBy" character varying(100), "inspectedAt" TIMESTAMP, "qualityParameters" json, "warehouseId" character varying(100), "warehouseName" character varying(255), "binLocation" character varying(100), "rackNumber" character varying(100), "accountCode" character varying(100), "costCenter" character varying(100), "project" character varying(100), "rejectionReason" text, "rejectionCode" character varying(100), "disposalInstructions" text, "isReturnedToVendor" boolean NOT NULL DEFAULT false, "purchaseReturnId" character varying, "purchaseReturnNumber" character varying(50), "isPostedToInventory" boolean NOT NULL DEFAULT false, "inventoryTransactionId" character varying, "inventoryPostedAt" TIMESTAMP, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_3773489ac01faa49777eed0a14f" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."goods_receipts_status_enum" AS ENUM('Draft', 'Submitted', 'Quality Check Pending', 'Quality Check Passed', 'Quality Check Failed', 'Partially Accepted', 'Accepted', 'Rejected', 'Posted', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."goods_receipts_grntype_enum" AS ENUM('Against PO', 'Without PO', 'Return From Production', 'Sample', 'Free of Cost')`);
        await queryRunner.query(`CREATE TABLE "goods_receipts" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "grnNumber" character varying(50) NOT NULL, "grnDate" date NOT NULL, "receiptDateTime" TIMESTAMP NOT NULL, "status" "kreupai_fbpa_dev"."goods_receipts_status_enum" NOT NULL DEFAULT 'Draft', "grnType" "kreupai_fbpa_dev"."goods_receipts_grntype_enum" NOT NULL DEFAULT 'Against PO', "purchaseOrderId" character varying, "purchaseOrderNumber" character varying(50), "purchaseOrderDate" date, "vendorId" character varying NOT NULL, "vendorName" character varying(255) NOT NULL, "vendorCode" character varying(50) NOT NULL, "vendorAddress" text, "deliveryNoteNumber" character varying(100), "deliveryNoteDate" date, "vehicleNumber" character varying(100), "driverName" character varying(100), "driverPhone" character varying(50), "transporterName" character varying(100), "lrNumber" character varying(100), "lrDate" date, "eWayBillNumber" character varying(100), "warehouseId" character varying(100) NOT NULL, "warehouseName" character varying(255) NOT NULL, "receivingLocation" character varying(100), "receivingAddress" text, "receivedBy" character varying(100) NOT NULL, "receivedByName" character varying(255) NOT NULL, "inspectedBy" character varying(100), "inspectedByName" character varying(255), "inspectionDateTime" TIMESTAMP, "currency" character varying(3) NOT NULL DEFAULT 'INR', "totalOrderedAmount" numeric(15,2) NOT NULL DEFAULT '0', "totalReceivedAmount" numeric(15,2) NOT NULL DEFAULT '0', "totalAcceptedAmount" numeric(15,2) NOT NULL DEFAULT '0', "totalRejectedAmount" numeric(15,2) NOT NULL DEFAULT '0', "requiresQualityCheck" boolean NOT NULL DEFAULT false, "qualityCheckCompleted" boolean NOT NULL DEFAULT false, "qualityCheckPassed" boolean NOT NULL DEFAULT false, "qualityCheckRemarks" text, "qualityCheckResults" json, "isPostedToInventory" boolean NOT NULL DEFAULT false, "inventoryPostedAt" TIMESTAMP, "inventoryPostedBy" character varying(100), "inventoryTransactions" json, "isPostedToAccounting" boolean NOT NULL DEFAULT false, "accountingPostedAt" TIMESTAMP, "accountingPostedBy" character varying(100), "journalEntryId" character varying, "journalEntryNumber" character varying(50), "notes" text, "remarks" text, "customFields" json, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_a4bea96567327d364aadf77859f" UNIQUE ("grnNumber"), CONSTRAINT "PK_f8cac411be0211f923e1be8534f" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_drivers_status_enum" AS ENUM('Active', 'Inactive', 'On Trip', 'On Leave', 'Suspended', 'Terminated')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_drivers_licensetype_enum" AS ENUM('Light Motor Vehicle (LMV)', 'Heavy Motor Vehicle (HMV)', 'Heavy Goods Motor Vehicle (HGMV)', 'Heavy Passenger Motor Vehicle (HPMV)', 'Motorcycle With Gear (MCWG)', 'Motorcycle Without Gear (MCWOG)')`);
        await queryRunner.query(`CREATE TABLE "logistics_drivers" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "driverCode" character varying(50) NOT NULL, "employeeId" character varying, "firstName" character varying(100) NOT NULL, "middleName" character varying(100), "lastName" character varying(100) NOT NULL, "fullName" character varying(200) NOT NULL, "status" "kreupai_fbpa_dev"."logistics_drivers_status_enum" NOT NULL DEFAULT 'Active', "dateOfBirth" date NOT NULL, "gender" character varying(50) NOT NULL, "bloodGroup" character varying(50), "nationality" character varying(100), "email" character varying(100) NOT NULL, "mobileNumber" character varying(20) NOT NULL, "alternateNumber" character varying(20), "currentAddress" text NOT NULL, "city" character varying(100), "state" character varying(100), "postalCode" character varying(20), "country" character varying(100), "licenseNumber" character varying(50) NOT NULL, "licenseType" "kreupai_fbpa_dev"."logistics_drivers_licensetype_enum" NOT NULL, "licenseIssueDate" date NOT NULL, "licenseExpiryDate" date NOT NULL, "licensingAuthority" character varying(100), "additionalLicenseTypes" text, "hasInternationalLicense" boolean NOT NULL DEFAULT false, "internationalLicenseNumber" character varying(50), "internationalLicenseExpiry" date, "joiningDate" date NOT NULL, "transportCompanyId" character varying, "transportCompanyName" character varying(200), "employmentType" character varying(100), "assignedWarehouseId" character varying, "assignedWarehouseName" character varying(200), "currentVehicleId" character varying, "currentVehicleNumber" character varying(100), "experienceYears" integer NOT NULL, "trainingCertificates" json, "specializations" text, "totalTrips" integer NOT NULL DEFAULT '0', "totalDistanceCovered" numeric(15,2) NOT NULL DEFAULT '0', "distanceUnit" character varying(50) NOT NULL DEFAULT 'km', "accidentCount" integer NOT NULL DEFAULT '0', "trafficViolationCount" integer NOT NULL DEFAULT '0', "safetyRating" numeric(5,2) NOT NULL DEFAULT '5', "lastMedicalCheckupDate" date, "nextMedicalCheckupDate" date, "isMedicallyFit" boolean NOT NULL DEFAULT true, "medicalConditions" json, "aadharNumber" character varying(50), "panNumber" character varying(50), "passportNumber" character varying(50), "passportExpiryDate" date, "emergencyContactName" character varying(100), "emergencyContactRelation" character varying(50), "emergencyContactPhone" character varying(20), "performanceRating" numeric(5,2), "onTimeDeliveryRate" numeric(5,2), "averageFuelEfficiency" numeric(10,2), "customerComplaintCount" integer, "customerComplimentCount" integer, "basicSalary" numeric(15,2), "perTripAllowance" numeric(15,2), "perKmAllowance" numeric(15,2), "currency" character varying(10) NOT NULL DEFAULT 'INR', "bankName" character varying(100), "accountNumber" character varying(50), "ifscCode" character varying(50), "isAvailable" boolean NOT NULL DEFAULT true, "currentTripId" character varying, "workingHours" json, "notes" text, "remarks" text, "customFields" json, "documents" json, "profilePhotoUrl" text, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_33f92c0e02aca635d9c68177774" UNIQUE ("driverCode"), CONSTRAINT "UQ_b872e3d76091566357df1ea22c4" UNIQUE ("email"), CONSTRAINT "UQ_8101273f79ecd06dee5548731bc" UNIQUE ("mobileNumber"), CONSTRAINT "UQ_5c4a40d29f1f2d5f5a95068657f" UNIQUE ("licenseNumber"), CONSTRAINT "PK_d5e4da3a4c5958cc9a5d5e62302" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_routes_routetype_enum" AS ENUM('Direct', 'Multi-stop', 'Circular', 'Scheduled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_routes_status_enum" AS ENUM('Active', 'Inactive', 'Under Construction', 'Blocked')`);
        await queryRunner.query(`CREATE TABLE "logistics_routes" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "routeCode" character varying(50) NOT NULL, "routeName" character varying(200) NOT NULL, "routeType" "kreupai_fbpa_dev"."logistics_routes_routetype_enum" NOT NULL DEFAULT 'Direct', "status" "kreupai_fbpa_dev"."logistics_routes_status_enum" NOT NULL DEFAULT 'Active', "originName" character varying(200) NOT NULL, "originAddress" text NOT NULL, "originCity" character varying(100), "originState" character varying(100), "originPostalCode" character varying(20), "originCountry" character varying(100), "originLatitude" numeric(10,8), "originLongitude" numeric(11,8), "destinationName" character varying(200) NOT NULL, "destinationAddress" text NOT NULL, "destinationCity" character varying(100), "destinationState" character varying(100), "destinationPostalCode" character varying(20), "destinationCountry" character varying(100), "destinationLatitude" numeric(10,8), "destinationLongitude" numeric(11,8), "totalDistance" numeric(10,2) NOT NULL, "distanceUnit" character varying(50) NOT NULL DEFAULT 'km', "estimatedDurationMinutes" integer NOT NULL, "numberOfStops" integer NOT NULL DEFAULT '0', "stops" json, "roadTypes" text, "surfaceCondition" character varying(100), "hasTollPlaza" boolean NOT NULL DEFAULT false, "numberOfTollPlazas" integer NOT NULL DEFAULT '0', "estimatedTollCharges" numeric(15,2) NOT NULL DEFAULT '0', "tollPlazas" json, "trafficDensity" character varying(100), "peakHours" text, "restrictedHours" text, "vehicleRestrictions" text, "requiresSpecialPermit" boolean NOT NULL DEFAULT false, "permitDetails" text, "weatherChallenges" text, "safetyHazards" text, "accidentProneZones" integer, "safetyRating" numeric(5,2), "restStops" json, "fuelStations" json, "isOptimized" boolean NOT NULL DEFAULT false, "lastOptimizedAt" TIMESTAMP, "alternativeRoutes" json, "estimatedFuelCost" numeric(15,2), "estimatedDriverCost" numeric(15,2), "estimatedMaintenanceCost" numeric(15,2), "estimatedTotalCost" numeric(15,2), "currency" character varying(10) NOT NULL DEFAULT 'INR', "totalTripsCompleted" integer NOT NULL DEFAULT '0', "lastUsedDate" date, "averageActualDuration" numeric(10,2), "onTimePercentage" numeric(5,2), "description" text, "notes" text, "specialInstructions" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_c296e4099665f5eeba546f99280" UNIQUE ("routeCode"), CONSTRAINT "PK_afe79adb12b359448b278f0d855" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_shipment_items_status_enum" AS ENUM('Pending', 'Picked', 'Packed', 'Shipped', 'Delivered', 'Damaged', 'Returned')`);
        await queryRunner.query(`CREATE TABLE "logistics_shipment_items" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "shipmentId" uuid NOT NULL, "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(200) NOT NULL, "itemDescription" text, "itemCategory" character varying(100), "sourceDocumentType" character varying, "sourceDocumentId" character varying, "sourceDocumentLineId" character varying, "orderedQuantity" numeric(15,3) NOT NULL, "shippedQuantity" numeric(15,3) NOT NULL, "deliveredQuantity" numeric(15,3) NOT NULL DEFAULT '0', "damagedQuantity" numeric(15,3) NOT NULL DEFAULT '0', "returnedQuantity" numeric(15,3) NOT NULL DEFAULT '0', "unit" character varying(50) NOT NULL, "batchNumber" character varying(100), "serialNumbers" text, "expiryDate" date, "numberOfPackages" integer NOT NULL DEFAULT '1', "weight" numeric(15,3), "weightUnit" character varying(50) NOT NULL DEFAULT 'kg', "volume" numeric(15,3), "volumeUnit" character varying(50), "length" numeric(10,2), "width" numeric(10,2), "height" numeric(10,2), "dimensionUnit" character varying(50) NOT NULL DEFAULT 'cm', "unitPrice" numeric(15,2) NOT NULL DEFAULT '0', "lineTotal" numeric(15,2) NOT NULL DEFAULT '0', "currency" character varying(10) NOT NULL DEFAULT 'INR', "warehouseId" character varying, "warehouseName" character varying(200), "locationId" character varying, "locationName" character varying(200), "status" "kreupai_fbpa_dev"."logistics_shipment_items_status_enum" NOT NULL DEFAULT 'Pending', "isFragile" boolean NOT NULL DEFAULT false, "isHazardous" boolean NOT NULL DEFAULT false, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_1fdda53fd59f9ce912f1896a0fb" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_delivery_notes_status_enum" AS ENUM('Draft', 'Submitted', 'In Transit', 'Delivered', 'Partially Delivered', 'Rejected', 'Cancelled')`);
        await queryRunner.query(`CREATE TABLE "logistics_delivery_notes" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "deliveryNoteNumber" character varying(50) NOT NULL, "referenceNumber" character varying(100), "shipmentId" uuid, "salesOrderId" character varying, "salesOrderNumber" character varying(100), "invoiceId" character varying, "invoiceNumber" character varying(100), "status" "kreupai_fbpa_dev"."logistics_delivery_notes_status_enum" NOT NULL DEFAULT 'Draft', "customerId" character varying, "customerName" character varying(200) NOT NULL, "customerAddress" text, "customerCity" character varying(100), "customerState" character varying(100), "customerPostalCode" character varying(20), "customerCountry" character varying(100), "contactPerson" character varying(100), "contactPhone" character varying(20), "contactEmail" character varying(100), "deliveryDate" date NOT NULL, "warehouseId" character varying, "warehouseName" character varying(200), "transportCompanyId" character varying, "transportCompanyName" character varying(200), "vehicleId" character varying, "vehicleNumber" character varying(100), "driverId" character varying, "driverName" character varying(100), "driverPhone" character varying(20), "lrNumber" character varying(100), "lrDate" date, "ewayBillNumber" character varying(100), "ewayBillDate" date, "totalPackages" integer NOT NULL DEFAULT '0', "totalWeight" numeric(15,3) NOT NULL DEFAULT '0', "weightUnit" character varying(50) NOT NULL DEFAULT 'kg', "totalVolume" numeric(15,3), "volumeUnit" character varying(50), "items" json NOT NULL, "actualDeliveryDate" TIMESTAMP, "receivedByName" character varying(200), "receivedByDesignation" character varying(100), "receiverSignatureUrl" text, "deliveryPhotos" json, "deliveryRemarks" text, "rejectionReason" text, "termsAndConditions" text, "notes" text, "remarks" text, "customFields" json, "documents" json, "isApproved" boolean NOT NULL DEFAULT false, "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_195721298031aa8aa24e1cbcef4" UNIQUE ("deliveryNoteNumber"), CONSTRAINT "PK_98d8d451786b21a998b1b2c0e4f" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_tracking_events_eventtype_enum" AS ENUM('Shipment Created', 'Pickup Scheduled', 'Picked Up', 'Dispatched', 'In Transit', 'Out for Delivery', 'Delivery Attempted', 'Delivered', 'Delayed', 'On Hold', 'Exception', 'Returned', 'Cancelled', 'Checkpoint Reached', 'Location Update', 'Customs Clearance', 'Warehouse Arrival', 'Warehouse Departure')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_tracking_events_severity_enum" AS ENUM('Info', 'Warning', 'Error', 'Critical')`);
        await queryRunner.query(`CREATE TABLE "logistics_tracking_events" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "eventNumber" character varying(50) NOT NULL, "eventType" "kreupai_fbpa_dev"."logistics_tracking_events_eventtype_enum" NOT NULL, "severity" "kreupai_fbpa_dev"."logistics_tracking_events_severity_enum" NOT NULL DEFAULT 'Info', "shipmentId" uuid, "tripId" uuid, "locationName" character varying(200), "locationAddress" text, "city" character varying(100), "state" character varying(100), "country" character varying(100), "latitude" numeric(10,8), "longitude" numeric(11,8), "eventTimestamp" TIMESTAMP NOT NULL, "plannedTimestamp" TIMESTAMP, "delayMinutes" integer, "description" text NOT NULL, "additionalDetails" text, "status" character varying(100), "previousStatus" character varying(100), "vehicleId" character varying, "vehicleNumber" character varying(100), "driverId" character varying, "driverName" character varying(100), "checkpointName" character varying(200), "checkpointSequence" integer, "isPlannedCheckpoint" boolean NOT NULL DEFAULT false, "isException" boolean NOT NULL DEFAULT false, "exceptionType" character varying(100), "exceptionReason" text, "resolutionAction" text, "isResolved" boolean NOT NULL DEFAULT false, "resolvedAt" TIMESTAMP, "receivedByName" character varying(200), "receivedByDesignation" character varying(100), "signatureUrl" text, "photos" json, "gpsDeviceId" character varying(100), "speed" numeric(10,2), "direction" character varying(50), "altitude" numeric(10,2), "accuracy" numeric(5,2), "weatherCondition" character varying(100), "temperature" numeric(5,2), "humidity" numeric(5,2), "isAutomated" boolean NOT NULL DEFAULT false, "dataSource" character varying(100), "recordedBy" character varying(100), "recordedById" character varying, "isCustomerNotified" boolean NOT NULL DEFAULT false, "customerNotifiedAt" TIMESTAMP, "notificationChannel" character varying(100), "deviceId" character varying(100), "appVersion" character varying(100), "ipAddress" character varying(50), "metadata" json, "notes" text, "createdBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_60195d3e2b6ba671136c99f8cf9" UNIQUE ("eventNumber"), CONSTRAINT "PK_4e52345e1c5a025ab0af05cacc1" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_freight_charges_chargetype_enum" AS ENUM('Base Freight', 'Fuel Surcharge', 'Handling', 'Loading', 'Unloading', 'Insurance', 'Packaging', 'Documentation', 'Customs Clearance', 'Toll', 'Parking', 'Storage', 'Detention', 'Demurrage', 'Special Handling', 'COD Charges', 'Return Charges', 'Weight Charges', 'Distance Charges', 'Volumetric Charges', 'Other')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_freight_charges_calculationmethod_enum" AS ENUM('Flat Rate', 'Per Kg', 'Per Km', 'Per Package', 'Per Hour', 'Per Day', 'Percentage', 'Slab Rate')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_freight_charges_taxtype_enum" AS ENUM('GST', 'IGST', 'CGST+SGST', 'VAT', 'Service Tax', 'None')`);
        await queryRunner.query(`CREATE TABLE "logistics_freight_charges" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "shipmentId" uuid, "tripId" character varying, "referenceNumber" character varying(100), "chargeType" "kreupai_fbpa_dev"."logistics_freight_charges_chargetype_enum" NOT NULL, "chargeName" character varying(200) NOT NULL, "description" text, "calculationMethod" "kreupai_fbpa_dev"."logistics_freight_charges_calculationmethod_enum" NOT NULL DEFAULT 'Flat Rate', "quantity" numeric(15,3), "unit" character varying(50), "rate" numeric(15,4), "baseAmount" numeric(15,2) NOT NULL DEFAULT '0', "slabRates" json, "discountPercentage" numeric(5,2) NOT NULL DEFAULT '0', "discountAmount" numeric(15,2) NOT NULL DEFAULT '0', "amountAfterDiscount" numeric(15,2) NOT NULL DEFAULT '0', "taxType" "kreupai_fbpa_dev"."logistics_freight_charges_taxtype_enum" NOT NULL DEFAULT 'GST', "taxPercentage" numeric(5,2) NOT NULL DEFAULT '0', "taxAmount" numeric(15,2) NOT NULL DEFAULT '0', "cgstPercentage" numeric(5,2), "cgstAmount" numeric(15,2), "sgstPercentage" numeric(5,2), "sgstAmount" numeric(15,2), "igstPercentage" numeric(5,2), "igstAmount" numeric(15,2), "totalAmount" numeric(15,2) NOT NULL DEFAULT '0', "currency" character varying(10) NOT NULL DEFAULT 'INR', "payableBy" character varying(100), "payerId" character varying, "payerName" character varying(200), "isPaid" boolean NOT NULL DEFAULT false, "paymentDueDate" date, "paidAt" TIMESTAMP, "paymentReferenceNumber" character varying(100), "serviceProviderId" character varying, "serviceProviderName" character varying(200), "transportCompanyId" character varying, "transportCompanyName" character varying(200), "invoiceId" character varying, "invoiceNumber" character varying(100), "invoiceDate" date, "billingDocumentNumber" character varying(100), "isAutoCalculated" boolean NOT NULL DEFAULT false, "isApplicable" boolean NOT NULL DEFAULT true, "isMandatory" boolean NOT NULL DEFAULT false, "isEditable" boolean NOT NULL DEFAULT true, "applicabilityConditions" json, "appliedOn" character varying(200), "minimumCharge" numeric(15,3), "maximumCharge" numeric(15,3), "requiresApproval" boolean NOT NULL DEFAULT false, "isApproved" boolean NOT NULL DEFAULT false, "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "notes" text, "remarks" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_635f332005ccee2aa1ce321a320" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_shipments_shipmenttype_enum" AS ENUM('Inbound', 'Outbound', 'Inter-warehouse', 'Return', 'Customer Delivery', 'Supplier Delivery')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_shipments_status_enum" AS ENUM('Draft', 'Confirmed', 'Dispatched', 'In Transit', 'Out for Delivery', 'Delivered', 'Partially Delivered', 'Failed', 'Cancelled', 'Returned')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_shipments_priority_enum" AS ENUM('Low', 'Normal', 'High', 'Urgent')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_shipments_shipmentmode_enum" AS ENUM('Road', 'Rail', 'Air', 'Sea', 'Courier', 'Multimodal')`);
        await queryRunner.query(`CREATE TABLE "logistics_shipments" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "shipmentNumber" character varying(50) NOT NULL, "referenceNumber" character varying(100), "trackingNumber" character varying(100), "shipmentType" "kreupai_fbpa_dev"."logistics_shipments_shipmenttype_enum" NOT NULL DEFAULT 'Outbound', "status" "kreupai_fbpa_dev"."logistics_shipments_status_enum" NOT NULL DEFAULT 'Draft', "priority" "kreupai_fbpa_dev"."logistics_shipments_priority_enum" NOT NULL DEFAULT 'Normal', "shipmentMode" "kreupai_fbpa_dev"."logistics_shipments_shipmentmode_enum" NOT NULL DEFAULT 'Road', "originType" character varying, "originId" character varying, "originName" character varying(200), "originAddress" text, "originCity" character varying(100), "originState" character varying(100), "originPostalCode" character varying(20), "originCountry" character varying(100), "originContactPerson" character varying(100), "originContactPhone" character varying(20), "destinationType" character varying, "destinationId" character varying, "destinationName" character varying(200), "destinationAddress" text, "destinationCity" character varying(100), "destinationState" character varying(100), "destinationPostalCode" character varying(20), "destinationCountry" character varying(100), "destinationContactPerson" character varying(100), "destinationContactPhone" character varying(20), "salesOrderId" character varying, "purchaseOrderId" character varying, "deliveryNoteId" character varying, "tripId" uuid, "transportCompanyId" character varying, "transportCompanyName" character varying(200), "vehicleId" character varying, "driverId" character varying, "routeId" character varying, "totalPackages" integer NOT NULL DEFAULT '0', "totalWeight" numeric(15,3) NOT NULL DEFAULT '0', "weightUnit" character varying(50) NOT NULL DEFAULT 'kg', "totalVolume" numeric(15,3), "volumeUnit" character varying(50), "declaredValue" numeric(15,3), "currency" character varying(10) NOT NULL DEFAULT 'INR', "packageTypes" text, "plannedPickupDate" TIMESTAMP, "actualPickupDate" TIMESTAMP, "plannedDeliveryDate" TIMESTAMP, "estimatedDeliveryDate" TIMESTAMP, "actualDeliveryDate" TIMESTAMP, "dispatchedDate" TIMESTAMP, "estimatedDistance" numeric(10,2), "actualDistance" numeric(10,2), "distanceUnit" character varying(50) NOT NULL DEFAULT 'km', "estimatedDurationMinutes" integer, "actualDurationMinutes" integer, "freightCharges" numeric(15,2) NOT NULL DEFAULT '0', "insuranceCharges" numeric(15,2) NOT NULL DEFAULT '0', "packagingCharges" numeric(15,2) NOT NULL DEFAULT '0', "handlingCharges" numeric(15,2) NOT NULL DEFAULT '0', "otherCharges" numeric(15,2) NOT NULL DEFAULT '0', "taxAmount" numeric(15,2) NOT NULL DEFAULT '0', "totalAmount" numeric(15,2) NOT NULL DEFAULT '0', "isFragile" boolean NOT NULL DEFAULT false, "isPerishable" boolean NOT NULL DEFAULT false, "requiresRefrigeration" boolean NOT NULL DEFAULT false, "isHazardous" boolean NOT NULL DEFAULT false, "requiresInsurance" boolean NOT NULL DEFAULT false, "requiresSignature" boolean NOT NULL DEFAULT false, "specialInstructions" text, "handlingCodes" text, "deliveredToName" character varying(200), "deliveredToDesignation" character varying(100), "deliverySignatureUrl" text, "deliveryPhotos" json, "deliveryRemarks" text, "description" text, "notes" text, "cancellationReason" text, "customFields" json, "documents" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_3a2b770c0cfad878c4290c229c8" UNIQUE ("shipmentNumber"), CONSTRAINT "PK_9fb8870d4b366afed2211cb9a53" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_trips_triptype_enum" AS ENUM('Delivery', 'Pickup', 'Round Trip', 'Multi-drop', 'Empty Run')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_trips_status_enum" AS ENUM('Planned', 'Scheduled', 'In Progress', 'Completed', 'Cancelled', 'Delayed', 'On Hold')`);
        await queryRunner.query(`CREATE TABLE "logistics_trips" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "tripNumber" character varying(50) NOT NULL, "referenceNumber" character varying(100), "tripType" "kreupai_fbpa_dev"."logistics_trips_triptype_enum" NOT NULL DEFAULT 'Delivery', "status" "kreupai_fbpa_dev"."logistics_trips_status_enum" NOT NULL DEFAULT 'Planned', "vehicleId" uuid NOT NULL, "driverId" uuid NOT NULL, "coDriverId" character varying, "coDriverName" character varying(100), "routeId" uuid, "originName" character varying(200) NOT NULL, "originAddress" text NOT NULL, "originCity" character varying(100), "originState" character varying(100), "originLatitude" numeric(10,8), "originLongitude" numeric(11,8), "destinationName" character varying(200) NOT NULL, "destinationAddress" text NOT NULL, "destinationCity" character varying(100), "destinationState" character varying(100), "destinationLatitude" numeric(10,8), "destinationLongitude" numeric(11,8), "plannedStartTime" TIMESTAMP NOT NULL, "actualStartTime" TIMESTAMP, "plannedEndTime" TIMESTAMP NOT NULL, "actualEndTime" TIMESTAMP, "estimatedDurationMinutes" integer NOT NULL, "actualDurationMinutes" integer, "plannedDistance" numeric(10,2) NOT NULL, "actualDistance" numeric(10,2), "distanceUnit" character varying(50) NOT NULL DEFAULT 'km', "odometerStart" integer, "odometerEnd" integer, "loadWeight" numeric(15,3) NOT NULL DEFAULT '0', "weightUnit" character varying(50) NOT NULL DEFAULT 'kg', "loadVolume" numeric(15,3), "volumeUnit" character varying(50), "numberOfShipments" integer NOT NULL DEFAULT '0', "numberOfStops" integer NOT NULL DEFAULT '0', "stops" json, "fuelAtStart" numeric(10,2), "fuelAtEnd" numeric(10,2), "fuelConsumed" numeric(10,2), "fuelCost" numeric(15,2) NOT NULL DEFAULT '0', "tollCharges" numeric(15,2) NOT NULL DEFAULT '0', "parkingCharges" numeric(15,2) NOT NULL DEFAULT '0', "maintenanceCost" numeric(15,2) NOT NULL DEFAULT '0', "driverAllowance" numeric(15,2) NOT NULL DEFAULT '0', "otherExpenses" numeric(15,2) NOT NULL DEFAULT '0', "totalExpenses" numeric(15,2) NOT NULL DEFAULT '0', "currency" character varying(10) NOT NULL DEFAULT 'INR', "expenseDetails" json, "averageSpeed" numeric(10,2), "fuelEfficiency" numeric(10,2), "delayMinutes" integer, "delayReason" text, "isOnTime" boolean NOT NULL DEFAULT false, "currentLatitude" numeric(10,8), "currentLongitude" numeric(11,8), "lastLocationUpdateAt" TIMESTAMP, "completionPercentage" numeric(10,2), "incidents" json, "incidentCount" integer NOT NULL DEFAULT '0', "isDeliveryConfirmed" boolean NOT NULL DEFAULT false, "deliverySignatureUrl" text, "deliveryPhotos" json, "deliveredToName" character varying(200), "deliveryNotes" text, "description" text, "notes" text, "cancellationReason" text, "customFields" json, "documents" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_fcfde39af39a0a1d8eea86d2c01" UNIQUE ("tripNumber"), CONSTRAINT "PK_d1b505576b85b6e0cac7a4c4bc9" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_vehicles_vehicletype_enum" AS ENUM('Truck', 'Van', 'Pickup', 'Trailer', 'Container', 'Tanker', 'Refrigerated', 'Flatbed', 'Motorcycle', 'Bicycle')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_vehicles_status_enum" AS ENUM('Active', 'Inactive', 'In Service', 'Under Maintenance', 'Breakdown', 'Retired')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_vehicles_ownershiptype_enum" AS ENUM('Own', 'Leased', 'Rented', 'Contracted')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_vehicles_fueltype_enum" AS ENUM('Petrol', 'Diesel', 'CNG', 'LPG', 'Electric', 'Hybrid')`);
        await queryRunner.query(`CREATE TABLE "logistics_vehicles" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "vehicleCode" character varying(50) NOT NULL, "registrationNumber" character varying(50) NOT NULL, "vehicleName" character varying(100) NOT NULL, "vehicleType" "kreupai_fbpa_dev"."logistics_vehicles_vehicletype_enum" NOT NULL DEFAULT 'Truck', "status" "kreupai_fbpa_dev"."logistics_vehicles_status_enum" NOT NULL DEFAULT 'Active', "ownershipType" "kreupai_fbpa_dev"."logistics_vehicles_ownershiptype_enum" NOT NULL DEFAULT 'Own', "make" character varying(100) NOT NULL, "model" character varying(100) NOT NULL, "year" integer NOT NULL, "color" character varying(50), "chassisNumber" character varying(50), "engineNumber" character varying(50), "fuelType" "kreupai_fbpa_dev"."logistics_vehicles_fueltype_enum" NOT NULL DEFAULT 'Diesel', "loadCapacity" numeric(15,3) NOT NULL, "capacityUnit" character varying(50) NOT NULL DEFAULT 'kg', "volumeCapacity" numeric(15,3), "volumeUnit" character varying(50), "numberOfSeats" integer, "length" numeric(10,2), "width" numeric(10,2), "height" numeric(10,2), "dimensionUnit" character varying(50) NOT NULL DEFAULT 'meters', "registrationDate" date NOT NULL, "registrationExpiryDate" date NOT NULL, "insuranceCompany" character varying(100), "insurancePolicyNumber" character varying(100), "insuranceExpiryDate" date, "insuranceAmount" numeric(15,2), "pollutionCertificateNumber" character varying(100), "pollutionCertificateExpiry" date, "fitnesseCertificateNumber" character varying(100), "fitnessCertificateExpiry" date, "roadTaxReceiptNumber" character varying(100), "roadTaxExpiry" date, "permitNumber" character varying(100), "permitExpiry" date, "hasGpsTracking" boolean NOT NULL DEFAULT false, "gpsDeviceId" character varying(100), "gpsProvider" character varying(200), "lastKnownLatitude" numeric(10,8), "lastKnownLongitude" numeric(11,8), "lastLocationUpdateAt" TIMESTAMP, "currentOdometerReading" integer NOT NULL DEFAULT '0', "lastServiceDate" date, "nextServiceDate" date, "serviceIntervalKm" integer, "maintenanceHistory" json, "transportCompanyId" character varying, "transportCompanyName" character varying(200), "currentDriverId" character varying, "currentDriverName" character varying(100), "assignedToWarehouseId" character varying, "assignedToWarehouseName" character varying(200), "hasRefrigeration" boolean NOT NULL DEFAULT false, "hasTailLift" boolean NOT NULL DEFAULT false, "hasSecuritySystem" boolean NOT NULL DEFAULT false, "specialFeatures" text, "purchasePrice" numeric(15,2), "purchaseDate" date, "currentValue" numeric(15,2), "averageFuelConsumption" numeric(10,2), "monthlyMaintenanceCost" numeric(15,2), "currency" character varying(10) NOT NULL DEFAULT 'INR', "description" text, "notes" text, "customFields" json, "documents" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_c8247676df177c11c250630786e" UNIQUE ("vehicleCode"), CONSTRAINT "UQ_b40bb2ebbcd3c5fa131317d6dc8" UNIQUE ("registrationNumber"), CONSTRAINT "PK_175f9ba3cf18c7c1beaa63f52e9" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_transport_companies_companytype_enum" AS ENUM('Own Fleet', 'Third Party', 'Courier', 'Freight Forwarder', 'Shipping Line', 'Airline', 'Railway')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."logistics_transport_companies_status_enum" AS ENUM('Active', 'Inactive', 'Blacklisted', 'Suspended')`);
        await queryRunner.query(`CREATE TABLE "logistics_transport_companies" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "companyCode" character varying(50) NOT NULL, "companyName" character varying(200) NOT NULL, "legalName" character varying(200), "companyType" "kreupai_fbpa_dev"."logistics_transport_companies_companytype_enum" NOT NULL DEFAULT 'Third Party', "status" "kreupai_fbpa_dev"."logistics_transport_companies_status_enum" NOT NULL DEFAULT 'Active', "address" text NOT NULL, "addressLine2" character varying(100), "city" character varying(100) NOT NULL, "state" character varying(100) NOT NULL, "postalCode" character varying(20) NOT NULL, "country" character varying(100) NOT NULL, "email" character varying(100) NOT NULL, "phone" character varying(20) NOT NULL, "alternatePhone" character varying(20), "fax" character varying(20), "website" character varying(200), "contactPersonName" character varying(100) NOT NULL, "contactPersonDesignation" character varying(100), "contactPersonEmail" character varying(100) NOT NULL, "contactPersonPhone" character varying(20) NOT NULL, "additionalContacts" json, "registrationNumber" character varying(100), "incorporationDate" date, "gstNumber" character varying(100), "panNumber" character varying(100), "tanNumber" character varying(100), "iecCode" character varying(100), "serviceTypes" text NOT NULL, "serviceAreas" text, "specializations" text, "hasGpsTracking" boolean NOT NULL DEFAULT false, "providesInsurance" boolean NOT NULL DEFAULT false, "hasWarehouse" boolean NOT NULL DEFAULT false, "certifications" text, "numberOfVehicles" integer NOT NULL DEFAULT '0', "numberOfDrivers" integer NOT NULL DEFAULT '0', "fleetDetails" json, "totalCapacity" numeric(15,3), "capacityUnit" character varying(50), "operatingStates" text, "operatingCountries" text, "providesInternationalService" boolean NOT NULL DEFAULT false, "baseRate" numeric(10,2), "perKmRate" numeric(10,2), "perKgRate" numeric(10,2), "minimumCharges" numeric(10,2), "currency" character varying(10) NOT NULL DEFAULT 'INR', "rateCard" json, "paymentTerms" character varying(100), "creditDays" integer NOT NULL DEFAULT '0', "preferredPaymentMode" character varying(100), "bankName" character varying(100), "accountNumber" character varying(50), "ifscCode" character varying(50), "accountHolderName" character varying(100), "performanceRating" numeric(5,2), "totalShipmentsHandled" integer NOT NULL DEFAULT '0', "onTimeDeliveries" integer NOT NULL DEFAULT '0', "onTimeDeliveryRate" numeric(5,2), "damagedShipments" integer NOT NULL DEFAULT '0', "lostShipments" integer NOT NULL DEFAULT '0', "customerComplaints" integer NOT NULL DEFAULT '0', "totalBusinessValue" numeric(15,2) NOT NULL DEFAULT '0', "lastShipmentDate" date, "contractId" character varying, "contractNumber" character varying(100), "contractStartDate" date, "contractEndDate" date, "contractStatus" character varying(100), "contractTerms" text, "hasInsurance" boolean NOT NULL DEFAULT false, "insuranceCompany" character varying(200), "insurancePolicyNumber" character varying(100), "insuranceExpiryDate" date, "insuranceCoverage" numeric(15,2), "licenses" json, "complianceCertificates" json, "guaranteedDeliveryDays" integer, "expectedOnTimeRate" numeric(5,2), "maxDamageRate" numeric(5,2), "slaTerms" json, "description" text, "notes" text, "blacklistReason" text, "customFields" json, "documents" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_55433e4ab98f75f53c40f368d6f" UNIQUE ("companyCode"), CONSTRAINT "PK_7fc31acebdf9114e37e9ad94c3a" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_users_usertype_enum" AS ENUM('Internal', 'External', 'System', 'API')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_users_status_enum" AS ENUM('Active', 'Inactive', 'Suspended', 'Locked', 'Pending Activation')`);
        await queryRunner.query(`CREATE TABLE "it_users" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "username" character varying(50) NOT NULL, "email" character varying(100) NOT NULL, "passwordHash" character varying NOT NULL, "firstName" character varying(100) NOT NULL, "lastName" character varying(100) NOT NULL, "fullName" character varying(200) NOT NULL, "phoneNumber" character varying(20), "employeeId" character varying(50), "userType" "kreupai_fbpa_dev"."it_users_usertype_enum" NOT NULL DEFAULT 'Internal', "status" "kreupai_fbpa_dev"."it_users_status_enum" NOT NULL DEFAULT 'Pending Activation', "isSystemAdmin" boolean NOT NULL DEFAULT false, "profilePhotoUrl" character varying(500), "department" character varying(50), "designation" character varying(50), "location" character varying(100), "lastLoginAt" date, "lastLoginIp" character varying(50), "failedLoginAttempts" integer NOT NULL DEFAULT '0', "lockedUntil" TIMESTAMP, "passwordChangedAt" TIMESTAMP, "mustChangePassword" boolean NOT NULL DEFAULT false, "isEmailVerified" boolean NOT NULL DEFAULT true, "emailVerificationToken" character varying(100), "emailVerificationExpiry" TIMESTAMP, "passwordResetToken" character varying(100), "passwordResetExpiry" TIMESTAMP, "twoFactorEnabled" boolean NOT NULL DEFAULT true, "twoFactorSecret" character varying(100), "twoFactorBackupCodes" text, "preferences" jsonb, "metadata" jsonb, "activatedAt" TIMESTAMP, "activatedBy" character varying(100), "deactivatedAt" TIMESTAMP, "deactivatedBy" character varying(100), "deactivationReason" text, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_50b1b571a7b99e1e6433ce02ce3" UNIQUE ("username"), CONSTRAINT "UQ_922e27fb346497c98920042a841" UNIQUE ("email"), CONSTRAINT "PK_ebc99fa2a434ff63db7cbf83dff" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_93e5a208c32d3bb202cfc17f95" ON "it_users" ("status") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_922e27fb346497c98920042a84" ON "it_users" ("email") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_50b1b571a7b99e1e6433ce02ce" ON "it_users" ("username") `);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_user_sessions_status_enum" AS ENUM('Active', 'Expired', 'Terminated', 'Logged Out')`);
        await queryRunner.query(`CREATE TABLE "it_user_sessions" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "userId" uuid NOT NULL, "sessionToken" character varying(255) NOT NULL, "refreshToken" character varying(500), "status" "kreupai_fbpa_dev"."it_user_sessions_status_enum" NOT NULL DEFAULT 'Active', "ipAddress" character varying(50) NOT NULL, "userAgent" text, "device" character varying(100), "browser" character varying(100), "os" character varying(50), "location" character varying(100), "latitude" integer, "longitude" integer, "expiresAt" TIMESTAMP NOT NULL, "lastActivityAt" TIMESTAMP, "loggedOutAt" TIMESTAMP, "terminatedAt" TIMESTAMP, "terminatedBy" character varying(100), "terminationReason" text, "requestCount" integer NOT NULL DEFAULT '0', "metadata" jsonb, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_6d81fc8f68bb4ab2a5526768fae" UNIQUE ("sessionToken"), CONSTRAINT "PK_ef3d979336df97c3ee90bbd61a6" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_03d3b06843683fdd3494199035" ON "it_user_sessions" ("expiresAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_41b518d43965f3ec6921259f94" ON "it_user_sessions" ("status") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_6d81fc8f68bb4ab2a5526768fa" ON "it_user_sessions" ("sessionToken") `);
        await queryRunner.query(`CREATE INDEX "IDX_247c3f81da4d1157c597c199bc" ON "it_user_sessions" ("userId") `);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_password_history_changereason_enum" AS ENUM('User Initiated', 'Admin Reset', 'Password Expired', 'Security Policy', 'Compromised', 'First Login')`);
        await queryRunner.query(`CREATE TABLE "it_password_history" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "userId" uuid NOT NULL, "passwordHash" character varying NOT NULL, "changeReason" "kreupai_fbpa_dev"."it_password_history_changereason_enum" NOT NULL DEFAULT 'User Initiated', "changedByIp" character varying(50), "changedBy" character varying(100), "isTemporary" boolean NOT NULL DEFAULT false, "expiresAt" TIMESTAMP, "metadata" jsonb, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_94275c8c9bf4bd849033720aeca" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_25ba195e9883da8341f4ef8e23" ON "it_password_history" ("createdAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_a99a4e2dbd624e8b93819d7e67" ON "it_password_history" ("userId") `);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_audit_logs_action_enum" AS ENUM('Create', 'Update', 'Delete', 'View', 'Login', 'Logout', 'Login Failed', 'Password Change', 'Password Reset', 'Activate', 'Deactivate', 'Suspend', 'Unlock', 'Export', 'Import', 'Approve', 'Reject', 'Submit', 'Cancel', 'Custom')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_audit_logs_severity_enum" AS ENUM('Low', 'Medium', 'High', 'Critical')`);
        await queryRunner.query(`CREATE TABLE "it_audit_logs" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "userId" uuid, "username" character varying(100), "module" character varying(50) NOT NULL, "action" "kreupai_fbpa_dev"."it_audit_logs_action_enum" NOT NULL, "description" character varying(200) NOT NULL, "entityType" character varying(100), "entityId" character varying(100), "entityName" character varying(200), "oldValues" jsonb, "newValues" jsonb, "changedFields" jsonb, "severity" "kreupai_fbpa_dev"."it_audit_logs_severity_enum" NOT NULL DEFAULT 'Low', "ipAddress" character varying(50), "userAgent" character varying(500), "sessionId" character varying(100), "requestUrl" character varying(500), "httpMethod" character varying(20), "statusCode" integer, "responseTime" integer, "success" boolean NOT NULL DEFAULT true, "errorMessage" text, "errorStack" jsonb, "additionalData" jsonb, "location" character varying(100), "device" character varying(100), "browser" character varying(100), "os" character varying(50), "tags" jsonb, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_d1216664c196af7cac42b33ba5e" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_641b2823d8f52b5a16e031cf2c" ON "it_audit_logs" ("severity") `);
        await queryRunner.query(`CREATE INDEX "IDX_4a19c378d187294752c5d8c08f" ON "it_audit_logs" ("createdAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_df18a757815be3772b2c2098e1" ON "it_audit_logs" ("module", "action") `);
        await queryRunner.query(`CREATE INDEX "IDX_4d479c8e82bd74fc3410d4c0ab" ON "it_audit_logs" ("userId") `);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_notifications_type_enum" AS ENUM('Info', 'Success', 'Warning', 'Error', 'Alert', 'Reminder', 'System')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_notifications_priority_enum" AS ENUM('Low', 'Medium', 'High', 'Urgent')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_notifications_status_enum" AS ENUM('Unread', 'Read', 'Archived', 'Deleted')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_notifications_channels_enum" AS ENUM('In-App', 'Email', 'SMS', 'Push', 'Webhook')`);
        await queryRunner.query(`CREATE TABLE "it_notifications" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "userId" uuid NOT NULL, "type" "kreupai_fbpa_dev"."it_notifications_type_enum" NOT NULL DEFAULT 'Info', "priority" "kreupai_fbpa_dev"."it_notifications_priority_enum" NOT NULL DEFAULT 'Medium', "status" "kreupai_fbpa_dev"."it_notifications_status_enum" NOT NULL DEFAULT 'Unread', "title" character varying(200) NOT NULL, "message" text NOT NULL, "category" character varying(50), "module" character varying(50), "relatedEntityType" character varying(100), "relatedEntityId" character varying(100), "actionUrl" character varying(500), "actionLabel" character varying(100), "iconUrl" character varying(100), "imageUrl" character varying(100), "channels" "kreupai_fbpa_dev"."it_notifications_channels_enum" array NOT NULL DEFAULT '{In-App}', "scheduledFor" TIMESTAMP, "sentAt" TIMESTAMP, "readAt" TIMESTAMP, "archivedAt" TIMESTAMP, "expiresAt" TIMESTAMP, "isRead" boolean NOT NULL DEFAULT false, "isArchived" boolean NOT NULL DEFAULT false, "isPinned" boolean NOT NULL DEFAULT false, "requiresAcknowledgment" boolean NOT NULL DEFAULT false, "acknowledgedAt" TIMESTAMP, "data" jsonb, "metadata" jsonb, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_57f795029186dbf009b7b40e1eb" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_94e41c72f3ad317a7afba23727" ON "it_notifications" ("createdAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_a5f4932d609e61cd936c39ae49" ON "it_notifications" ("priority") `);
        await queryRunner.query(`CREATE INDEX "IDX_abdb792f3942384b5acbbb205b" ON "it_notifications" ("type") `);
        await queryRunner.query(`CREATE INDEX "IDX_b8890c83a9617a0d391e9f84d5" ON "it_notifications" ("status") `);
        await queryRunner.query(`CREATE INDEX "IDX_b26ffc7b5c214d27d6f45f4ff6" ON "it_notifications" ("userId") `);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_roles_roletype_enum" AS ENUM('System', 'Custom', 'Department', 'Project')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_roles_status_enum" AS ENUM('Active', 'Inactive')`);
        await queryRunner.query(`CREATE TABLE "it_roles" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "code" character varying(50) NOT NULL, "name" character varying(100) NOT NULL, "description" text, "roleType" "kreupai_fbpa_dev"."it_roles_roletype_enum" NOT NULL DEFAULT 'Custom', "status" "kreupai_fbpa_dev"."it_roles_status_enum" NOT NULL DEFAULT 'Active', "hierarchyLevel" integer NOT NULL DEFAULT '0', "parentRoleId" uuid, "isSystemRole" boolean NOT NULL DEFAULT false, "isDefault" boolean NOT NULL DEFAULT false, "userCount" integer NOT NULL DEFAULT '0', "applicableModules" text, "restrictions" jsonb, "metadata" jsonb, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_2fd9dfb6f17c2e6febeef212e7b" UNIQUE ("code"), CONSTRAINT "PK_6530a75502a6f2461ba46e88dc6" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_e38d94eb6b4e86794c2212d2ea" ON "it_roles" ("status") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_2fd9dfb6f17c2e6febeef212e7" ON "it_roles" ("code") `);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_permissions_permissiontype_enum" AS ENUM('System', 'Custom', 'Module', 'API')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_permissions_status_enum" AS ENUM('Active', 'Inactive')`);
        await queryRunner.query(`CREATE TABLE "it_permissions" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "code" character varying(100) NOT NULL, "module" character varying(50) NOT NULL, "action" character varying(50) NOT NULL, "name" character varying(150) NOT NULL, "description" text, "permissionType" "kreupai_fbpa_dev"."it_permissions_permissiontype_enum" NOT NULL DEFAULT 'Module', "status" "kreupai_fbpa_dev"."it_permissions_status_enum" NOT NULL DEFAULT 'Active', "category" character varying(50), "isSystemPermission" boolean NOT NULL DEFAULT false, "requiresApproval" boolean NOT NULL DEFAULT false, "dependsOn" text, "conflictsWith" text, "apiEndpoint" character varying(100), "httpMethod" character varying(20), "constraints" jsonb, "metadata" jsonb, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_5484903371ae79a5dd9aed83ca0" UNIQUE ("code"), CONSTRAINT "PK_7d43da475caad61a95e9e7a1b69" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_d23ac67fd35d29b8f5eb540367" ON "it_permissions" ("status") `);
        await queryRunner.query(`CREATE INDEX "IDX_7edb88373aedabf1e87217d6eb" ON "it_permissions" ("module", "action") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_5484903371ae79a5dd9aed83ca" ON "it_permissions" ("code") `);
        await queryRunner.query(`CREATE TABLE "it_role_permissions" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "roleId" uuid NOT NULL, "permissionId" uuid NOT NULL, "isGranted" boolean NOT NULL DEFAULT true, "grantedAt" TIMESTAMP, "grantedBy" character varying(100), "expiresAt" TIMESTAMP, "constraints" jsonb, "metadata" jsonb, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_8d524b8b9be3c658f7e1de16e82" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_8eebedac5a14cfce74b2f8289e" ON "it_role_permissions" ("roleId", "permissionId") `);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_user_roles_status_enum" AS ENUM('Active', 'Inactive', 'Suspended', 'Expired')`);
        await queryRunner.query(`CREATE TABLE "it_user_roles" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "userId" uuid NOT NULL, "roleId" uuid NOT NULL, "status" "kreupai_fbpa_dev"."it_user_roles_status_enum" NOT NULL DEFAULT 'Active', "isPrimary" boolean NOT NULL DEFAULT false, "assignedAt" TIMESTAMP, "assignedBy" character varying(100), "effectiveFrom" TIMESTAMP, "effectiveUntil" TIMESTAMP, "revokedAt" TIMESTAMP, "revokedBy" character varying(100), "revokedReason" text, "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "metadata" jsonb, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_665be256b19cada28536927bb5b" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_31cc5257817ad52390075b2b1c" ON "it_user_roles" ("status") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_13a73fb73d87b5b5d9350ff628" ON "it_user_roles" ("userId", "roleId") `);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_system_configs_category_enum" AS ENUM('System', 'Security', 'Email', 'Notification', 'Authentication', 'API', 'Integration', 'Feature Flag', 'Business Rule', 'Custom')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_system_configs_datatype_enum" AS ENUM('String', 'Number', 'Boolean', 'JSON', 'Array', 'Date', 'Encrypted')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_system_configs_status_enum" AS ENUM('Active', 'Inactive')`);
        await queryRunner.query(`CREATE TABLE "it_system_configs" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "key" character varying(100) NOT NULL, "name" character varying(150) NOT NULL, "description" text, "value" text NOT NULL, "defaultValue" text, "category" "kreupai_fbpa_dev"."it_system_configs_category_enum" NOT NULL DEFAULT 'System', "dataType" "kreupai_fbpa_dev"."it_system_configs_datatype_enum" NOT NULL DEFAULT 'String', "status" "kreupai_fbpa_dev"."it_system_configs_status_enum" NOT NULL DEFAULT 'Active', "isEncrypted" boolean NOT NULL DEFAULT false, "isEditable" boolean NOT NULL DEFAULT true, "isSystemConfig" boolean NOT NULL DEFAULT false, "requiresRestart" boolean NOT NULL DEFAULT false, "allowedValues" text, "validationRegex" text, "validationMessage" character varying(500), "constraints" jsonb, "module" character varying(50), "environment" character varying(50), "metadata" jsonb, "lastModifiedBy" character varying(100), "lastModifiedAt" TIMESTAMP, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_cbb75d31b6f78fc251d3fde3565" UNIQUE ("key"), CONSTRAINT "PK_d458e7492b98d51e0f229a39243" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_848589487fc44442b168d8c64f" ON "it_system_configs" ("status") `);
        await queryRunner.query(`CREATE INDEX "IDX_6dfff2e8c9f7a5071cae0bee50" ON "it_system_configs" ("category") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_cbb75d31b6f78fc251d3fde356" ON "it_system_configs" ("key") `);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_notification_preferences_enabledchannels_enum" AS ENUM('In-App', 'Email', 'SMS', 'Push', 'Webhook')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."it_notification_preferences_frequency_enum" AS ENUM('Realtime', 'Hourly', 'Daily', 'Weekly', 'Custom')`);
        await queryRunner.query(`CREATE TABLE "it_notification_preferences" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "userId" character varying NOT NULL, "category" character varying(50) NOT NULL, "enabled" boolean NOT NULL DEFAULT true, "enabledChannels" "kreupai_fbpa_dev"."it_notification_preferences_enabledchannels_enum" array NOT NULL DEFAULT '{In-App}', "frequency" "kreupai_fbpa_dev"."it_notification_preferences_frequency_enum" NOT NULL DEFAULT 'Realtime', "emailEnabled" boolean NOT NULL DEFAULT false, "smsEnabled" boolean NOT NULL DEFAULT false, "pushEnabled" boolean NOT NULL DEFAULT true, "inAppEnabled" boolean NOT NULL DEFAULT true, "quietHours" jsonb, "mutedTypes" text, "priorityFilter" text, "soundEnabled" boolean NOT NULL DEFAULT true, "vibrationEnabled" boolean NOT NULL DEFAULT true, "desktopNotifications" boolean NOT NULL DEFAULT true, "mobileNotifications" boolean NOT NULL DEFAULT true, "customSound" text, "filters" jsonb, "digestSettings" jsonb, "metadata" jsonb, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_8e0425acc35ecfd9d8482e5b8ed" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_f2a3dabc767e89ad09106d4835" ON "it_notification_preferences" ("userId") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_df7f0734af2a26c301c62ddb41" ON "it_notification_preferences" ("userId", "category") `);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."stock_locations_locationtype_enum" AS ENUM('Bin', 'Rack', 'Shelf', 'Pallet', 'Floor', 'Zone', 'Aisle', 'Receiving Area', 'Dispatch Area', 'Quarantine', 'Staging Area')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."stock_locations_status_enum" AS ENUM('Active', 'Inactive', 'Full', 'Blocked', 'Under Maintenance')`);
        await queryRunner.query(`CREATE TABLE "stock_locations" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "warehouseId" uuid NOT NULL, "locationCode" character varying(100) NOT NULL, "locationName" character varying(255) NOT NULL, "locationType" "kreupai_fbpa_dev"."stock_locations_locationtype_enum" NOT NULL DEFAULT 'Bin', "status" "kreupai_fbpa_dev"."stock_locations_status_enum" NOT NULL DEFAULT 'Active', "parentLocationId" character varying, "zone" character varying(50), "aisle" character varying(50), "rack" character varying(50), "shelf" character varying(50), "bin" character varying(50), "level" integer, "length" numeric(10,2), "width" numeric(10,2), "height" numeric(10,2), "dimensionUnit" character varying(20), "volume" numeric(15,2), "maxWeight" numeric(15,2), "weightUnit" character varying(20), "maxCapacity" numeric(15,2), "currentCapacity" numeric(15,2) NOT NULL DEFAULT '0', "utilizationPercentage" numeric(5,2) NOT NULL DEFAULT '0', "pickingSequence" integer NOT NULL DEFAULT '0', "putawaySequence" integer NOT NULL DEFAULT '0', "isMixedItemAllowed" boolean NOT NULL DEFAULT false, "isMixedBatchAllowed" boolean NOT NULL DEFAULT false, "isFixedLocation" boolean NOT NULL DEFAULT false, "fixedItemId" character varying, "fixedItemName" character varying(255), "isTemperatureControlled" boolean NOT NULL DEFAULT false, "temperatureMin" numeric(5,2), "temperatureMax" numeric(5,2), "isHumidityControlled" boolean NOT NULL DEFAULT false, "humidityMin" numeric(5,2), "humidityMax" numeric(5,2), "allowedItemCategories" json, "blockedItemCategories" json, "description" text, "remarks" text, "lastStockTakeDate" TIMESTAMP, "requiresCycleCount" boolean NOT NULL DEFAULT false, "cycleCountFrequencyDays" integer, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_96bbc1d1f2e53eefff1284f1df0" UNIQUE ("locationCode"), CONSTRAINT "PK_86370cc527e4982c542b286f11c" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."warehouses_warehousetype_enum" AS ENUM('Main Warehouse', 'Branch Warehouse', 'Transit Warehouse', 'Vendor Managed', 'Customer Location', 'Quarantine', 'Scrap Yard')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."warehouses_status_enum" AS ENUM('Active', 'Inactive', 'Under Maintenance', 'Closed')`);
        await queryRunner.query(`CREATE TABLE "warehouses" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "warehouseCode" character varying(50) NOT NULL, "warehouseName" character varying(255) NOT NULL, "warehouseType" "kreupai_fbpa_dev"."warehouses_warehousetype_enum" NOT NULL DEFAULT 'Main Warehouse', "status" "kreupai_fbpa_dev"."warehouses_status_enum" NOT NULL DEFAULT 'Active', "addressLine1" text, "addressLine2" text, "city" character varying(100), "state" character varying(100), "postalCode" character varying(20), "country" character varying(100), "contactPerson" character varying(100), "phone" character varying(20), "email" character varying(100), "totalArea" numeric(15,2), "areaUnit" character varying(50), "storageCapacity" numeric(15,2), "capacityUnit" character varying(50), "currentUtilization" numeric(15,2), "companyId" character varying, "branchId" character varying, "parentWarehouseId" character varying, "managerId" character varying, "managerName" character varying(100), "allowNegativeStock" boolean NOT NULL DEFAULT true, "requiresBatchTracking" boolean NOT NULL DEFAULT false, "requiresSerialTracking" boolean NOT NULL DEFAULT false, "autoReplenishment" boolean NOT NULL DEFAULT false, "temperatureMin" numeric(5,2), "temperatureMax" numeric(5,2), "humidityMin" numeric(5,2), "humidityMax" numeric(5,2), "description" text, "remarks" text, "workingHours" json, "facilities" json, "certifications" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_cf6705bdce94ed138dbe1d4d067" UNIQUE ("warehouseCode"), CONSTRAINT "PK_56ae21ee2432b2270b48867e4be" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."stock_transfers_transfertype_enum" AS ENUM('Warehouse to Warehouse', 'Location to Location', 'Branch Transfer', 'Consignment', 'Sales Return', 'Customer to Warehouse')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."stock_transfers_status_enum" AS ENUM('Draft', 'Submitted', 'In Transit', 'Partially Received', 'Received', 'Cancelled', 'Rejected')`);
        await queryRunner.query(`CREATE TABLE "stock_transfers" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "transferNumber" character varying(50) NOT NULL, "transferType" "kreupai_fbpa_dev"."stock_transfers_transfertype_enum" NOT NULL, "status" "kreupai_fbpa_dev"."stock_transfers_status_enum" NOT NULL DEFAULT 'Draft', "transferDate" date NOT NULL, "expectedReceiptDate" date, "actualReceiptDate" date, "fromWarehouseId" character varying NOT NULL, "fromWarehouseName" character varying(255) NOT NULL, "fromLocationId" character varying, "fromLocationName" character varying(255), "toWarehouseId" character varying NOT NULL, "toWarehouseName" character varying(255) NOT NULL, "toLocationId" character varying, "toLocationName" character varying(255), "fromBranchId" character varying, "fromBranchName" character varying(255), "toBranchId" character varying, "toBranchName" character varying(255), "referenceType" character varying(100), "referenceId" character varying, "referenceNumber" character varying(100), "requestedBy" character varying, "requestedByName" character varying(100), "requiresApproval" boolean NOT NULL DEFAULT false, "approvedBy" character varying, "approvedByName" character varying(100), "approvedAt" TIMESTAMP, "dispatchedAt" TIMESTAMP, "dispatchedBy" character varying, "dispatchedByName" character varying(100), "dispatchStockEntryId" character varying, "receivedAt" TIMESTAMP, "receivedBy" character varying, "receivedByName" character varying(100), "receiptStockEntryId" character varying, "transportMode" character varying(100), "transporterName" character varying(100), "vehicleNumber" character varying(100), "driverName" character varying(100), "driverPhone" character varying(20), "lrNumber" character varying(100), "lrDate" date, "freightCharges" numeric(15,2), "insuranceCharges" numeric(15,2), "otherCharges" numeric(15,2), "currency" character varying(3) NOT NULL DEFAULT 'INR', "totalValue" numeric(15,2) NOT NULL DEFAULT '0', "requiresInspection" boolean NOT NULL DEFAULT false, "inspectionId" character varying, "inspectionStatus" character varying(50), "cancelledBy" character varying, "cancelledAt" TIMESTAMP, "cancellationReason" text, "projectId" character varying, "projectName" character varying(255), "costCenterId" character varying, "costCenterName" character varying(255), "purpose" text, "remarks" text, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_c938815cac9b7f50011ca5905b8" UNIQUE ("transferNumber"), CONSTRAINT "PK_ef738a3a4a578c7f1802c1bb50a" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "stock_transfer_lines" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "stockTransferId" uuid NOT NULL, "lineNumber" integer NOT NULL, "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "description" text, "requestedQuantity" numeric(15,4) NOT NULL, "dispatchedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "receivedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "acceptedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "rejectedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "shortageQuantity" numeric(15,4) NOT NULL DEFAULT '0', "damageQuantity" numeric(15,4) NOT NULL DEFAULT '0', "uom" character varying(50) NOT NULL, "batchId" character varying, "batchNumber" character varying(100), "serialNumberId" character varying, "serialNumber" character varying(100), "rate" numeric(15,2) NOT NULL DEFAULT '0', "amount" numeric(15,2) NOT NULL DEFAULT '0', "fromLocationId" character varying, "fromLocationName" character varying(255), "toLocationId" character varying, "toLocationName" character varying(255), "qualityStatus" character varying(50), "rejectionReason" text, "remarks" text, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_471b427d94a3f10ca3bcd9de9ef" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."stock_entries_entrytype_enum" AS ENUM('Material Receipt', 'Material Issue', 'Material Transfer', 'Stock Reconciliation', 'Purchase Receipt', 'Purchase Return', 'Sales Issue', 'Sales Return', 'Production Receipt', 'Production Issue', 'Opening Stock', 'Repack', 'Scrap')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."stock_entries_movementdirection_enum" AS ENUM('In', 'Out', 'Internal')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."stock_entries_status_enum" AS ENUM('Draft', 'Submitted', 'Posted', 'Cancelled')`);
        await queryRunner.query(`CREATE TABLE "stock_entries" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "entryNumber" character varying(50) NOT NULL, "entryType" "kreupai_fbpa_dev"."stock_entries_entrytype_enum" NOT NULL, "movementDirection" "kreupai_fbpa_dev"."stock_entries_movementdirection_enum" NOT NULL, "postingDate" date NOT NULL, "postingTime" TIMESTAMP NOT NULL, "status" "kreupai_fbpa_dev"."stock_entries_status_enum" NOT NULL DEFAULT 'Draft', "referenceType" character varying(100), "referenceId" character varying, "referenceNumber" character varying(100), "fromWarehouseId" character varying, "fromWarehouseName" character varying(255), "toWarehouseId" character varying, "toWarehouseName" character varying(255), "supplierId" character varying, "supplierName" character varying(255), "customerId" character varying, "customerName" character varying(255), "isPosted" boolean NOT NULL DEFAULT false, "postedAt" TIMESTAMP, "postedBy" character varying, "journalEntryId" character varying, "totalValue" numeric(15,2) NOT NULL DEFAULT '0', "currency" character varying(3) NOT NULL DEFAULT 'INR', "additionalCosts" numeric(15,2) NOT NULL DEFAULT '0', "costBreakup" json, "requiresApproval" boolean NOT NULL DEFAULT false, "approvedBy" character varying, "approvedAt" TIMESTAMP, "requiresInspection" boolean NOT NULL DEFAULT false, "inspectionId" character varying, "inspectionStatus" character varying(50), "projectId" character varying, "projectName" character varying(255), "costCenterId" character varying, "costCenterName" character varying(255), "vehicleNumber" character varying(100), "driverName" character varying(100), "lrNumber" character varying(20), "lrDate" date, "transporterName" character varying(100), "remarks" text, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_01cc754c6e19de5c8df3cf68036" UNIQUE ("entryNumber"), CONSTRAINT "PK_a1fd9172ea87dc2940230c57f48" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "stock_entry_lines" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "stockEntryId" uuid NOT NULL, "lineNumber" integer NOT NULL, "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "description" text, "quantity" numeric(15,4) NOT NULL, "uom" character varying(50) NOT NULL, "conversionFactor" numeric(15,4), "stockUom" character varying(50), "stockQuantity" numeric(15,4), "fromLocationId" character varying, "fromLocationName" character varying(255), "toLocationId" character varying, "toLocationName" character varying(255), "batchId" character varying, "batchNumber" character varying(100), "serialNumberId" character varying, "serialNumber" character varying(100), "rate" numeric(15,2) NOT NULL DEFAULT '0', "amount" numeric(15,2) NOT NULL DEFAULT '0', "valuationMethod" character varying(50), "acceptedQuantity" numeric(15,4), "rejectedQuantity" numeric(15,4), "qualityStatus" character varying(50), "glAccountId" character varying, "glAccountName" character varying(255), "sourceDocumentLineId" character varying, "remarks" text, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_6643a572b160802097bbb4f5acc" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "stock_balances" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "itemCategory" character varying(100), "itemGroup" character varying(100), "warehouseId" character varying NOT NULL, "warehouseName" character varying(255) NOT NULL, "locationId" character varying, "locationName" character varying(255), "batchId" character varying, "batchNumber" character varying(100), "serialNumberId" character varying, "serialNumber" character varying(100), "availableQuantity" numeric(15,4) NOT NULL DEFAULT '0', "reservedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "inQualityInspection" numeric(15,4) NOT NULL DEFAULT '0', "quarantineQuantity" numeric(15,4) NOT NULL DEFAULT '0', "damageQuantity" numeric(15,4) NOT NULL DEFAULT '0', "inTransitQuantity" numeric(15,4) NOT NULL DEFAULT '0', "committedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "uom" character varying(50) NOT NULL, "totalQuantity" numeric(15,4) NOT NULL DEFAULT '0', "freeQuantity" numeric(15,4) NOT NULL DEFAULT '0', "valuationRate" numeric(15,2) NOT NULL DEFAULT '0', "stockValue" numeric(15,2) NOT NULL DEFAULT '0', "valuationMethod" character varying(50) NOT NULL DEFAULT 'Weighted Average', "currency" character varying(3) NOT NULL DEFAULT 'INR', "reorderLevel" numeric(15,4), "reorderQuantity" numeric(15,4), "minimumOrderQuantity" numeric(15,4), "maximumOrderQuantity" numeric(15,4), "safetyStock" numeric(15,4), "belowReorderLevel" boolean NOT NULL DEFAULT false, "firstReceiptDate" date, "lastReceiptDate" date, "lastIssueDate" date, "daysInStock" integer, "daysSinceLastMovement" integer, "isSlowMoving" boolean NOT NULL DEFAULT false, "isNonMoving" boolean NOT NULL DEFAULT false, "isObsolete" boolean NOT NULL DEFAULT false, "isExpired" boolean NOT NULL DEFAULT false, "expiryDate" date, "abcClassification" character varying(10), "velocityClassification" character varying(50), "lastCycleCountDate" TIMESTAMP, "nextCycleCountDate" TIMESTAMP, "cycleCountFrequency" integer NOT NULL DEFAULT '0', "projectId" character varying, "projectName" character varying(255), "costCenterId" character varying, "costCenterName" character varying(255), "ownerId" character varying, "ownerName" character varying(255), "ownershipType" character varying NOT NULL DEFAULT 'Own Stock', "lastStockEntryId" character varying, "lastStockEntryNumber" character varying, "lastUpdatedTime" TIMESTAMP, "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_4c0d249ce58f9a559eb7df31b23" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_be23e2b21e182134877febe002" ON "stock_balances" ("itemId", "warehouseId") `);
        await queryRunner.query(`CREATE INDEX "IDX_1ef757d5cbf9b04d8040ef5105" ON "stock_balances" ("itemId", "warehouseId", "batchId") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_7cf1dcc1894701a47738ebed56" ON "stock_balances" ("itemId", "warehouseId", "locationId") `);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."stock_adjustments_adjustmenttype_enum" AS ENUM('Cycle Count', 'Physical Inventory', 'Write Off', 'Write On', 'Revaluation', 'Damage', 'Expiry', 'Theft', 'Obsolescence', 'UOM Conversion', 'Correction')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."stock_adjustments_status_enum" AS ENUM('Draft', 'Submitted', 'Approved', 'Posted', 'Cancelled', 'Rejected')`);
        await queryRunner.query(`CREATE TABLE "stock_adjustments" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "adjustmentNumber" character varying(50) NOT NULL, "adjustmentType" "kreupai_fbpa_dev"."stock_adjustments_adjustmenttype_enum" NOT NULL, "status" "kreupai_fbpa_dev"."stock_adjustments_status_enum" NOT NULL DEFAULT 'Draft', "adjustmentDate" date NOT NULL, "warehouseId" character varying NOT NULL, "warehouseName" character varying(255) NOT NULL, "locationId" character varying, "locationName" character varying(255), "referenceType" character varying(100), "referenceId" character varying, "referenceNumber" character varying(100), "isCycleCount" boolean NOT NULL DEFAULT false, "isPhysicalInventory" boolean NOT NULL DEFAULT false, "countDate" date, "counterId" character varying, "counterName" character varying(100), "requiresApproval" boolean NOT NULL DEFAULT true, "approvedBy" character varying, "approvedByName" character varying(100), "approvedAt" TIMESTAMP, "approvalRemarks" text, "rejectedBy" character varying, "rejectedAt" TIMESTAMP, "rejectionReason" text, "isPosted" boolean NOT NULL DEFAULT false, "postedAt" TIMESTAMP, "postedBy" character varying, "stockEntryId" character varying, "isFinanciallyPosted" boolean NOT NULL DEFAULT false, "journalEntryId" character varying, "totalAdjustmentValue" numeric(15,2) NOT NULL DEFAULT '0', "positiveAdjustmentValue" numeric(15,2) NOT NULL DEFAULT '0', "negativeAdjustmentValue" numeric(15,2) NOT NULL DEFAULT '0', "currency" character varying(3) NOT NULL DEFAULT 'INR', "reason" character varying(255), "justification" text, "rootCause" text, "correctiveAction" text, "projectId" character varying, "projectName" character varying(255), "costCenterId" character varying, "costCenterName" character varying(255), "expenseAccountId" character varying, "expenseAccountName" character varying(255), "remarks" text, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_043a83d3e28667389c00b71a22c" UNIQUE ("adjustmentNumber"), CONSTRAINT "PK_7dc03d92f242dd489d33b80d063" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "stock_adjustment_lines" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "stockAdjustmentId" uuid NOT NULL, "lineNumber" integer NOT NULL, "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "description" text, "locationId" character varying, "locationName" character varying(255), "batchId" character varying, "batchNumber" character varying(100), "serialNumberId" character varying, "serialNumber" character varying(100), "systemQuantity" numeric(15,4) NOT NULL DEFAULT '0', "physicalQuantity" numeric(15,4) NOT NULL DEFAULT '0', "adjustmentQuantity" numeric(15,4) NOT NULL DEFAULT '0', "uom" character varying(50) NOT NULL, "valuationRate" numeric(15,2) NOT NULL DEFAULT '0', "adjustmentValue" numeric(15,2) NOT NULL DEFAULT '0', "systemValue" numeric(15,2) NOT NULL DEFAULT '0', "physicalValue" numeric(15,2) NOT NULL DEFAULT '0', "countedAt" TIMESTAMP, "countedBy" character varying, "countedByName" character varying(100), "variancePercentage" numeric(5,2), "isSignificantVariance" boolean NOT NULL DEFAULT false, "varianceThreshold" numeric(5,2), "adjustmentReason" character varying(255), "remarks" text, "glAccountId" character varying, "glAccountName" character varying(255), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_18ca8b2aae693457bf8f1f24e2f" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."serial_numbers_status_enum" AS ENUM('Available', 'In Store', 'Issued', 'In Transit', 'Installed', 'In Service', 'Under Repair', 'Quarantine', 'Returned', 'Scrapped', 'Sold', 'Expired')`);
        await queryRunner.query(`CREATE TABLE "serial_numbers" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "serialNumber" character varying(100) NOT NULL, "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "warehouseId" character varying, "warehouseName" character varying(255), "locationId" character varying, "locationName" character varying(255), "status" "kreupai_fbpa_dev"."serial_numbers_status_enum" NOT NULL DEFAULT 'Available', "batchId" character varying, "batchNumber" character varying(100), "purchaseOrderId" character varying, "purchaseOrderNumber" character varying(100), "supplierId" character varying, "supplierName" character varying(255), "purchaseDate" date, "purchasePrice" numeric(15,2), "currency" character varying(3) NOT NULL DEFAULT 'INR', "manufacturingDate" date, "manufacturerName" character varying(100), "manufacturerPartNumber" character varying(100), "modelNumber" character varying(100), "receiptDate" date, "receiptStockEntryId" character varying, "receiptStockEntryNumber" character varying(100), "warrantyStartDate" date, "warrantyEndDate" date, "warrantyPeriodMonths" integer, "isUnderWarranty" boolean NOT NULL DEFAULT false, "expiryDate" date, "isExpired" boolean NOT NULL DEFAULT false, "customerId" character varying, "customerName" character varying(255), "salesOrderId" character varying, "salesOrderNumber" character varying(100), "salesDate" date, "salesPrice" numeric(15,2), "issueStockEntryId" character varying, "issueStockEntryNumber" character varying(100), "isInstalled" boolean NOT NULL DEFAULT false, "installationDate" date, "installationLocation" text, "installedBy" character varying, "installedByName" character varying(100), "lastServiceDate" date, "nextServiceDate" date, "serviceCount" integer NOT NULL DEFAULT '0', "serviceHistory" json, "isFixedAsset" boolean NOT NULL DEFAULT false, "assetId" character varying, "assetTag" character varying(100), "ownershipType" character varying NOT NULL DEFAULT 'Own', "ownerId" character varying, "ownerName" character varying(255), "qualityStatus" character varying(50), "qualityInspectionId" character varying, "qualityInspectionDate" date, "projectId" character varying, "projectName" character varying(255), "costCenterId" character varying, "costCenterName" character varying(255), "customAttributes" json, "barcode" character varying(255), "qrCode" text, "currentHolderId" character varying, "currentHolderName" character varying(255), "lastMovementId" character varying, "lastMovementDate" TIMESTAMP, "description" text, "remarks" text, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_fd3bd152ec83402e91136ce2cab" UNIQUE ("serialNumber"), CONSTRAINT "PK_649bdfdac92053bb72828d244d1" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_8d91a23a7704e94fbebf4778de" ON "serial_numbers" ("warehouseId", "status") `);
        await queryRunner.query(`CREATE INDEX "IDX_50691a1d6adb25b1c8842ec91e" ON "serial_numbers" ("itemId", "status") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_fd3bd152ec83402e91136ce2ca" ON "serial_numbers" ("serialNumber") `);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."batch_numbers_status_enum" AS ENUM('Active', 'Quarantine', 'Approved', 'Rejected', 'Expired', 'Recalled', 'Consumed', 'Closed')`);
        await queryRunner.query(`CREATE TABLE "batch_numbers" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "batchNumber" character varying(100) NOT NULL, "itemId" character varying NOT NULL, "itemCode" character varying(100) NOT NULL, "itemName" character varying(255) NOT NULL, "status" "kreupai_fbpa_dev"."batch_numbers_status_enum" NOT NULL DEFAULT 'Active', "manufacturingDate" date, "manufacturerName" character varying(255), "manufacturerBatchNumber" character varying(100), "lotNumber" character varying(100), "expiryDate" date, "shelfLifeDays" integer, "bestBeforeDate" date, "retestDate" date, "isExpired" boolean NOT NULL DEFAULT false, "daysToExpiry" integer, "purchaseOrderId" character varying, "purchaseOrderNumber" character varying(100), "supplierId" character varying, "supplierName" character varying(255), "supplierBatchNumber" character varying(100), "purchaseDate" date, "receiptDate" date, "receiptStockEntryId" character varying, "receiptStockEntryNumber" character varying(100), "requiresQualityInspection" boolean NOT NULL DEFAULT false, "qualityInspectionId" character varying, "qualityStatus" character varying(50), "qualityInspectionDate" date, "qualityInspectorId" character varying, "qualityInspectorName" character varying(100), "qualityParameters" json, "initialQuantity" numeric(15,4) NOT NULL DEFAULT '0', "availableQuantity" numeric(15,4) NOT NULL DEFAULT '0', "reservedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "issuedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "quarantineQuantity" numeric(15,4) NOT NULL DEFAULT '0', "rejectedQuantity" numeric(15,4) NOT NULL DEFAULT '0', "uom" character varying(50) NOT NULL, "purchasePrice" numeric(15,2), "landedCost" numeric(15,2), "currentValue" numeric(15,2), "currency" character varying(3) NOT NULL DEFAULT 'INR', "storageTemperatureMin" numeric(5,2), "storageTemperatureMax" numeric(5,2), "storageHumidityMin" numeric(5,2), "storageHumidityMax" numeric(5,2), "storageInstructions" text, "handlingInstructions" text, "certifications" json, "regulatoryInfo" json, "parentBatchId" character varying(100), "childBatchIds" json, "ingredientBatches" json, "isRecalled" boolean NOT NULL DEFAULT false, "recallDate" date, "recallReason" character varying(255), "recallNotes" text, "customAttributes" json, "packagingType" character varying(100), "unitsPerPackage" integer, "netWeight" numeric(10,3), "grossWeight" numeric(10,3), "weightUnit" character varying(20), "countryOfOrigin" character varying(100), "portOfEntry" character varying(100), "barcode" character varying(255), "qrCode" text, "fifoSequence" integer NOT NULL DEFAULT '0', "isPickable" boolean NOT NULL DEFAULT true, "description" text, "remarks" text, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_87512bfa174d76d70e0e5bbe59b" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_6d7d2544ef75ee27e117680ebc" ON "batch_numbers" ("expiryDate") `);
        await queryRunner.query(`CREATE INDEX "IDX_98e49434b326c9f702ecfc83fc" ON "batch_numbers" ("itemId", "status") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_64ce8f96f19a21c34d80fa8302" ON "batch_numbers" ("batchNumber", "itemId") `);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_shifts_type_enum" AS ENUM('General', 'Rotating', 'Flexible', 'Night')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_shifts_status_enum" AS ENUM('Active', 'Inactive')`);
        await queryRunner.query(`CREATE TABLE "hr_shifts" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "code" character varying(50) NOT NULL, "name" character varying(100) NOT NULL, "description" text, "type" "kreupai_fbpa_dev"."hr_shifts_type_enum" NOT NULL DEFAULT 'General', "startTime" TIME NOT NULL, "endTime" TIME NOT NULL, "workingHours" numeric(5,2) NOT NULL, "breakStartTime" TIME, "breakEndTime" TIME, "breakHours" numeric(4,2) NOT NULL DEFAULT '0', "graceMinutes" integer NOT NULL DEFAULT '15', "lateMarkAfterMinutes" integer NOT NULL DEFAULT '30', "halfDayAfterMinutes" integer NOT NULL DEFAULT '60', "absentAfterMinutes" integer NOT NULL DEFAULT '240', "workingDays" text NOT NULL DEFAULT '1,2,3,4,5', "allowOvertime" boolean NOT NULL DEFAULT true, "overtimeMultiplier" numeric(4,2) NOT NULL DEFAULT '1.5', "isNightShift" boolean NOT NULL DEFAULT false, "nightShiftAllowance" numeric(5,2) NOT NULL DEFAULT '0', "status" "kreupai_fbpa_dev"."hr_shifts_status_enum" NOT NULL DEFAULT 'Active', "metadata" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_2c6fc83e57a2694ba320f40614e" UNIQUE ("code"), CONSTRAINT "PK_ab17dc646abeecad9f255f573f7" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_salary_structures_status_enum" AS ENUM('Active', 'Inactive')`);
        await queryRunner.query(`CREATE TABLE "hr_salary_structures" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "code" character varying(50) NOT NULL, "name" character varying(100) NOT NULL, "description" text, "effectiveFrom" date NOT NULL, "effectiveTo" date, "applicableDesignations" text, "applicableDepartments" text, "applicableEmployeeTypes" text, "components" json NOT NULL, "isPFApplicable" boolean NOT NULL DEFAULT true, "pfEmployeeRate" numeric(5,2) NOT NULL DEFAULT '12', "pfEmployerRate" numeric(5,2) NOT NULL DEFAULT '12', "pfCeiling" numeric(15,2), "isESIApplicable" boolean NOT NULL DEFAULT true, "esiEmployeeRate" numeric(5,2) NOT NULL DEFAULT '0.75', "esiEmployerRate" numeric(5,2) NOT NULL DEFAULT '3.25', "esiCeiling" numeric(15,2), "isGratuityApplicable" boolean NOT NULL DEFAULT true, "isPTApplicable" boolean NOT NULL DEFAULT true, "isLWFApplicable" boolean NOT NULL DEFAULT true, "status" "kreupai_fbpa_dev"."hr_salary_structures_status_enum" NOT NULL DEFAULT 'Active', "metadata" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_0ccf0366b24a9a27a8569a541e5" UNIQUE ("code"), CONSTRAINT "PK_4003827850382a145c748accf3e" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_payrolls_period_enum" AS ENUM('Monthly', 'Weekly', 'Biweekly', 'Semi-monthly')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_payrolls_status_enum" AS ENUM('Draft', 'Processing', 'Processed', 'Verified', 'Approved', 'Posted', 'Paid', 'Cancelled')`);
        await queryRunner.query(`CREATE TABLE "hr_payrolls" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "payrollNumber" character varying(50) NOT NULL, "title" character varying(100) NOT NULL, "period" "kreupai_fbpa_dev"."hr_payrolls_period_enum" NOT NULL DEFAULT 'Monthly', "month" integer NOT NULL, "year" integer NOT NULL, "startDate" date NOT NULL, "endDate" date NOT NULL, "paymentDate" date NOT NULL, "totalEmployees" integer NOT NULL DEFAULT '0', "processedEmployees" integer NOT NULL DEFAULT '0', "totalGrossSalary" numeric(15,2) NOT NULL DEFAULT '0', "totalDeductions" numeric(15,2) NOT NULL DEFAULT '0', "totalNetSalary" numeric(15,2) NOT NULL DEFAULT '0', "totalEmployerContributions" numeric(15,2) NOT NULL DEFAULT '0', "totalCTC" numeric(15,2) NOT NULL DEFAULT '0', "status" "kreupai_fbpa_dev"."hr_payrolls_status_enum" NOT NULL DEFAULT 'Draft', "includedDepartments" text, "excludedEmployees" text, "isPosted" boolean NOT NULL DEFAULT false, "journalEntryId" character varying, "postedAt" TIMESTAMP, "postedBy" character varying, "isPaid" boolean NOT NULL DEFAULT false, "paidAt" TIMESTAMP, "paidBy" character varying, "paymentReferenceNumber" character varying, "bankTransactionId" character varying, "processedBy" character varying, "processedAt" TIMESTAMP, "approvedBy" character varying, "approvedAt" TIMESTAMP, "remarks" text, "summary" json, "metadata" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_b9ef460131f46a16056405aa19e" UNIQUE ("payrollNumber"), CONSTRAINT "PK_88908a5f26ffde82e6313db93ed" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_departments_status_enum" AS ENUM('Active', 'Inactive')`);
        await queryRunner.query(`CREATE TABLE "hr_departments" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "code" character varying(50) NOT NULL, "name" character varying(100) NOT NULL, "description" text, "parentDepartmentId" character varying, "headOfDepartmentId" character varying, "headOfDepartmentName" character varying(100), "costCenterId" character varying, "costCenterName" character varying(100), "location" text, "email" character varying(100), "phone" character varying(20), "status" "kreupai_fbpa_dev"."hr_departments_status_enum" NOT NULL DEFAULT 'Active', "metadata" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_3415d934b6742b036a6626690f5" UNIQUE ("code"), CONSTRAINT "PK_5974c96610b6047c02cb9f6dea1" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_designations_level_enum" AS ENUM('Entry Level', 'Junior', 'Intermediate', 'Senior', 'Lead', 'Manager', 'Senior Manager', 'Director', 'Vice President', 'Senior Vice President', 'C-Level Executive')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_designations_status_enum" AS ENUM('Active', 'Inactive')`);
        await queryRunner.query(`CREATE TABLE "hr_designations" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "code" character varying(50) NOT NULL, "title" character varying(100) NOT NULL, "description" text, "level" "kreupai_fbpa_dev"."hr_designations_level_enum" NOT NULL DEFAULT 'Intermediate', "reportsTo" character varying, "reportsToTitle" character varying(100), "gradeLevel" integer NOT NULL DEFAULT '1', "minSalary" numeric(15,2), "maxSalary" numeric(15,2), "responsibilities" text, "requiredSkills" text, "qualifications" text, "minExperience" integer, "status" "kreupai_fbpa_dev"."hr_designations_status_enum" NOT NULL DEFAULT 'Active', "metadata" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_717c9eef5f1bdd6617a807fc105" UNIQUE ("code"), CONSTRAINT "PK_d4c38faf4d80b5470847b0af287" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_leave_types_accrualtype_enum" AS ENUM('Annual', 'Monthly', 'Quarterly', 'None')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_leave_types_status_enum" AS ENUM('Active', 'Inactive')`);
        await queryRunner.query(`CREATE TABLE "hr_leave_types" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "code" character varying(50) NOT NULL, "name" character varying(100) NOT NULL, "description" text, "isPaid" boolean NOT NULL DEFAULT true, "maxDaysPerYear" numeric(5,2) NOT NULL, "minDaysPerApplication" numeric(5,2) NOT NULL DEFAULT '0', "maxDaysPerApplication" numeric(5,2), "maxCarryForward" numeric(5,2) NOT NULL DEFAULT '0', "allowCarryForward" boolean NOT NULL DEFAULT false, "allowEncashment" boolean NOT NULL DEFAULT false, "maxEncashmentDays" numeric(5,2) NOT NULL DEFAULT '0', "requiresApproval" boolean NOT NULL DEFAULT true, "requiresDocument" boolean NOT NULL DEFAULT false, "minAdvanceNoticeDays" integer NOT NULL DEFAULT '0', "maxBackdatedDays" integer NOT NULL DEFAULT '0', "accrualType" "kreupai_fbpa_dev"."hr_leave_types_accrualtype_enum" NOT NULL DEFAULT 'Annual', "accrualRate" numeric(5,2) NOT NULL DEFAULT '0', "allowHalfDay" boolean NOT NULL DEFAULT false, "allowNegativeBalance" boolean NOT NULL DEFAULT false, "includeHolidays" boolean NOT NULL DEFAULT true, "includeWeekends" boolean NOT NULL DEFAULT true, "applicableEmployeeTypes" text, "applicableGenders" text, "applicableAfterMonths" integer NOT NULL DEFAULT '0', "displayOrder" integer NOT NULL DEFAULT '1', "color" character varying(50), "status" "kreupai_fbpa_dev"."hr_leave_types_status_enum" NOT NULL DEFAULT 'Active', "metadata" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_5be289534be76147dac6d594d87" UNIQUE ("code"), CONSTRAINT "PK_c67fd1bb66d507148385b5810d9" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "hr_leave_balances" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "employeeId" uuid NOT NULL, "leaveTypeId" uuid NOT NULL, "year" integer NOT NULL, "openingBalance" numeric(5,2) NOT NULL DEFAULT '0', "allocated" numeric(5,2) NOT NULL DEFAULT '0', "earned" numeric(5,2) NOT NULL DEFAULT '0', "used" numeric(5,2) NOT NULL DEFAULT '0', "pending" numeric(5,2) NOT NULL DEFAULT '0', "lapsed" numeric(5,2) NOT NULL DEFAULT '0', "carriedForward" numeric(5,2) NOT NULL DEFAULT '0', "encashed" numeric(5,2) NOT NULL DEFAULT '0', "available" numeric(5,2) NOT NULL DEFAULT '0', "history" json, "metadata" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_21849068807ea2fe6e16adb8b01" UNIQUE ("employeeId", "leaveTypeId", "year"), CONSTRAINT "PK_08a1326e0c81a85b59f37e36b10" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_attendance_status_enum" AS ENUM('Present', 'Absent', 'Half Day', 'Late', 'On Leave', 'Holiday', 'Week Off', 'On Duty', 'Work From Home')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_attendance_type_enum" AS ENUM('Regular', 'Overtime', 'Night Shift', 'Extra Shift')`);
        await queryRunner.query(`CREATE TABLE "hr_attendance" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "employeeId" uuid NOT NULL, "date" date NOT NULL, "shiftId" character varying, "shiftStartTime" TIME, "shiftEndTime" TIME, "checkInTime" TIME, "checkOutTime" TIME, "workingHours" numeric(5,2) NOT NULL DEFAULT '0', "overtimeHours" numeric(5,2) NOT NULL DEFAULT '0', "breakHours" numeric(5,2) NOT NULL DEFAULT '0', "lateBy" numeric(5,2) NOT NULL DEFAULT '0', "earlyLeaving" numeric(5,2) NOT NULL DEFAULT '0', "status" "kreupai_fbpa_dev"."hr_attendance_status_enum" NOT NULL DEFAULT 'Present', "type" "kreupai_fbpa_dev"."hr_attendance_type_enum" NOT NULL DEFAULT 'Regular', "isHoliday" boolean NOT NULL DEFAULT false, "isWeekOff" boolean NOT NULL DEFAULT false, "holidayName" character varying(100), "leaveApplicationId" character varying, "leaveType" character varying(100), "isRegularized" boolean NOT NULL DEFAULT false, "regularizationReason" text, "regularizedBy" character varying, "regularizedAt" TIMESTAMP, "isManualEntry" boolean NOT NULL DEFAULT false, "enteredBy" character varying, "remarks" text, "location" character varying(100), "deviceId" character varying(100), "biometricLogs" json, "geoLocation" json, "metadata" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_5f9a0edb7fd03af755f107847b7" UNIQUE ("employeeId", "date"), CONSTRAINT "PK_328fe6be73be1aef2e8fedcbc59" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_employees_gender_enum" AS ENUM('Male', 'Female', 'Other')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_employees_maritalstatus_enum" AS ENUM('Single', 'Married', 'Divorced', 'Widowed')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_employees_bloodgroup_enum" AS ENUM('A+', 'A-', 'B+', 'B-', 'AB+', 'AB-', 'O+', 'O-')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_employees_employmenttype_enum" AS ENUM('Full Time', 'Part Time', 'Contract', 'Intern', 'Consultant', 'Temporary')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_employees_status_enum" AS ENUM('Active', 'On Leave', 'On Probation', 'Suspended', 'Resigned', 'Terminated', 'Retired')`);
        await queryRunner.query(`CREATE TABLE "hr_employees" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "employeeCode" character varying(50) NOT NULL, "userId" character varying, "biometricId" character varying, "rfidCardNumber" character varying, "firstName" character varying(50) NOT NULL, "middleName" character varying(50), "lastName" character varying(50) NOT NULL, "fullName" character varying(150) NOT NULL, "dateOfBirth" date NOT NULL, "gender" "kreupai_fbpa_dev"."hr_employees_gender_enum" NOT NULL, "maritalStatus" "kreupai_fbpa_dev"."hr_employees_maritalstatus_enum" NOT NULL DEFAULT 'Single', "bloodGroup" "kreupai_fbpa_dev"."hr_employees_bloodgroup_enum", "nationality" character varying(100), "religion" character varying(100), "personalEmail" character varying(100) NOT NULL, "companyEmail" character varying(100), "mobileNumber" character varying(20) NOT NULL, "alternateNumber" character varying(20), "currentAddress" text NOT NULL, "permanentAddress" text, "city" character varying(100), "state" character varying(100), "postalCode" character varying(20), "country" character varying(100), "departmentId" uuid NOT NULL, "designationId" uuid NOT NULL, "employmentType" "kreupai_fbpa_dev"."hr_employees_employmenttype_enum" NOT NULL DEFAULT 'Full Time', "joiningDate" date NOT NULL, "confirmationDate" date, "probationEndDate" date, "reportingManagerId" character varying, "reportingManagerName" character varying(100), "shiftId" character varying, "workLocation" character varying(100), "branch" character varying(100), "costCenter" character varying(100), "status" "kreupai_fbpa_dev"."hr_employees_status_enum" NOT NULL DEFAULT 'On Probation', "basicSalary" numeric(15,2) NOT NULL, "grossSalary" numeric(15,2) NOT NULL, "ctc" numeric(15,2), "salaryFrequency" character varying(50) NOT NULL DEFAULT 'Monthly', "salaryStructureId" character varying, "paymentMode" character varying(50), "bankName" character varying(100), "bankBranch" character varying(100), "accountNumber" character varying(50), "ifscCode" character varying(50), "accountHolderName" character varying(100), "panNumber" character varying(50), "aadharNumber" character varying(50), "passportNumber" character varying(50), "passportExpiryDate" date, "pfNumber" character varying(50), "esiNumber" character varying(50), "uanNumber" character varying(50), "emergencyContactName" character varying(100), "emergencyContactRelation" character varying(50), "emergencyContactPhone" character varying(20), "education" json, "previousEmployment" json, "skills" text, "certifications" text, "relievingDate" date, "lastWorkingDay" date, "exitReason" text, "exitNotes" text, "isExited" boolean NOT NULL DEFAULT false, "documents" json, "profilePhotoUrl" text, "notes" text, "customFields" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_5a3439babd085eed9a7738b28f6" UNIQUE ("employeeCode"), CONSTRAINT "UQ_90932c5197e6c427dc93ad2d709" UNIQUE ("personalEmail"), CONSTRAINT "UQ_c8da1ba42584f33c30f3d012c4d" UNIQUE ("companyEmail"), CONSTRAINT "PK_238fb586a0bc91ede937ef6f4c2" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_salary_slips_status_enum" AS ENUM('Draft', 'Generated', 'Sent', 'Paid', 'On Hold', 'Cancelled')`);
        await queryRunner.query(`CREATE TABLE "hr_salary_slips" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "slipNumber" character varying(50) NOT NULL, "payrollId" uuid NOT NULL, "employeeId" uuid NOT NULL, "employeeCode" character varying(50) NOT NULL, "employeeName" character varying(100) NOT NULL, "designation" character varying(100), "department" character varying(100), "joiningDate" date, "bankAccount" character varying(100), "panNumber" character varying(50), "pfNumber" character varying(50), "esiNumber" character varying(50), "month" integer NOT NULL, "year" integer NOT NULL, "paymentDate" date NOT NULL, "workingDays" integer NOT NULL DEFAULT '0', "presentDays" numeric(5,2) NOT NULL DEFAULT '0', "absentDays" numeric(5,2) NOT NULL DEFAULT '0', "leaveDays" numeric(5,2) NOT NULL DEFAULT '0', "paidDays" numeric(5,2) NOT NULL DEFAULT '0', "lopDays" numeric(5,2) NOT NULL DEFAULT '0', "overtimeHours" numeric(5,2) NOT NULL DEFAULT '0', "earnings" json NOT NULL, "grossSalary" numeric(15,2) NOT NULL, "deductions" json NOT NULL, "totalDeductions" numeric(15,2) NOT NULL DEFAULT '0', "netSalary" numeric(15,2) NOT NULL, "pfEmployeeContribution" numeric(15,2) NOT NULL DEFAULT '0', "pfEmployerContribution" numeric(15,2) NOT NULL DEFAULT '0', "esiEmployeeContribution" numeric(15,2) NOT NULL DEFAULT '0', "esiEmployerContribution" numeric(15,2) NOT NULL DEFAULT '0', "professionalTax" numeric(15,2) NOT NULL DEFAULT '0', "tds" numeric(15,2) NOT NULL DEFAULT '0', "advance" numeric(15,2) NOT NULL DEFAULT '0', "loan" numeric(15,2) NOT NULL DEFAULT '0', "otherDeductions" numeric(15,2) NOT NULL DEFAULT '0', "reimbursements" numeric(15,2) NOT NULL DEFAULT '0', "bonus" numeric(15,2) NOT NULL DEFAULT '0', "incentive" numeric(15,2) NOT NULL DEFAULT '0', "arrears" numeric(15,2) NOT NULL DEFAULT '0', "status" "kreupai_fbpa_dev"."hr_salary_slips_status_enum" NOT NULL DEFAULT 'Draft', "isSent" boolean NOT NULL DEFAULT false, "sentAt" TIMESTAMP, "isPaid" boolean NOT NULL DEFAULT false, "paidAt" TIMESTAMP, "paymentReferenceNumber" character varying, "paymentMode" character varying(50), "remarks" text, "pdfUrl" text, "metadata" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_6848c41aa6fc62cf3655d68ea80" UNIQUE ("slipNumber"), CONSTRAINT "UQ_e02799a7162c9f084b49334b494" UNIQUE ("payrollId", "employeeId"), CONSTRAINT "PK_40245c70e1c5411781e8667de59" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_performance_reviews_reviewtype_enum" AS ENUM('Probation Review', 'Performance Review', 'Appraisal', 'Promotion Review', 'Incident Review', 'Exit Review')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_performance_reviews_cycle_enum" AS ENUM('Monthly', 'Quarterly', 'Half Yearly', 'Annual')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_performance_reviews_status_enum" AS ENUM('Scheduled', 'Self Assessment', 'Manager Review', 'HR Review', 'Completed', 'Cancelled')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_performance_reviews_overallrating_enum" AS ENUM('Outstanding', 'Exceeds Expectations', 'Meets Expectations', 'Needs Improvement', 'Unsatisfactory')`);
        await queryRunner.query(`CREATE TABLE "hr_performance_reviews" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "reviewNumber" character varying(50) NOT NULL, "employeeId" uuid NOT NULL, "reviewerId" character varying, "reviewerName" character varying(100), "reviewType" "kreupai_fbpa_dev"."hr_performance_reviews_reviewtype_enum" NOT NULL DEFAULT 'Performance Review', "cycle" "kreupai_fbpa_dev"."hr_performance_reviews_cycle_enum" NOT NULL DEFAULT 'Annual', "reviewPeriodFrom" date NOT NULL, "reviewPeriodTo" date NOT NULL, "reviewDate" date NOT NULL, "scheduledDate" date, "status" "kreupai_fbpa_dev"."hr_performance_reviews_status_enum" NOT NULL DEFAULT 'Scheduled', "goals" json, "kpis" json, "competencies" json, "selfRating" numeric(3,2), "selfComments" text, "managerRating" numeric(3,2), "managerComments" text, "hrRating" numeric(3,2), "hrComments" text, "finalRating" numeric(3,2), "overallRating" "kreupai_fbpa_dev"."hr_performance_reviews_overallrating_enum", "strengths" text, "areasOfImprovement" text, "achievements" text, "developmentNeeds" text, "trainingRecommendations" json, "careerAspirations" text, "careerDevelopmentPlan" text, "isPromotionRecommended" boolean NOT NULL DEFAULT false, "recommendedDesignation" character varying(100), "isSalaryRevisionRecommended" boolean NOT NULL DEFAULT false, "recommendedSalaryIncrease" numeric(5,2), "recommendedNewSalary" numeric(15,2), "totalWorkingDays" integer NOT NULL DEFAULT '0', "presentDays" integer NOT NULL DEFAULT '0', "absentDays" integer NOT NULL DEFAULT '0', "lateDays" integer NOT NULL DEFAULT '0', "leavesTaken" numeric(5,2) NOT NULL DEFAULT '0', "isSelfAssessmentCompleted" boolean NOT NULL DEFAULT false, "selfAssessmentDate" TIMESTAMP, "isManagerReviewCompleted" boolean NOT NULL DEFAULT false, "managerReviewDate" TIMESTAMP, "isHrReviewCompleted" boolean NOT NULL DEFAULT false, "hrReviewDate" TIMESTAMP, "isEmployeeAcknowledged" boolean NOT NULL DEFAULT false, "employeeAcknowledgementDate" TIMESTAMP, "employeeRemarks" text, "nextReviewDate" date, "attachments" json, "metadata" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_eef3d25ec6fb1b1d39e8a4eface" UNIQUE ("reviewNumber"), CONSTRAINT "PK_f09ae07022d108ee9603d76cb13" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_leave_applications_fromdateperiod_enum" AS ENUM('Full Day', 'First Half', 'Second Half')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_leave_applications_todateperiod_enum" AS ENUM('Full Day', 'First Half', 'Second Half')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_leave_applications_status_enum" AS ENUM('Draft', 'Submitted', 'Approved', 'Rejected', 'Cancelled', 'On Hold')`);
        await queryRunner.query(`CREATE TABLE "hr_leave_applications" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "applicationNumber" character varying(50) NOT NULL, "employeeId" uuid NOT NULL, "leaveTypeId" uuid NOT NULL, "fromDate" date NOT NULL, "toDate" date NOT NULL, "fromDatePeriod" "kreupai_fbpa_dev"."hr_leave_applications_fromdateperiod_enum" NOT NULL DEFAULT 'Full Day', "toDatePeriod" "kreupai_fbpa_dev"."hr_leave_applications_todateperiod_enum" NOT NULL DEFAULT 'Full Day', "totalDays" numeric(5,2) NOT NULL, "reason" text NOT NULL, "contactAddress" text, "contactPhone" character varying(20), "handoverTo" character varying(100), "applicationDate" date NOT NULL, "status" "kreupai_fbpa_dev"."hr_leave_applications_status_enum" NOT NULL DEFAULT 'Draft', "approver1Id" character varying, "approver1Name" character varying(100), "approver1Date" TIMESTAMP, "approver1Remarks" text, "approver2Id" character varying, "approver2Name" character varying(100), "approver2Date" TIMESTAMP, "approver2Remarks" text, "finalApproverId" character varying, "finalApproverName" character varying(100), "finalApprovalDate" TIMESTAMP, "rejectionReason" text, "rejectedBy" character varying, "rejectedDate" TIMESTAMP, "cancellationReason" text, "cancelledBy" character varying, "cancelledDate" TIMESTAMP, "attachments" json, "isRejoined" boolean NOT NULL DEFAULT false, "actualRejoinDate" date, "postLeaveRemarks" text, "metadata" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_49debadf8d733c08a84e0d71159" UNIQUE ("applicationNumber"), CONSTRAINT "PK_4fd1dcc38c763ffb531bd79b136" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_holidays_type_enum" AS ENUM('Public Holiday', 'Optional Holiday', 'Restricted Holiday', 'Company Holiday')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."hr_holidays_status_enum" AS ENUM('Active', 'Cancelled')`);
        await queryRunner.query(`CREATE TABLE "hr_holidays" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "name" character varying(100) NOT NULL, "date" date NOT NULL, "type" "kreupai_fbpa_dev"."hr_holidays_type_enum" NOT NULL DEFAULT 'Public Holiday', "description" text, "isPaid" boolean NOT NULL DEFAULT true, "numberOfDays" integer NOT NULL DEFAULT '1', "applicableLocations" text, "applicableDepartments" text, "applicableEmployeeTypes" text, "isFloating" boolean NOT NULL DEFAULT false, "year" integer, "status" "kreupai_fbpa_dev"."hr_holidays_status_enum" NOT NULL DEFAULT 'Active', "metadata" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_079cd4c0136304e74eaf40c3e53" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."tax_masters_taxtype_enum" AS ENUM('GST', 'CGST', 'SGST', 'IGST', 'CESS', 'TDS', 'TCS', 'VAT', 'Service Tax', 'Customs Duty')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."tax_masters_taxcategory_enum" AS ENUM('Input Tax', 'Output Tax', 'Withholding Tax', 'Collected Tax')`);
        await queryRunner.query(`CREATE TABLE "tax_masters" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "taxCode" character varying(50) NOT NULL, "taxName" character varying(255) NOT NULL, "taxType" "kreupai_fbpa_dev"."tax_masters_taxtype_enum" NOT NULL, "taxCategory" "kreupai_fbpa_dev"."tax_masters_taxcategory_enum" NOT NULL, "taxRate" numeric(5,2) NOT NULL, "effectiveFrom" date NOT NULL, "effectiveTo" date, "description" text, "taxPayableAccountId" character varying, "taxReceivableAccountId" character varying, "taxExpenseAccountId" character varying, "isActive" boolean NOT NULL DEFAULT true, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_08c5d55fbc2f8936f99fba85a62" UNIQUE ("taxCode"), CONSTRAINT "PK_04ae4057b96ca282e89977dd973" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "gst_transactions" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "transactionNumber" character varying(50) NOT NULL, "transactionDate" date NOT NULL, "transactionType" character varying(50) NOT NULL, "partyId" character varying NOT NULL, "partyName" character varying(255) NOT NULL, "partyGSTIN" character varying(50) NOT NULL, "partyState" character varying(100) NOT NULL, "invoiceId" character varying, "invoiceNumber" character varying(50), "taxableAmount" numeric(15,2) NOT NULL, "cgstAmount" numeric(15,2) NOT NULL DEFAULT '0', "sgstAmount" numeric(15,2) NOT NULL DEFAULT '0', "igstAmount" numeric(15,2) NOT NULL DEFAULT '0', "cessAmount" numeric(15,2) NOT NULL DEFAULT '0', "totalTaxAmount" numeric(15,2) NOT NULL, "totalAmount" numeric(15,2) NOT NULL, "gstRate" numeric(5,2) NOT NULL, "placeOfSupply" character varying(100) NOT NULL, "isInterstate" boolean NOT NULL DEFAULT false, "isReverseCharge" boolean NOT NULL DEFAULT false, "hsnSacCode" character varying(20), "gstrPeriodId" character varying, "isFiledInGSTR" boolean NOT NULL DEFAULT false, "filedDate" date, "notes" text, "createdBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_508c3648d44b1d8dc2a34183418" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "tds_transactions" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "tdsNumber" character varying(50) NOT NULL, "transactionDate" date NOT NULL, "deductionDate" date NOT NULL, "partyId" character varying NOT NULL, "partyName" character varying(255) NOT NULL, "partyPAN" character varying(50) NOT NULL, "partyType" character varying(100) NOT NULL, "paymentId" character varying, "paymentNumber" character varying(50), "tdsSection" character varying(50) NOT NULL, "grossAmount" numeric(15,2) NOT NULL, "tdsRate" numeric(5,2) NOT NULL, "tdsAmount" numeric(15,2) NOT NULL, "netPayableAmount" numeric(15,2) NOT NULL, "surcharge" numeric(15,2) NOT NULL DEFAULT '0', "educationCess" numeric(15,2) NOT NULL DEFAULT '0', "totalTDSAmount" numeric(15,2) NOT NULL DEFAULT '0', "certificateNumber" character varying(100), "certificateDate" date, "certificateIssued" boolean NOT NULL DEFAULT false, "financialYear" integer NOT NULL, "quarter" integer NOT NULL, "isFiledInReturn" boolean NOT NULL DEFAULT false, "filedDate" date, "challanNumber" character varying(100), "challanDate" date, "bsrCode" character varying(50), "isPaid" boolean NOT NULL DEFAULT false, "paidDate" date, "notes" text, "createdBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_8084eb872c009d2f111f5efc2a8" UNIQUE ("tdsNumber"), CONSTRAINT "PK_c4df5dc7e426a67bcea09a76102" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "gstr_periods" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "periodCode" character varying(50) NOT NULL, "month" integer NOT NULL, "year" integer NOT NULL, "returnType" character varying(20) NOT NULL, "periodStartDate" date NOT NULL, "periodEndDate" date NOT NULL, "dueDate" date NOT NULL, "status" character varying(50) NOT NULL DEFAULT 'Open', "isFiled" boolean NOT NULL DEFAULT false, "filedDate" date, "acknowledgementNumber" character varying(100), "summary" json, "notes" text, "createdBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_1f69e9337cb5a71594ca0969014" UNIQUE ("periodCode"), CONSTRAINT "PK_7a5c07224926fb84f56921d28ab" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."financial_years_status_enum" AS ENUM('Open', 'Closed', 'Locked')`);
        await queryRunner.query(`CREATE TABLE "financial_years" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "yearCode" character varying(50) NOT NULL, "yearName" character varying(100) NOT NULL, "startDate" date NOT NULL, "endDate" date NOT NULL, "status" "kreupai_fbpa_dev"."financial_years_status_enum" NOT NULL DEFAULT 'Open', "isCurrent" boolean NOT NULL DEFAULT false, "description" text, "closedBy" character varying, "closedAt" TIMESTAMP, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_62b25d02b455746c0cdba4060fd" UNIQUE ("yearCode"), CONSTRAINT "PK_85ec81eb075e135bb1c1c639177" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."financial_periods_periodtype_enum" AS ENUM('Month', 'Quarter', 'Half Year', 'Year')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."financial_periods_status_enum" AS ENUM('Open', 'Closed', 'Locked')`);
        await queryRunner.query(`CREATE TABLE "financial_periods" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "financialYearId" uuid NOT NULL, "periodCode" character varying(50) NOT NULL, "periodName" character varying(100) NOT NULL, "periodType" "kreupai_fbpa_dev"."financial_periods_periodtype_enum" NOT NULL, "periodNumber" integer NOT NULL, "startDate" date NOT NULL, "endDate" date NOT NULL, "status" "kreupai_fbpa_dev"."financial_periods_status_enum" NOT NULL DEFAULT 'Open', "isCurrent" boolean NOT NULL DEFAULT false, "description" text, "closedBy" character varying, "closedAt" TIMESTAMP, "openedBy" character varying, "openedAt" TIMESTAMP, "closingChecklist" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_6477a75e3a03069b3d8c3763891" UNIQUE ("periodCode"), CONSTRAINT "PK_15c5a68bb4e3a1bc2232c829265" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."journal_entries_journaltype_enum" AS ENUM('Standard', 'Adjusting', 'Closing', 'Reversing', 'Accrual', 'Recurring')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."journal_entries_status_enum" AS ENUM('Draft', 'Pending Approval', 'Approved', 'Posted', 'Reversed', 'Rejected')`);
        await queryRunner.query(`CREATE TABLE "journal_entries" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "journalNumber" character varying(50) NOT NULL, "journalType" "kreupai_fbpa_dev"."journal_entries_journaltype_enum" NOT NULL DEFAULT 'Standard', "periodId" uuid NOT NULL, "journalDate" date NOT NULL, "postingDate" date NOT NULL, "description" text NOT NULL, "referenceNumber" character varying(100), "status" "kreupai_fbpa_dev"."journal_entries_status_enum" NOT NULL DEFAULT 'Draft', "totalDebit" numeric(15,2) NOT NULL DEFAULT '0', "totalCredit" numeric(15,2) NOT NULL DEFAULT '0', "isBalanced" boolean NOT NULL DEFAULT false, "isRecurring" boolean NOT NULL DEFAULT false, "recurrencePattern" character varying(50), "recurrenceStartDate" date, "recurrenceEndDate" date, "recurrenceCount" integer, "nextRecurrenceDate" TIMESTAMP, "isTemplate" boolean NOT NULL DEFAULT false, "templateName" character varying(100), "submittedBy" character varying, "submittedAt" TIMESTAMP, "approvedBy" character varying, "approvedAt" TIMESTAMP, "rejectedBy" character varying, "rejectedAt" TIMESTAMP, "rejectionReason" text, "postedBy" character varying, "postedAt" TIMESTAMP, "isReversed" boolean NOT NULL DEFAULT false, "reversedBy" character varying, "reversedAt" TIMESTAMP, "reversalJournalId" character varying, "attachments" json, "notes" text, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_cb4a1027392721c1ea5eaf3c764" UNIQUE ("journalNumber"), CONSTRAINT "PK_a70368e64230434457c8d007ab3" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "journal_entry_lines" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "journalEntryId" uuid NOT NULL, "lineNumber" integer NOT NULL, "accountId" character varying NOT NULL, "description" text NOT NULL, "debitAmount" numeric(15,2) NOT NULL DEFAULT '0', "creditAmount" numeric(15,2) NOT NULL DEFAULT '0', "costCenter" character varying(100), "department" character varying(100), "project" character varying(100), "location" character varying(100), "partyId" character varying, "partyName" character varying(255), "partyType" character varying(50), "taxId" character varying, "taxRate" numeric(5,2), "taxAmount" numeric(15,2), "generalLedgerId" character varying, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_b2f60e3664cd9803a829fb61aa4" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."payments_paymenttype_enum" AS ENUM('Receipt', 'Payment')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."payments_paymentmethod_enum" AS ENUM('Cash', 'Cheque', 'Bank Transfer', 'UPI', 'Credit Card', 'Debit Card', 'NEFT', 'RTGS', 'IMPS', 'Demand Draft', 'Other')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."payments_status_enum" AS ENUM('Draft', 'Submitted', 'Approved', 'Processed', 'Reconciled', 'Bounced', 'Cancelled')`);
        await queryRunner.query(`CREATE TABLE "payments" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "paymentNumber" character varying(50) NOT NULL, "paymentType" "kreupai_fbpa_dev"."payments_paymenttype_enum" NOT NULL, "paymentDate" date NOT NULL, "partyId" character varying NOT NULL, "partyName" character varying(255) NOT NULL, "partyType" character varying(50) NOT NULL, "paymentMethod" "kreupai_fbpa_dev"."payments_paymentmethod_enum" NOT NULL, "amount" numeric(15,2) NOT NULL, "currency" character varying(3) NOT NULL DEFAULT 'INR', "exchangeRate" numeric(10,6) NOT NULL DEFAULT '1', "baseCurrencyAmount" numeric(15,2), "bankAccountId" character varying, "bankName" character varying(100), "chequeNumber" character varying(100), "chequeDate" date, "transactionReference" character varying(100), "status" "kreupai_fbpa_dev"."payments_status_enum" NOT NULL DEFAULT 'Draft', "invoiceAllocations" json, "isPosted" boolean NOT NULL DEFAULT false, "journalEntryId" character varying, "postedAt" TIMESTAMP, "postedBy" character varying, "isReconciled" boolean NOT NULL DEFAULT false, "reconciledDate" date, "reconciledBy" character varying, "isBounced" boolean NOT NULL DEFAULT false, "bouncedDate" date, "bounceReason" text, "hasTDS" boolean NOT NULL DEFAULT false, "tdsAmount" numeric(15,2) NOT NULL DEFAULT '0', "tdsRate" numeric(5,2), "tdsSection" character varying(100), "referenceNumber" character varying(100), "description" text, "notes" text, "attachments" json, "approvedBy" character varying, "approvedAt" TIMESTAMP, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_a4faec749345edbe3aa3e3b4d47" UNIQUE ("paymentNumber"), CONSTRAINT "PK_197ab7af18c93fbb0c9b28b4a59" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."invoices_invoicetype_enum" AS ENUM('Sales Invoice', 'Purchase Invoice', 'Credit Note', 'Debit Note', 'Proforma Invoice')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."invoices_status_enum" AS ENUM('Draft', 'Submitted', 'Approved', 'Sent', 'Partially Paid', 'Paid', 'Overdue', 'Cancelled', 'Void')`);
        await queryRunner.query(`CREATE TABLE "invoices" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "invoiceNumber" character varying(50) NOT NULL, "invoiceType" "kreupai_fbpa_dev"."invoices_invoicetype_enum" NOT NULL, "invoiceDate" date NOT NULL, "dueDate" date NOT NULL, "partyId" character varying NOT NULL, "partyName" character varying(255) NOT NULL, "partyType" character varying(50) NOT NULL, "billingAddress" text, "shippingAddress" text, "referenceNumber" character varying(100), "referenceId" character varying, "subtotal" numeric(15,2) NOT NULL DEFAULT '0', "taxAmount" numeric(15,2) NOT NULL DEFAULT '0', "discountAmount" numeric(15,2) NOT NULL DEFAULT '0', "shippingCharges" numeric(15,2) NOT NULL DEFAULT '0', "otherCharges" numeric(15,2) NOT NULL DEFAULT '0', "totalAmount" numeric(15,2) NOT NULL, "paidAmount" numeric(15,2) NOT NULL DEFAULT '0', "balanceAmount" numeric(15,2) NOT NULL DEFAULT '0', "paymentTerms" character varying(100), "creditDays" integer NOT NULL DEFAULT '0', "currency" character varying(3) NOT NULL DEFAULT 'INR', "exchangeRate" numeric(10,6) NOT NULL DEFAULT '1', "status" "kreupai_fbpa_dev"."invoices_status_enum" NOT NULL DEFAULT 'Draft', "isPosted" boolean NOT NULL DEFAULT false, "journalEntryId" character varying, "postedAt" TIMESTAMP, "postedBy" character varying, "taxBreakup" json, "terms" text, "notes" text, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_bf8e0f9dd4558ef209ec111782d" UNIQUE ("invoiceNumber"), CONSTRAINT "PK_668cef7c22a427fd822cc1be3ce" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "invoice_lines" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "invoiceId" uuid NOT NULL, "lineNumber" integer NOT NULL, "productId" character varying, "productName" character varying(255) NOT NULL, "productCode" character varying(50), "description" text, "quantity" numeric(15,4) NOT NULL, "unit" character varying(50) NOT NULL, "unitPrice" numeric(15,2) NOT NULL, "amount" numeric(15,2) NOT NULL, "discountPercentage" numeric(5,2) NOT NULL DEFAULT '0', "discountAmount" numeric(15,2) NOT NULL DEFAULT '0', "taxRate" numeric(5,2) NOT NULL DEFAULT '0', "taxAmount" numeric(15,2) NOT NULL DEFAULT '0', "totalAmount" numeric(15,2) NOT NULL, "glAccountId" character varying, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_3d18eb48142b916f581f0c21a65" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."fixed_assets_depreciationmethod_enum" AS ENUM('Straight Line', 'Written Down Value (Reducing Balance)', 'Double Declining Balance', 'Units of Production', 'Sum of Years Digits')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."fixed_assets_status_enum" AS ENUM('Active', 'Under Maintenance', 'Disposed', 'Sold', 'Written Off', 'Retired')`);
        await queryRunner.query(`CREATE TABLE "fixed_assets" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "assetCode" character varying(50) NOT NULL, "assetName" character varying(255) NOT NULL, "description" text, "assetCategory" character varying(100) NOT NULL, "assetSubCategory" character varying(100), "glAccountId" character varying, "acquisitionDate" date NOT NULL, "acquisitionCost" numeric(15,2) NOT NULL, "supplier" character varying(100), "invoiceNumber" character varying(100), "poNumber" character varying(100), "depreciationMethod" "kreupai_fbpa_dev"."fixed_assets_depreciationmethod_enum" NOT NULL DEFAULT 'Straight Line', "usefulLifeYears" integer NOT NULL, "usefulLifeMonths" integer NOT NULL DEFAULT '12', "depreciationRate" numeric(5,2), "salvageValue" numeric(15,2) NOT NULL DEFAULT '0', "depreciationStartDate" date NOT NULL, "accumulatedDepreciation" numeric(15,2) NOT NULL DEFAULT '0', "netBookValue" numeric(15,2) NOT NULL DEFAULT '0', "lastDepreciationDate" date, "nextDepreciationDate" date, "location" character varying(100), "department" character varying(100), "costCenter" character varying(100), "assignedToEmployeeId" character varying, "assignedToEmployeeName" character varying(255), "manufacturer" character varying(100), "model" character varying(100), "serialNumber" character varying(100), "barcode" character varying(100), "status" "kreupai_fbpa_dev"."fixed_assets_status_enum" NOT NULL DEFAULT 'Active', "isDepreciable" boolean NOT NULL DEFAULT true, "warrantyStartDate" date, "warrantyEndDate" date, "warrantyProvider" character varying(255), "isInsured" boolean NOT NULL DEFAULT false, "insuranceProvider" character varying(255), "insurancePolicyNumber" character varying(100), "insuranceExpiryDate" date, "insuredValue" numeric(15,2), "disposalDate" date, "disposalAmount" numeric(15,2), "gainLossOnDisposal" numeric(15,2), "disposalReason" text, "attachments" json, "notes" text, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_74c89027d520edff4dcc8d66deb" UNIQUE ("assetCode"), CONSTRAINT "PK_901984c25ddf1dcf11f1c7a70d8" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "asset_depreciation" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "assetId" uuid NOT NULL, "depreciationNumber" character varying(50) NOT NULL, "periodId" character varying NOT NULL, "depreciationDate" date NOT NULL, "depreciationAmount" numeric(15,2) NOT NULL, "openingBookValue" numeric(15,2) NOT NULL, "closingBookValue" numeric(15,2) NOT NULL, "accumulatedDepreciation" numeric(15,2) NOT NULL, "journalEntryId" character varying, "isPosted" boolean NOT NULL DEFAULT false, "postedBy" character varying, "postedAt" TIMESTAMP, "notes" text, "createdBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_b5dd9bb6d797a4247d2d44367ad" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "asset_maintenance" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "assetId" uuid NOT NULL, "maintenanceNumber" character varying(50) NOT NULL, "maintenanceDate" date NOT NULL, "maintenanceType" character varying(100) NOT NULL, "description" text NOT NULL, "serviceProvider" character varying(255), "cost" numeric(15,2) NOT NULL DEFAULT '0', "invoiceNumber" character varying(100), "nextMaintenanceDate" date, "notes" text, "performedBy" character varying(100), "createdBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_54a7aac4d02988d45f184170593" UNIQUE ("maintenanceNumber"), CONSTRAINT "PK_e4d2b6acbd5c16ece4d4026ac59" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "cost_centers" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "costCenterCode" character varying(50) NOT NULL, "costCenterName" character varying(255) NOT NULL, "description" text, "parentCostCenterId" uuid, "department" character varying(100), "location" character varying(100), "managerId" character varying, "managerName" character varying(255), "isActive" boolean NOT NULL DEFAULT true, "isProfitCenter" boolean NOT NULL DEFAULT false, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_00652fa30c034d1d2c76f94e105" UNIQUE ("costCenterCode"), CONSTRAINT "PK_e70f55c677c255c1f81f0ed1ccb" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "standard_costs" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "productId" character varying NOT NULL, "productName" character varying(255) NOT NULL, "productCode" character varying(50) NOT NULL, "effectiveFromDate" date NOT NULL, "effectiveToDate" date, "materialCost" numeric(15,2) NOT NULL DEFAULT '0', "laborCost" numeric(15,2) NOT NULL DEFAULT '0', "overheadCost" numeric(15,2) NOT NULL DEFAULT '0', "otherCost" numeric(15,2) NOT NULL DEFAULT '0', "totalStandardCost" numeric(15,2) NOT NULL DEFAULT '0', "materialComponents" json, "laborComponents" json, "overheadComponents" json, "notes" text, "isActive" boolean NOT NULL DEFAULT true, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_d2a31d8fbd5d461ac198ff64e65" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "variance_analysis" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "varianceNumber" character varying(50) NOT NULL, "periodId" character varying NOT NULL, "productId" character varying, "productName" character varying(255), "jobId" character varying, "jobName" character varying(255), "analysisDate" date NOT NULL, "materialPriceVariance" numeric(15,2) NOT NULL DEFAULT '0', "materialQuantityVariance" numeric(15,2) NOT NULL DEFAULT '0', "totalMaterialVariance" numeric(15,2) NOT NULL DEFAULT '0', "laborRateVariance" numeric(15,2) NOT NULL DEFAULT '0', "laborEfficiencyVariance" numeric(15,2) NOT NULL DEFAULT '0', "totalLaborVariance" numeric(15,2) NOT NULL DEFAULT '0', "overheadSpendingVariance" numeric(15,2) NOT NULL DEFAULT '0', "overheadEfficiencyVariance" numeric(15,2) NOT NULL DEFAULT '0', "overheadVolumeVariance" numeric(15,2) NOT NULL DEFAULT '0', "totalOverheadVariance" numeric(15,2) NOT NULL DEFAULT '0', "totalVariance" numeric(15,2) NOT NULL DEFAULT '0', "variancePercentage" numeric(5,2) NOT NULL DEFAULT '0', "standardCost" numeric(15,2) NOT NULL DEFAULT '0', "actualCost" numeric(15,2) NOT NULL DEFAULT '0', "detailedAnalysis" json, "explanation" text, "correctiveActions" text, "analyzedBy" character varying(100), "createdBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_d7277a8e35271de713b858a6dfa" UNIQUE ("varianceNumber"), CONSTRAINT "PK_61ef51fb8fa40e710d3b1111794" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "wip_accounting" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "wipNumber" character varying(50) NOT NULL, "productionOrderId" character varying NOT NULL, "productionOrderNumber" character varying(255) NOT NULL, "periodId" character varying NOT NULL, "valuationDate" date NOT NULL, "productId" character varying, "productName" character varying(255), "quantity" numeric(15,4) NOT NULL, "unit" character varying(50) NOT NULL, "materialCost" numeric(15,2) NOT NULL DEFAULT '0', "laborCost" numeric(15,2) NOT NULL DEFAULT '0', "overheadCost" numeric(15,2) NOT NULL DEFAULT '0', "totalWIPValue" numeric(15,2) NOT NULL DEFAULT '0', "completionPercentage" numeric(5,2) NOT NULL DEFAULT '0', "status" character varying(50) NOT NULL DEFAULT 'In Progress', "costCenterId" character varying, "department" character varying(100), "notes" text, "createdBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_5c58af5caedb0e6c3bda5455356" UNIQUE ("wipNumber"), CONSTRAINT "PK_a2327b01556130e08c066f9cdb3" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."chart_of_accounts_accounttype_enum" AS ENUM('Asset', 'Liability', 'Equity', 'Income', 'Expense')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."chart_of_accounts_accountsubtype_enum" AS ENUM('Current Asset', 'Fixed Asset', 'Intangible Asset', 'Other Asset', 'Current Liability', 'Long-term Liability', 'Share Capital', 'Reserves', 'Retained Earnings', 'Operating Income', 'Non-operating Income', 'Cost of Goods Sold', 'Operating Expense', 'Financial Expense', 'Other Expense')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."chart_of_accounts_normalbalance_enum" AS ENUM('Debit', 'Credit')`);
        await queryRunner.query(`CREATE TABLE "chart_of_accounts" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "accountCode" character varying(20) NOT NULL, "accountName" character varying(255) NOT NULL, "accountType" "kreupai_fbpa_dev"."chart_of_accounts_accounttype_enum" NOT NULL, "accountSubType" "kreupai_fbpa_dev"."chart_of_accounts_accountsubtype_enum" NOT NULL, "normalBalance" "kreupai_fbpa_dev"."chart_of_accounts_normalbalance_enum" NOT NULL, "description" text, "parentAccountId" uuid, "level" integer NOT NULL DEFAULT '0', "isActive" boolean NOT NULL DEFAULT true, "allowPosting" boolean NOT NULL DEFAULT true, "isSystemAccount" boolean NOT NULL DEFAULT false, "costCenter" character varying(100), "department" character varying(100), "location" character varying(100), "isTaxAccount" boolean NOT NULL DEFAULT false, "taxType" character varying(50), "currency" character varying(3) NOT NULL DEFAULT 'INR', "allowMultiCurrency" boolean NOT NULL DEFAULT false, "openingBalance" numeric(15,2) NOT NULL DEFAULT '0', "currentBalance" numeric(15,2) NOT NULL DEFAULT '0', "debitTotal" numeric(15,2) NOT NULL DEFAULT '0', "creditTotal" numeric(15,2) NOT NULL DEFAULT '0', "requiresReconciliation" boolean NOT NULL DEFAULT false, "lastReconciledDate" TIMESTAMP, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_4cb7d4663a389456682a1c4f359" UNIQUE ("accountCode"), CONSTRAINT "PK_467c08a2efc78393c647da32bac" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."general_ledger_transactiontype_enum" AS ENUM('Journal Entry', 'Invoice', 'Payment', 'Receipt', 'Adjustment', 'Accrual', 'Reversal', 'Depreciation', 'Inventory', 'Payroll', 'Closing Entry')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."general_ledger_status_enum" AS ENUM('Draft', 'Posted', 'Reversed', 'Void')`);
        await queryRunner.query(`CREATE TABLE "general_ledger" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "accountId" uuid NOT NULL, "periodId" uuid NOT NULL, "transactionNumber" character varying(50) NOT NULL, "transactionType" "kreupai_fbpa_dev"."general_ledger_transactiontype_enum" NOT NULL, "postingDate" date NOT NULL, "transactionDate" date NOT NULL, "debitAmount" numeric(15,2) NOT NULL DEFAULT '0', "creditAmount" numeric(15,2) NOT NULL DEFAULT '0', "netAmount" numeric(15,2) NOT NULL DEFAULT '0', "description" text NOT NULL, "referenceNumber" character varying(100), "referenceType" character varying(50), "referenceId" character varying, "costCenter" character varying(100), "department" character varying(100), "project" character varying(100), "location" character varying(100), "partyId" character varying, "partyName" character varying(255), "partyType" character varying(50), "currency" character varying(3) NOT NULL DEFAULT 'INR', "exchangeRate" numeric(10,6) NOT NULL DEFAULT '1', "baseCurrencyAmount" numeric(15,2), "status" "kreupai_fbpa_dev"."general_ledger_status_enum" NOT NULL DEFAULT 'Draft', "postedBy" character varying, "postedAt" TIMESTAMP, "isReversed" boolean NOT NULL DEFAULT false, "reversedBy" character varying, "reversedAt" TIMESTAMP, "reversalEntryId" character varying, "journalEntryId" character varying, "lineNumber" integer, "isReconciled" boolean NOT NULL DEFAULT false, "reconciledDate" TIMESTAMP, "reconciledBy" character varying, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_a148029e2181866d8a7fe139981" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_5d00c009b0096d5d0b02090290" ON "general_ledger" ("transactionType", "postingDate") `);
        await queryRunner.query(`CREATE INDEX "IDX_9ed33e5bb68a1173df12de8f21" ON "general_ledger" ("periodId", "accountId") `);
        await queryRunner.query(`CREATE INDEX "IDX_8126fc9cac9eff5fca1f4a4909" ON "general_ledger" ("accountId", "postingDate") `);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."cash_flow_transactions_category_enum" AS ENUM('Operating Activities', 'Investing Activities', 'Financing Activities')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."cash_flow_transactions_flowtype_enum" AS ENUM('Inflow', 'Outflow')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."cash_flow_transactions_source_enum" AS ENUM('Actual', 'Forecast', 'Budget')`);
        await queryRunner.query(`CREATE TABLE "cash_flow_transactions" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "transactionNumber" character varying(50) NOT NULL, "periodId" uuid NOT NULL, "transactionDate" date NOT NULL, "category" "kreupai_fbpa_dev"."cash_flow_transactions_category_enum" NOT NULL, "flowType" "kreupai_fbpa_dev"."cash_flow_transactions_flowtype_enum" NOT NULL, "source" "kreupai_fbpa_dev"."cash_flow_transactions_source_enum" NOT NULL DEFAULT 'Actual', "description" text NOT NULL, "amount" numeric(15,2) NOT NULL, "referenceNumber" character varying(100), "referenceType" character varying(50), "referenceId" character varying, "partyId" character varying, "partyName" character varying(255), "partyType" character varying(50), "bankAccountId" character varying, "glAccountId" character varying, "costCenter" character varying(100), "department" character varying(100), "project" character varying(100), "location" character varying(100), "notes" text, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_665c2280f2476c52aa863d85de9" UNIQUE ("transactionNumber"), CONSTRAINT "PK_7512c273cffc921f1ca5a3b4c72" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "anticipated_receipts" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "receiptNumber" character varying(50) NOT NULL, "expectedDate" date NOT NULL, "expectedAmount" numeric(15,2) NOT NULL, "receivedAmount" numeric(15,2) NOT NULL DEFAULT '0', "description" character varying(255) NOT NULL, "customerId" character varying, "customerName" character varying(255) NOT NULL, "referenceNumber" character varying(100), "referenceType" character varying(50), "referenceId" character varying, "status" character varying(50) NOT NULL DEFAULT 'Pending', "isReceived" boolean NOT NULL DEFAULT false, "actualReceiptDate" date, "expectedPaymentMethod" character varying(100), "bankAccountId" character varying, "confidenceLevel" integer NOT NULL DEFAULT '100', "notes" text, "reminderSent" boolean NOT NULL DEFAULT false, "reminderSentAt" TIMESTAMP, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_689e20459fac0fbb43c12164447" UNIQUE ("receiptNumber"), CONSTRAINT "PK_84d389e0c56b515065b491275c3" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "anticipated_payments" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "paymentNumber" character varying(50) NOT NULL, "expectedDate" date NOT NULL, "expectedAmount" numeric(15,2) NOT NULL, "paidAmount" numeric(15,2) NOT NULL DEFAULT '0', "description" character varying(255) NOT NULL, "vendorId" character varying, "vendorName" character varying(255) NOT NULL, "referenceNumber" character varying(100), "referenceType" character varying(50), "referenceId" character varying, "priority" integer NOT NULL DEFAULT '5', "urgency" character varying(50) NOT NULL DEFAULT 'Medium', "status" character varying(50) NOT NULL DEFAULT 'Pending', "isPaid" boolean NOT NULL DEFAULT false, "actualPaymentDate" date, "plannedPaymentMethod" character varying(100), "bankAccountId" character varying, "requiresApproval" boolean NOT NULL DEFAULT false, "isApproved" boolean NOT NULL DEFAULT false, "approvedBy" character varying, "approvedAt" TIMESTAMP, "notes" text, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_7b44fc7bef5a15517954b80bedc" UNIQUE ("paymentNumber"), CONSTRAINT "PK_e329324499d6acc8efaa422c559" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."budgets_budgettype_enum" AS ENUM('Operating Budget', 'Capital Budget', 'Cash Budget', 'Master Budget')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."budgets_status_enum" AS ENUM('Draft', 'Submitted', 'Approved', 'Active', 'Closed', 'Revised')`);
        await queryRunner.query(`CREATE TABLE "budgets" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "budgetCode" character varying(50) NOT NULL, "budgetName" character varying(255) NOT NULL, "financialYearId" uuid NOT NULL, "budgetType" "kreupai_fbpa_dev"."budgets_budgettype_enum" NOT NULL, "startDate" date NOT NULL, "endDate" date NOT NULL, "status" "kreupai_fbpa_dev"."budgets_status_enum" NOT NULL DEFAULT 'Draft', "department" character varying(100), "costCenter" character varying(100), "project" character varying(100), "location" character varying(100), "totalBudgetedAmount" numeric(15,2) NOT NULL DEFAULT '0', "totalActualAmount" numeric(15,2) NOT NULL DEFAULT '0', "totalVariance" numeric(15,2) NOT NULL DEFAULT '0', "utilizationPercentage" numeric(5,2) NOT NULL DEFAULT '0', "description" text, "submittedBy" character varying, "submittedAt" TIMESTAMP, "approvedBy" character varying, "approvedAt" TIMESTAMP, "rejectedBy" character varying, "rejectedAt" TIMESTAMP, "rejectionReason" text, "version" integer NOT NULL DEFAULT '1', "previousVersionId" character varying, "revisionNotes" text, "notes" text, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_3cb780eeb73663f6e5fbb58cff8" UNIQUE ("budgetCode"), CONSTRAINT "PK_9c8a51748f82387644b773da482" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "budget_lines" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "budgetId" uuid NOT NULL, "accountId" character varying NOT NULL, "accountName" character varying(255) NOT NULL, "accountCode" character varying(50) NOT NULL, "periodWiseBudget" json, "annualBudgetedAmount" numeric(15,2) NOT NULL, "annualActualAmount" numeric(15,2) NOT NULL DEFAULT '0', "annualVariance" numeric(15,2) NOT NULL DEFAULT '0', "utilizationPercentage" numeric(5,2) NOT NULL DEFAULT '0', "costCenter" character varying(100), "department" character varying(100), "project" character varying(100), "notes" text, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_4eabf9c9d7c8edc9ad302270c94" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."bank_accounts_accounttype_enum" AS ENUM('Savings', 'Current', 'Overdraft', 'Fixed Deposit', 'Cash Credit')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."bank_accounts_status_enum" AS ENUM('Active', 'Inactive', 'Closed', 'Frozen')`);
        await queryRunner.query(`CREATE TABLE "bank_accounts" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "accountCode" character varying(50) NOT NULL, "accountName" character varying(255) NOT NULL, "bankName" character varying(255) NOT NULL, "branchName" character varying(255) NOT NULL, "branchCode" character varying(100), "accountNumber" character varying(100) NOT NULL, "ifscCode" character varying(50), "swiftCode" character varying(50), "accountType" "kreupai_fbpa_dev"."bank_accounts_accounttype_enum" NOT NULL, "currency" character varying(3) NOT NULL DEFAULT 'INR', "status" "kreupai_fbpa_dev"."bank_accounts_status_enum" NOT NULL DEFAULT 'Active', "glAccountId" character varying, "openingBalance" numeric(15,2) NOT NULL DEFAULT '0', "currentBalance" numeric(15,2) NOT NULL DEFAULT '0', "balanceAsOfDate" date, "overdraftLimit" numeric(15,2), "minimumBalance" numeric(15,2), "isReconciledUptoDate" boolean NOT NULL DEFAULT false, "lastReconciledDate" date, "lastReconciledBalance" numeric(15,2), "contactPerson" character varying(255), "contactPhone" character varying(50), "contactEmail" character varying(255), "address" text, "city" character varying(100), "state" character varying(100), "pincode" character varying(20), "country" character varying(100), "hasOnlineBanking" boolean NOT NULL DEFAULT false, "onlineBankingUrl" character varying(255), "notes" text, "isDefault" boolean NOT NULL DEFAULT true, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_2055be98d7d740103291e68ad96" UNIQUE ("accountCode"), CONSTRAINT "PK_c872de764f2038224a013ff25ed" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."bank_reconciliations_status_enum" AS ENUM('In Progress', 'Completed', 'Reviewed', 'Approved')`);
        await queryRunner.query(`CREATE TABLE "bank_reconciliations" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "reconciliationNumber" character varying(50) NOT NULL, "bankAccountId" uuid NOT NULL, "reconciliationDate" date NOT NULL, "statementStartDate" date NOT NULL, "statementEndDate" date NOT NULL, "openingBalancePerBooks" numeric(15,2) NOT NULL, "closingBalancePerBooks" numeric(15,2) NOT NULL, "openingBalancePerBank" numeric(15,2) NOT NULL, "closingBalancePerBank" numeric(15,2) NOT NULL, "totalTransactions" integer NOT NULL DEFAULT '0', "matchedTransactions" integer NOT NULL DEFAULT '0', "unmatchedBookTransactions" integer NOT NULL DEFAULT '0', "unmatchedBankTransactions" integer NOT NULL DEFAULT '0', "totalDifference" numeric(15,2) NOT NULL DEFAULT '0', "unreconciledDebits" numeric(15,2) NOT NULL DEFAULT '0', "unreconciledCredits" numeric(15,2) NOT NULL DEFAULT '0', "status" "kreupai_fbpa_dev"."bank_reconciliations_status_enum" NOT NULL DEFAULT 'In Progress', "isBalanced" boolean NOT NULL DEFAULT false, "reconciledBy" character varying, "reconciledAt" TIMESTAMP, "reviewedBy" character varying, "reviewedAt" TIMESTAMP, "approvedBy" character varying, "approvedAt" TIMESTAMP, "adjustments" json, "notes" text, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_d202c553bdf72073e90cf7570a3" UNIQUE ("reconciliationNumber"), CONSTRAINT "PK_2616ee3f2acfae424b545a9d3be" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."bank_statements_status_enum" AS ENUM('Matched', 'Unmatched', 'Suggested Match', 'Manually Matched')`);
        await queryRunner.query(`CREATE TABLE "bank_statements" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "reconciliationId" uuid, "bankAccountId" character varying NOT NULL, "transactionDate" date NOT NULL, "valueDate" date, "description" text NOT NULL, "referenceNumber" character varying(100), "chequeNumber" character varying(100), "debitAmount" numeric(15,2) NOT NULL DEFAULT '0', "creditAmount" numeric(15,2) NOT NULL DEFAULT '0', "balance" numeric(15,2) NOT NULL, "status" "kreupai_fbpa_dev"."bank_statements_status_enum" NOT NULL DEFAULT 'Unmatched', "isMatched" boolean NOT NULL DEFAULT false, "matchedPaymentId" character varying, "notes" text, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_5c1323356166100e9b4c6a21fda" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "reconciliation_matches" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "reconciliationId" uuid NOT NULL, "bankStatementId" character varying, "paymentId" character varying, "generalLedgerId" character varying, "matchType" character varying(100) NOT NULL, "amount" numeric(15,2) NOT NULL, "matchedDate" date NOT NULL, "matchedBy" character varying, "confidenceScore" integer, "notes" text, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_2ab553fffe4b51b1bc568397cec" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."boq_status_enum" AS ENUM('Draft', 'Under Review', 'Approved', 'Rejected')`);
        await queryRunner.query(`CREATE TABLE "boq" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "boqNumber" character varying NOT NULL, "projectName" character varying NOT NULL, "clientName" character varying NOT NULL, "projectLocation" character varying NOT NULL, "projectDuration" character varying, "currency" character varying NOT NULL DEFAULT 'USD', "estimatedValue" double precision NOT NULL DEFAULT '0', "notes" text, "status" "kreupai_fbpa_dev"."boq_status_enum" NOT NULL DEFAULT 'Draft', "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_b326b58e0f6aea9a0c53fdeb00a" UNIQUE ("boqNumber"), CONSTRAINT "PK_ad71b12bcdb853bd28c14bbe343" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "boq_items" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "boqId" uuid NOT NULL, "itemNo" character varying NOT NULL, "description" character varying NOT NULL, "unit" character varying NOT NULL, "quantity" double precision NOT NULL, "unitRate" double precision NOT NULL, "totalAmount" double precision NOT NULL, "specifications" text, "category" character varying NOT NULL, CONSTRAINT "PK_124b85f304c935d0044cd722dc9" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."crm_leads_status_enum" AS ENUM('new', 'contacted', 'qualified', 'proposal', 'negotiation', 'won', 'lost')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."crm_leads_rating_enum" AS ENUM('hot', 'warm', 'cold')`);
        await queryRunner.query(`CREATE TABLE "crm_leads" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "firstName" character varying NOT NULL, "lastName" character varying NOT NULL, "title" character varying, "company" character varying NOT NULL, "website" character varying, "industry" character varying, "employeeCount" character varying, "annualRevenue" character varying, "email" character varying NOT NULL, "phone" character varying, "mobile" character varying, "fax" character varying, "street" character varying, "city" character varying, "state" character varying, "postalCode" character varying, "country" character varying, "status" "kreupai_fbpa_dev"."crm_leads_status_enum" NOT NULL DEFAULT 'new', "rating" "kreupai_fbpa_dev"."crm_leads_rating_enum" NOT NULL DEFAULT 'warm', "leadSource" character varying NOT NULL, "leadSubSource" character varying, "referredBy" character varying, "campaign" character varying, "estimatedValue" numeric(15,2), "estimatedCloseDate" date, "probability" integer DEFAULT '50', "productInterest" text, "customProducts" text, "assignedTo" character varying, "teamAssignment" character varying, "description" text, "tags" text, "customFields" json, "linkedIn" character varying, "twitter" character varying, "facebook" character varying, "gdprConsent" boolean NOT NULL DEFAULT false, "emailOptIn" boolean NOT NULL DEFAULT true, "smsOptIn" boolean NOT NULL DEFAULT false, "doNotCall" boolean NOT NULL DEFAULT false, "leadScore" integer NOT NULL DEFAULT '0', "attachments" json, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "lastContactDate" TIMESTAMP, CONSTRAINT "PK_023c67e7150b04458c964631db3" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."vendors_vendortype_enum" AS ENUM('Manufacturer', 'Distributor', 'Service Provider', 'Raw Material Supplier', 'Contractor')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."vendors_status_enum" AS ENUM('Active', 'Inactive', 'Suspended', 'Blacklisted', 'Prospective')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."vendors_qualityrating_enum" AS ENUM('Excellent', 'Good', 'Fair', 'Poor', 'No Rating')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."vendors_deliveryrating_enum" AS ENUM('Excellent', 'Good', 'Fair', 'Poor', 'No Rating')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."vendors_pricerating_enum" AS ENUM('Excellent', 'Good', 'Fair', 'Poor', 'No Rating')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."vendors_overallrating_enum" AS ENUM('Excellent', 'Good', 'Fair', 'Poor', 'No Rating')`);
        await queryRunner.query(`CREATE TABLE "vendors" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "vendorCode" character varying(50) NOT NULL, "vendorName" character varying(255) NOT NULL, "vendorType" "kreupai_fbpa_dev"."vendors_vendortype_enum" NOT NULL DEFAULT 'Manufacturer', "status" "kreupai_fbpa_dev"."vendors_status_enum" NOT NULL DEFAULT 'Prospective', "contactPerson" character varying(255), "email" character varying(255), "phone" character varying(50), "mobile" character varying(50), "fax" character varying(50), "website" character varying(255), "address" text, "city" character varying(255), "state" character varying(100), "country" character varying(100), "zipCode" character varying(20), "taxId" character varying(50), "gstNumber" character varying(50), "panNumber" character varying(50), "isTaxDeducted" boolean NOT NULL DEFAULT false, "tdsRate" numeric(5,2) NOT NULL DEFAULT '0', "paymentTermsDays" integer NOT NULL DEFAULT '30', "paymentTerms" character varying(100), "currency" character varying(3) NOT NULL DEFAULT 'INR', "bankName" character varying(255), "bankAccountNumber" character varying(100), "ifscCode" character varying(50), "swiftCode" character varying(50), "beneficiaryName" character varying(255), "qualityRating" "kreupai_fbpa_dev"."vendors_qualityrating_enum" NOT NULL DEFAULT 'No Rating', "deliveryRating" "kreupai_fbpa_dev"."vendors_deliveryrating_enum" NOT NULL DEFAULT 'No Rating', "priceRating" "kreupai_fbpa_dev"."vendors_pricerating_enum" NOT NULL DEFAULT 'No Rating', "overallRating" "kreupai_fbpa_dev"."vendors_overallrating_enum" NOT NULL DEFAULT 'No Rating', "onTimeDeliveryPercentage" numeric(5,2) NOT NULL DEFAULT '0', "defectRate" numeric(5,2) NOT NULL DEFAULT '0', "leadTimeDays" integer NOT NULL DEFAULT '0', "productsSupplied" text, "servicesProvided" text, "category" character varying(100), "buyerId" character varying, "buyerName" character varying(255), "isISO9001Certified" boolean NOT NULL DEFAULT false, "isISO14001Certified" boolean NOT NULL DEFAULT false, "certifications" json, "outstandingPayables" numeric(15,2) NOT NULL DEFAULT '0', "totalPurchases" numeric(15,2) NOT NULL DEFAULT '0', "lastPurchaseAmount" numeric(15,2) NOT NULL DEFAULT '0', "lastPurchaseDate" TIMESTAMP, "isApproved" boolean NOT NULL DEFAULT false, "approvedBy" character varying(100), "approvedAt" TIMESTAMP, "notes" text, "customFields" json, "attachments" json, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_b6fe5f17015beb44a185f51273c" UNIQUE ("vendorCode"), CONSTRAINT "PK_9c956c9797edfae5c6ddacc4e6e" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."unit_of_measures_uomtype_enum" AS ENUM('Quantity', 'Length', 'Weight', 'Volume', 'Area', 'Time', 'Temperature')`);
        await queryRunner.query(`CREATE TABLE "unit_of_measures" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "uomCode" character varying(50) NOT NULL, "uomName" character varying(255) NOT NULL, "uomType" "kreupai_fbpa_dev"."unit_of_measures_uomtype_enum" NOT NULL, "symbol" character varying(20), "isActive" boolean NOT NULL DEFAULT true, "baseUOMId" character varying, "conversionFactor" numeric(15,6) NOT NULL DEFAULT '1', "allowFractional" boolean NOT NULL DEFAULT true, "decimalPlaces" integer NOT NULL DEFAULT '2', "description" text, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_cab698f1a1420ea2bea334970cf" UNIQUE ("uomCode"), CONSTRAINT "PK_e875eebb54ac0b74160345926d3" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."items_itemtype_enum" AS ENUM('Raw Material', 'Semi-Finished Good', 'Finished Good', 'Service', 'Consumable', 'Asset', 'Spare Part')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."items_status_enum" AS ENUM('Active', 'Inactive', 'Discontinued', 'Obsolete')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."items_valuationmethod_enum" AS ENUM('FIFO', 'LIFO', 'Weighted Average', 'Standard Cost')`);
        await queryRunner.query(`CREATE TABLE "items" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "itemCode" character varying(50) NOT NULL, "itemName" character varying(255) NOT NULL, "itemDescription" character varying(255), "itemType" "kreupai_fbpa_dev"."items_itemtype_enum" NOT NULL DEFAULT 'Raw Material', "status" "kreupai_fbpa_dev"."items_status_enum" NOT NULL DEFAULT 'Active', "category" character varying(100), "subCategory" character varying(100), "brand" character varying(100), "manufacturer" character varying(100), "barcode" character varying(100), "sku" character varying(100), "hsnCode" character varying(100), "baseUOM" character varying(50) NOT NULL DEFAULT 'PCS', "alternateUOMs" json, "maintainStock" boolean NOT NULL DEFAULT true, "trackSerialNumber" boolean NOT NULL DEFAULT true, "trackBatchNumber" boolean NOT NULL DEFAULT false, "trackExpiryDate" boolean NOT NULL DEFAULT false, "currentStock" numeric(15,4) NOT NULL DEFAULT '0', "reorderLevel" numeric(15,4) NOT NULL DEFAULT '0', "reorderQuantity" numeric(15,4) NOT NULL DEFAULT '0', "minimumOrderQuantity" numeric(15,4) NOT NULL DEFAULT '0', "maximumStock" numeric(15,4) NOT NULL DEFAULT '0', "safetyStock" numeric(15,4) NOT NULL DEFAULT '0', "leadTimeDays" integer NOT NULL DEFAULT '0', "standardCost" numeric(15,2) NOT NULL DEFAULT '0', "averageCost" numeric(15,2) NOT NULL DEFAULT '0', "lastPurchasePrice" numeric(15,2) NOT NULL DEFAULT '0', "standardSellingPrice" numeric(15,2) NOT NULL DEFAULT '0', "minimumSellingPrice" numeric(15,2) NOT NULL DEFAULT '0', "maximumSellingPrice" numeric(15,2) NOT NULL DEFAULT '0', "valuationMethod" "kreupai_fbpa_dev"."items_valuationmethod_enum" NOT NULL DEFAULT 'Weighted Average', "isTaxable" boolean NOT NULL DEFAULT false, "taxRate" numeric(5,2) NOT NULL DEFAULT '0', "taxCategory" character varying(50), "gstSlabCode" character varying(100), "weight" numeric(10,3) NOT NULL DEFAULT '0', "weightUOM" character varying(20) NOT NULL DEFAULT 'kg', "length" numeric(10,3) NOT NULL DEFAULT '0', "width" numeric(10,3) NOT NULL DEFAULT '0', "height" numeric(10,3) NOT NULL DEFAULT '0', "dimensionUOM" character varying(20) NOT NULL DEFAULT 'cm', "volume" numeric(10,3) NOT NULL DEFAULT '0', "requiresQualityInspection" boolean NOT NULL DEFAULT false, "qcTemplateId" character varying, "shelfLifeDays" integer NOT NULL DEFAULT '0', "warrantyDays" integer NOT NULL DEFAULT '0', "preferredVendorId" character varying, "preferredVendorName" character varying(255), "approvedVendors" json, "isManufactured" boolean NOT NULL DEFAULT false, "isPurchased" boolean NOT NULL DEFAULT false, "isSold" boolean NOT NULL DEFAULT false, "defaultBOMId" character varying, "defaultRoutingId" character varying, "inventoryAccountId" character varying, "cogsAccountId" character varying, "salesAccountId" character varying, "purchaseAccountId" character varying, "primaryImageUrl" character varying(500), "images" json, "attachments" json, "allowSales" boolean NOT NULL DEFAULT true, "allowPurchase" boolean NOT NULL DEFAULT true, "isStockItem" boolean NOT NULL DEFAULT false, "isFixedAsset" boolean NOT NULL DEFAULT false, "notes" text, "customFields" json, "specifications" json, "totalStockValue" numeric(15,2) NOT NULL DEFAULT '0', "ytdSalesQuantity" numeric(15,4) NOT NULL DEFAULT '0', "ytdSalesValue" numeric(15,2) NOT NULL DEFAULT '0', "lastSaleDate" TIMESTAMP, "lastPurchaseDate" TIMESTAMP, "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_509af52f9512d5cf0f0d1cc8a49" UNIQUE ("itemCode"), CONSTRAINT "PK_ba5885359424c15ca6b9e79bcf6" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."customers_customertype_enum" AS ENUM('Individual', 'Company', 'Government', 'Distributor', 'Reseller')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."customers_status_enum" AS ENUM('Active', 'Inactive', 'Suspended', 'Blacklisted')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."customers_creditrating_enum" AS ENUM('Excellent', 'Good', 'Fair', 'Poor', 'No Rating')`);
        await queryRunner.query(`CREATE TABLE "customers" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "customerCode" character varying(50) NOT NULL, "customerName" character varying(255) NOT NULL, "customerType" "kreupai_fbpa_dev"."customers_customertype_enum" NOT NULL DEFAULT 'Company', "status" "kreupai_fbpa_dev"."customers_status_enum" NOT NULL DEFAULT 'Active', "contactPerson" character varying(255), "email" character varying(255), "phone" character varying(50), "mobile" character varying(50), "fax" character varying(50), "website" character varying(255), "billingAddress" text, "billingCity" character varying(255), "billingState" character varying(100), "billingCountry" character varying(100), "billingZipCode" character varying(20), "shippingAddress" text, "shippingCity" character varying(255), "shippingState" character varying(100), "shippingCountry" character varying(100), "shippingZipCode" character varying(20), "taxId" character varying(50), "gstNumber" character varying(50), "panNumber" character varying(50), "isTaxExempt" boolean NOT NULL DEFAULT false, "creditLimit" numeric(15,2) NOT NULL DEFAULT '0', "creditDays" integer NOT NULL DEFAULT '30', "creditRating" "kreupai_fbpa_dev"."customers_creditrating_enum" NOT NULL DEFAULT 'No Rating', "paymentTerms" character varying(100), "currency" character varying(3) NOT NULL DEFAULT 'INR', "priceList" character varying(100), "bankName" character varying(255), "bankAccountNumber" character varying(100), "ifscCode" character varying(50), "swiftCode" character varying(50), "industry" character varying(100), "territory" character varying(100), "salesPerson" character varying(100), "salesPersonId" character varying, "customerGroup" character varying(100), "outstandingBalance" numeric(15,2) NOT NULL DEFAULT '0', "totalSales" numeric(15,2) NOT NULL DEFAULT '0', "lastSaleAmount" numeric(15,2) NOT NULL DEFAULT '0', "lastSaleDate" TIMESTAMP, "notes" text, "customFields" json, "attachments" json, "loyaltyPoints" integer NOT NULL DEFAULT '0', "defaultDiscountPercentage" numeric(5,2) NOT NULL DEFAULT '0', "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "UQ_5029e0ca955a46e2066e8c0c4f0" UNIQUE ("customerCode"), CONSTRAINT "PK_133ec679a801fab5e070f73d3ea" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."categories_categorytype_enum" AS ENUM('Item', 'Customer', 'Vendor', 'Asset', 'Expense')`);
        await queryRunner.query(`CREATE TABLE "categories" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "categoryCode" character varying(50) NOT NULL, "categoryName" character varying(255) NOT NULL, "categoryType" "kreupai_fbpa_dev"."categories_categorytype_enum" NOT NULL, "parentCategoryId" uuid, "level" integer NOT NULL DEFAULT '0', "isActive" boolean NOT NULL DEFAULT true, "description" text, "imageUrl" character varying(500), "sortOrder" integer NOT NULL DEFAULT '0', "createdBy" character varying(100), "updatedBy" character varying(100), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_24dbc6126a28ff948da33e97d3b" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."customer_feedback_feedbackchannel_enum" AS ENUM('sms', 'email', 'phone', 'web_portal', 'mobile_app', 'whatsapp', 'in_person')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."customer_feedback_sentiment_enum" AS ENUM('very_positive', 'positive', 'neutral', 'negative', 'very_negative')`);
        await queryRunner.query(`CREATE TABLE "customer_feedback" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "feedbackNumber" character varying, "serviceTicketId" character varying, "fieldServiceJobId" character varying, "installationId" character varying, "customerId" character varying NOT NULL, "customerName" character varying NOT NULL, "contactPerson" character varying, "contactPhone" character varying, "contactEmail" character varying, "feedbackChannel" "kreupai_fbpa_dev"."customer_feedback_feedbackchannel_enum" NOT NULL DEFAULT 'email', "feedbackDate" TIMESTAMP NOT NULL, "collectedBy" character varying, "serviceDate" TIMESTAMP NOT NULL, "serviceType" character varying NOT NULL, "engineerId" character varying, "engineerName" character varying, "overallSatisfaction" integer NOT NULL DEFAULT '0', "serviceQuality" integer NOT NULL DEFAULT '0', "engineerProfessionalism" integer NOT NULL DEFAULT '0', "responseTime" integer NOT NULL DEFAULT '0', "problemResolution" integer NOT NULL DEFAULT '0', "communication" integer NOT NULL DEFAULT '0', "npsRating" integer, "npsCategory" character varying, "whatWentWell" text, "areasOfImprovement" text, "additionalComments" text, "suggestions" text, "engineerKnowledge" character varying, "engineerCourtesy" character varying, "workQuality" character varying, "timeliness" character varying, "cleanliness" character varying, "valueForMoney" character varying, "sentiment" "kreupai_fbpa_dev"."customer_feedback_sentiment_enum" NOT NULL DEFAULT 'neutral', "sentimentScore" numeric(3,2), "keyPhrases" text, "issuesReported" text, "severity" character varying, "actionRequired" boolean NOT NULL DEFAULT false, "followUpRequired" boolean NOT NULL DEFAULT false, "followUpReason" character varying, "followUpDate" TIMESTAMP, "followUpCompletedBy" character varying, "followUpNotes" text, "issueResolved" boolean NOT NULL DEFAULT false, "resolutionNotes" text, "resolutionDate" TIMESTAMP, "engineerPraise" boolean NOT NULL DEFAULT false, "praiseShared" boolean NOT NULL DEFAULT false, "rewardRecommended" boolean NOT NULL DEFAULT false, "likelyToRecommend" boolean NOT NULL DEFAULT false, "repeatCustomer" boolean NOT NULL DEFAULT false, "contractRenewalIntent" character varying(20), "surveyLink" character varying, "surveyDuration" integer, "deviceType" character varying, "ipAddress" character varying, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_bf049c5e29858227f202a0aeea4" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."complaint_status_enum" AS ENUM('registered', 'acknowledged', 'under_investigation', 'action_in_progress', 'resolved', 'closed', 'escalated')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."complaint_severity_enum" AS ENUM('low', 'medium', 'high', 'critical')`);
        await queryRunner.query(`CREATE TYPE "kreupai_fbpa_dev"."complaint_complaintchannel_enum" AS ENUM('sms', 'email', 'phone', 'web_portal', 'mobile_app', 'whatsapp', 'in_person')`);
        await queryRunner.query(`CREATE TABLE "complaint" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "complaintNumber" character varying NOT NULL, "status" "kreupai_fbpa_dev"."complaint_status_enum" NOT NULL DEFAULT 'registered', "severity" "kreupai_fbpa_dev"."complaint_severity_enum" NOT NULL DEFAULT 'low', "customerId" character varying NOT NULL, "customerName" character varying NOT NULL, "contactPerson" character varying NOT NULL, "contactPhone" character varying NOT NULL, "contactEmail" character varying, "serviceTicketId" character varying, "fieldServiceJobId" character varying, "serviceDate" TIMESTAMP, "engineerId" character varying, "complaintDate" TIMESTAMP NOT NULL, "complaintChannel" "kreupai_fbpa_dev"."complaint_complaintchannel_enum" NOT NULL DEFAULT 'email', "complaintCategory" character varying NOT NULL, "complaintSubject" character varying NOT NULL, "complaintDescription" text NOT NULL, "customerImpact" character varying NOT NULL, "businessImpact" character varying, "financialImpact" numeric(15,2), "reputationImpact" character varying, "acknowledged" boolean NOT NULL DEFAULT false, "acknowledgedDate" TIMESTAMP, "acknowledgedBy" character varying, "acknowledgmentSentToCustomer" boolean NOT NULL DEFAULT false, "investigationStarted" boolean NOT NULL DEFAULT false, "investigationStartDate" TIMESTAMP, "investigatedBy" character varying, "investigationNotes" text, "rootCauseIdentified" boolean NOT NULL DEFAULT false, "rootCause" text, "contributingFactors" text, "responsibleParty" character varying, "actionPlan" text, "actionOwner" character varying, "actionTargetDate" TIMESTAMP, "actionCompleted" boolean NOT NULL DEFAULT false, "actionCompletionDate" TIMESTAMP, "resolutionNotes" text, "resolutionDate" TIMESTAMP, "resolvedBy" character varying, "resolutionMethod" character varying, "communicationLog" jsonb, "escalated" boolean NOT NULL DEFAULT false, "escalationLevel" integer, "escalatedTo" character varying, "escalationDate" TIMESTAMP, "escalationReason" character varying, "customerSatisfiedWithResolution" boolean NOT NULL DEFAULT false, "postResolutionFeedback" text, "postResolutionRating" integer, "preventiveMeasures" text, "processImprovement" text, "trainingRequired" text, "policyChange" text, "compensationOffered" boolean NOT NULL DEFAULT false, "compensationType" character varying, "compensationAmount" numeric(15,2), "compensationApprovedBy" character varying, "closureNotes" text, "closedDate" TIMESTAMP, "closedBy" character varying, "closureApprovedBy" character varying, "similarComplaintsBefore" boolean NOT NULL DEFAULT false, "previousComplaintIds" text, "recurringIssue" boolean NOT NULL DEFAULT false, "supportingDocuments" text, "evidencePhotos" text, "emailCorrespondence" text, "createdBy" character varying NOT NULL, "updatedBy" character varying, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_a9c8dbc2ab4988edcc2ff0a7337" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "feedback_analytics" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "periodStart" TIMESTAMP NOT NULL, "periodEnd" TIMESTAMP NOT NULL, "periodType" character varying NOT NULL, "totalFeedbackReceived" integer NOT NULL DEFAULT '0', "feedbackResponseRate" numeric(5,2) NOT NULL DEFAULT '0', "averageOverallSatisfaction" numeric(3,2) NOT NULL DEFAULT '0', "satisfactionTrend" character varying, "averageServiceQuality" numeric(3,2) NOT NULL DEFAULT '0', "averageEngineerProfessionalism" numeric(3,2) NOT NULL DEFAULT '0', "averageResponseTime" numeric(3,2) NOT NULL DEFAULT '0', "averageProblemResolution" numeric(3,2) NOT NULL DEFAULT '0', "averageCommunication" numeric(3,2) NOT NULL DEFAULT '0', "totalNPSResponses" integer NOT NULL DEFAULT '0', "promotersCount" integer NOT NULL DEFAULT '0', "passivesCount" integer NOT NULL DEFAULT '0', "detractorsCount" integer NOT NULL DEFAULT '0', "npsScore" integer NOT NULL DEFAULT '0', "npsTrend" character varying, "csatScore" numeric(5,2) NOT NULL DEFAULT '0', "csatTrend" character varying, "veryPositiveCount" integer NOT NULL DEFAULT '0', "positiveCount" integer NOT NULL DEFAULT '0', "neutralCount" integer NOT NULL DEFAULT '0', "negativeCount" integer NOT NULL DEFAULT '0', "veryNegativeCount" integer NOT NULL DEFAULT '0', "sentimentScore" numeric(3,2) NOT NULL DEFAULT '0', "channelPerformance" jsonb, "topPraiseTopics" jsonb, "topImprovementTopics" jsonb, "topRatedEngineers" jsonb, "totalComplaints" integer NOT NULL DEFAULT '0', "complaintRate" numeric(5,2) NOT NULL DEFAULT '0', "criticalComplaints" integer NOT NULL DEFAULT '0', "complaintResolutionRate" numeric(5,2) NOT NULL DEFAULT '0', "followUpsPending" integer NOT NULL DEFAULT '0', "issuesUnresolved" integer NOT NULL DEFAULT '0', "escalationsRequired" integer NOT NULL DEFAULT '0', "strengthAreas" text, "improvementAreas" text, "urgentActions" text, "generatedBy" character varying NOT NULL, "generatedAt" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_fa367c2b3963a26e3cea68a1594" PRIMARY KEY ("id"))`);
        await queryRunner.query(`ALTER TABLE "workflow_history" ADD CONSTRAINT "FK_758027d424d0a3a9098ff41a172" FOREIGN KEY ("instanceId") REFERENCES "workflow_instances"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "workflow_instances" ADD CONSTRAINT "FK_a5ec5eb7e568ede26788b213381" FOREIGN KEY ("definitionId") REFERENCES "workflow_definitions"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "workflow_steps" ADD CONSTRAINT "FK_14cbb28fedf1c90cb0a1ed13804" FOREIGN KEY ("instanceId") REFERENCES "workflow_instances"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "approval_steps" ADD CONSTRAINT "FK_aee264061d88bd1a0e7acba07b4" FOREIGN KEY ("approvalId") REFERENCES "workflow_approvals"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "quality_gate_items" ADD CONSTRAINT "FK_fd858fd7efe20b1a6b47486f9d5" FOREIGN KEY ("qualityGateId") REFERENCES "quality_gates"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "defects" ADD CONSTRAINT "FK_36ee62a94adac3040703141409f" FOREIGN KEY ("qualityGateId") REFERENCES "quality_gates"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "qc_parameters" ADD CONSTRAINT "FK_621e21d47942dc1a10662c621b0" FOREIGN KEY ("qcTemplateId") REFERENCES "qc_templates"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "inspection_results" ADD CONSTRAINT "FK_2b06bb1bb0ba3d475eb0a2c0eca" FOREIGN KEY ("inspectionId") REFERENCES "inspections"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "audit_findings" ADD CONSTRAINT "FK_a9b116ab594d2e68b4881f175ca" FOREIGN KEY ("auditPlanId") REFERENCES "audit_plans"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "work_order_items" ADD CONSTRAINT "FK_da779a5be53e2f7e508960d8e67" FOREIGN KEY ("workOrderId") REFERENCES "work_orders"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "bom_items" ADD CONSTRAINT "FK_43b33894ec24ad195df83376d5f" FOREIGN KEY ("bomId") REFERENCES "boms"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "purchase_order_items" ADD CONSTRAINT "FK_1de7eb246940b05765d2c99a7ec" FOREIGN KEY ("purchaseOrderId") REFERENCES "purchase_orders"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "goods_receipt_items" ADD CONSTRAINT "FK_d1c1d80926f6e0eedd7b1473635" FOREIGN KEY ("goodsReceiptId") REFERENCES "goods_receipts"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "logistics_shipment_items" ADD CONSTRAINT "FK_6f551265c18ef9c4fa1bc8756eb" FOREIGN KEY ("shipmentId") REFERENCES "logistics_shipments"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "logistics_delivery_notes" ADD CONSTRAINT "FK_e18ef2e1ed03fc4a04ceee420af" FOREIGN KEY ("shipmentId") REFERENCES "logistics_shipments"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "logistics_tracking_events" ADD CONSTRAINT "FK_71d571806eee05fb0b3f1e6fc40" FOREIGN KEY ("shipmentId") REFERENCES "logistics_shipments"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "logistics_tracking_events" ADD CONSTRAINT "FK_82ba955313d56233313b65bb1ba" FOREIGN KEY ("tripId") REFERENCES "logistics_trips"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "logistics_freight_charges" ADD CONSTRAINT "FK_b40b5fac644b393b41d81e36f5c" FOREIGN KEY ("shipmentId") REFERENCES "logistics_shipments"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "logistics_shipments" ADD CONSTRAINT "FK_5b3a5d8bbc2c64a865276389b9d" FOREIGN KEY ("tripId") REFERENCES "logistics_trips"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "logistics_trips" ADD CONSTRAINT "FK_61b23911e303b140ec91ffb939f" FOREIGN KEY ("vehicleId") REFERENCES "logistics_vehicles"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "logistics_trips" ADD CONSTRAINT "FK_7b505c5e14fdad143596ee26904" FOREIGN KEY ("driverId") REFERENCES "logistics_drivers"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "logistics_trips" ADD CONSTRAINT "FK_743b281aefa92227e1b36f1c587" FOREIGN KEY ("routeId") REFERENCES "logistics_routes"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "it_user_sessions" ADD CONSTRAINT "FK_247c3f81da4d1157c597c199bc1" FOREIGN KEY ("userId") REFERENCES "it_users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "it_password_history" ADD CONSTRAINT "FK_a99a4e2dbd624e8b93819d7e676" FOREIGN KEY ("userId") REFERENCES "it_users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "it_audit_logs" ADD CONSTRAINT "FK_4d479c8e82bd74fc3410d4c0ab1" FOREIGN KEY ("userId") REFERENCES "it_users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "it_notifications" ADD CONSTRAINT "FK_b26ffc7b5c214d27d6f45f4ff68" FOREIGN KEY ("userId") REFERENCES "it_users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "it_roles" ADD CONSTRAINT "FK_477837840d6b560c91441686c9f" FOREIGN KEY ("parentRoleId") REFERENCES "it_roles"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "it_role_permissions" ADD CONSTRAINT "FK_45d66095756b1ae78c474a4154b" FOREIGN KEY ("roleId") REFERENCES "it_roles"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "it_role_permissions" ADD CONSTRAINT "FK_673109da4832b566ad010becf18" FOREIGN KEY ("permissionId") REFERENCES "it_permissions"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "it_user_roles" ADD CONSTRAINT "FK_2f9e2fdfd4bf79afece143923c0" FOREIGN KEY ("userId") REFERENCES "it_users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "it_user_roles" ADD CONSTRAINT "FK_b4923818a0d4388f1e8b02e9669" FOREIGN KEY ("roleId") REFERENCES "it_roles"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "stock_locations" ADD CONSTRAINT "FK_5517a47c51fd011d858172c486d" FOREIGN KEY ("warehouseId") REFERENCES "warehouses"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "stock_transfer_lines" ADD CONSTRAINT "FK_e117b567ea18889b36c91250c48" FOREIGN KEY ("stockTransferId") REFERENCES "stock_transfers"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "stock_entry_lines" ADD CONSTRAINT "FK_10f5b7c5a1bf96013163eeb573a" FOREIGN KEY ("stockEntryId") REFERENCES "stock_entries"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "stock_adjustment_lines" ADD CONSTRAINT "FK_381bc8fd0dfc7737815b4ae9d56" FOREIGN KEY ("stockAdjustmentId") REFERENCES "stock_adjustments"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "hr_leave_balances" ADD CONSTRAINT "FK_943ff85c0a2eeba2f61dea046ee" FOREIGN KEY ("employeeId") REFERENCES "hr_employees"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "hr_leave_balances" ADD CONSTRAINT "FK_67211e3b4ff7f7f370dcd70aafc" FOREIGN KEY ("leaveTypeId") REFERENCES "hr_leave_types"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "hr_attendance" ADD CONSTRAINT "FK_40e91917c3482ae964802ef69fb" FOREIGN KEY ("employeeId") REFERENCES "hr_employees"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "hr_employees" ADD CONSTRAINT "FK_dd99005bfc2a9957e69510bc539" FOREIGN KEY ("departmentId") REFERENCES "hr_departments"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "hr_employees" ADD CONSTRAINT "FK_cbe704fc5ed36184e0af966c0fe" FOREIGN KEY ("designationId") REFERENCES "hr_designations"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "hr_salary_slips" ADD CONSTRAINT "FK_92934c2e10ff0d40ad72e7b46ae" FOREIGN KEY ("payrollId") REFERENCES "hr_payrolls"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "hr_salary_slips" ADD CONSTRAINT "FK_7e139845055009ed7be3da612f9" FOREIGN KEY ("employeeId") REFERENCES "hr_employees"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "hr_performance_reviews" ADD CONSTRAINT "FK_a92757dfabf486c95937ef56611" FOREIGN KEY ("employeeId") REFERENCES "hr_employees"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "hr_leave_applications" ADD CONSTRAINT "FK_de2e3bc746c0b04a620eaec0026" FOREIGN KEY ("employeeId") REFERENCES "hr_employees"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "hr_leave_applications" ADD CONSTRAINT "FK_6db37679762f49a51ad21b297f8" FOREIGN KEY ("leaveTypeId") REFERENCES "hr_leave_types"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "financial_periods" ADD CONSTRAINT "FK_f9b2aa6285f1c32c0518c53ca69" FOREIGN KEY ("financialYearId") REFERENCES "financial_years"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "journal_entries" ADD CONSTRAINT "FK_38fde500a97555ce0902d351795" FOREIGN KEY ("periodId") REFERENCES "financial_periods"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "journal_entry_lines" ADD CONSTRAINT "FK_b06b5322d679be6e2559132857d" FOREIGN KEY ("journalEntryId") REFERENCES "journal_entries"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "invoice_lines" ADD CONSTRAINT "FK_9f57f31e620fe759b452feb776e" FOREIGN KEY ("invoiceId") REFERENCES "invoices"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "asset_depreciation" ADD CONSTRAINT "FK_ee924a8810b66e6dcef52a310a7" FOREIGN KEY ("assetId") REFERENCES "fixed_assets"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "asset_maintenance" ADD CONSTRAINT "FK_f1484bb940c7047b7ef7f4fe794" FOREIGN KEY ("assetId") REFERENCES "fixed_assets"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "cost_centers" ADD CONSTRAINT "FK_f10e2338f1f240e96398df8626c" FOREIGN KEY ("parentCostCenterId") REFERENCES "cost_centers"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "chart_of_accounts" ADD CONSTRAINT "FK_3fc1730c76801339d6e545a2f18" FOREIGN KEY ("parentAccountId") REFERENCES "chart_of_accounts"("id") ON DELETE RESTRICT ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "general_ledger" ADD CONSTRAINT "FK_f39a93a7208f7f640fff8651aa2" FOREIGN KEY ("accountId") REFERENCES "chart_of_accounts"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "general_ledger" ADD CONSTRAINT "FK_a331a009f7f8ced86347f77b2b0" FOREIGN KEY ("periodId") REFERENCES "financial_periods"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "cash_flow_transactions" ADD CONSTRAINT "FK_1cda732df2e1d8d1f59023f42bd" FOREIGN KEY ("periodId") REFERENCES "financial_periods"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "budgets" ADD CONSTRAINT "FK_43e676487e87cce92f679992c62" FOREIGN KEY ("financialYearId") REFERENCES "financial_years"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "budget_lines" ADD CONSTRAINT "FK_e4dd62c3eb6b8bcbd4613f802b6" FOREIGN KEY ("budgetId") REFERENCES "budgets"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "bank_reconciliations" ADD CONSTRAINT "FK_0532ece948e7cd5dafaaea7441a" FOREIGN KEY ("bankAccountId") REFERENCES "bank_accounts"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "bank_statements" ADD CONSTRAINT "FK_81fa800189b5065576964d69d15" FOREIGN KEY ("reconciliationId") REFERENCES "bank_reconciliations"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reconciliation_matches" ADD CONSTRAINT "FK_9773877d16f37b6adc438476879" FOREIGN KEY ("reconciliationId") REFERENCES "bank_reconciliations"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "boq_items" ADD CONSTRAINT "FK_92282c4d3759df593f6fa6a6ba2" FOREIGN KEY ("boqId") REFERENCES "boq"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "categories" ADD CONSTRAINT "FK_ccde635bce518afe7c110858cc4" FOREIGN KEY ("parentCategoryId") REFERENCES "categories"("id") ON DELETE RESTRICT ON UPDATE NO ACTION`);
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "categories" DROP CONSTRAINT "FK_ccde635bce518afe7c110858cc4"`);
        await queryRunner.query(`ALTER TABLE "boq_items" DROP CONSTRAINT "FK_92282c4d3759df593f6fa6a6ba2"`);
        await queryRunner.query(`ALTER TABLE "reconciliation_matches" DROP CONSTRAINT "FK_9773877d16f37b6adc438476879"`);
        await queryRunner.query(`ALTER TABLE "bank_statements" DROP CONSTRAINT "FK_81fa800189b5065576964d69d15"`);
        await queryRunner.query(`ALTER TABLE "bank_reconciliations" DROP CONSTRAINT "FK_0532ece948e7cd5dafaaea7441a"`);
        await queryRunner.query(`ALTER TABLE "budget_lines" DROP CONSTRAINT "FK_e4dd62c3eb6b8bcbd4613f802b6"`);
        await queryRunner.query(`ALTER TABLE "budgets" DROP CONSTRAINT "FK_43e676487e87cce92f679992c62"`);
        await queryRunner.query(`ALTER TABLE "cash_flow_transactions" DROP CONSTRAINT "FK_1cda732df2e1d8d1f59023f42bd"`);
        await queryRunner.query(`ALTER TABLE "general_ledger" DROP CONSTRAINT "FK_a331a009f7f8ced86347f77b2b0"`);
        await queryRunner.query(`ALTER TABLE "general_ledger" DROP CONSTRAINT "FK_f39a93a7208f7f640fff8651aa2"`);
        await queryRunner.query(`ALTER TABLE "chart_of_accounts" DROP CONSTRAINT "FK_3fc1730c76801339d6e545a2f18"`);
        await queryRunner.query(`ALTER TABLE "cost_centers" DROP CONSTRAINT "FK_f10e2338f1f240e96398df8626c"`);
        await queryRunner.query(`ALTER TABLE "asset_maintenance" DROP CONSTRAINT "FK_f1484bb940c7047b7ef7f4fe794"`);
        await queryRunner.query(`ALTER TABLE "asset_depreciation" DROP CONSTRAINT "FK_ee924a8810b66e6dcef52a310a7"`);
        await queryRunner.query(`ALTER TABLE "invoice_lines" DROP CONSTRAINT "FK_9f57f31e620fe759b452feb776e"`);
        await queryRunner.query(`ALTER TABLE "journal_entry_lines" DROP CONSTRAINT "FK_b06b5322d679be6e2559132857d"`);
        await queryRunner.query(`ALTER TABLE "journal_entries" DROP CONSTRAINT "FK_38fde500a97555ce0902d351795"`);
        await queryRunner.query(`ALTER TABLE "financial_periods" DROP CONSTRAINT "FK_f9b2aa6285f1c32c0518c53ca69"`);
        await queryRunner.query(`ALTER TABLE "hr_leave_applications" DROP CONSTRAINT "FK_6db37679762f49a51ad21b297f8"`);
        await queryRunner.query(`ALTER TABLE "hr_leave_applications" DROP CONSTRAINT "FK_de2e3bc746c0b04a620eaec0026"`);
        await queryRunner.query(`ALTER TABLE "hr_performance_reviews" DROP CONSTRAINT "FK_a92757dfabf486c95937ef56611"`);
        await queryRunner.query(`ALTER TABLE "hr_salary_slips" DROP CONSTRAINT "FK_7e139845055009ed7be3da612f9"`);
        await queryRunner.query(`ALTER TABLE "hr_salary_slips" DROP CONSTRAINT "FK_92934c2e10ff0d40ad72e7b46ae"`);
        await queryRunner.query(`ALTER TABLE "hr_employees" DROP CONSTRAINT "FK_cbe704fc5ed36184e0af966c0fe"`);
        await queryRunner.query(`ALTER TABLE "hr_employees" DROP CONSTRAINT "FK_dd99005bfc2a9957e69510bc539"`);
        await queryRunner.query(`ALTER TABLE "hr_attendance" DROP CONSTRAINT "FK_40e91917c3482ae964802ef69fb"`);
        await queryRunner.query(`ALTER TABLE "hr_leave_balances" DROP CONSTRAINT "FK_67211e3b4ff7f7f370dcd70aafc"`);
        await queryRunner.query(`ALTER TABLE "hr_leave_balances" DROP CONSTRAINT "FK_943ff85c0a2eeba2f61dea046ee"`);
        await queryRunner.query(`ALTER TABLE "stock_adjustment_lines" DROP CONSTRAINT "FK_381bc8fd0dfc7737815b4ae9d56"`);
        await queryRunner.query(`ALTER TABLE "stock_entry_lines" DROP CONSTRAINT "FK_10f5b7c5a1bf96013163eeb573a"`);
        await queryRunner.query(`ALTER TABLE "stock_transfer_lines" DROP CONSTRAINT "FK_e117b567ea18889b36c91250c48"`);
        await queryRunner.query(`ALTER TABLE "stock_locations" DROP CONSTRAINT "FK_5517a47c51fd011d858172c486d"`);
        await queryRunner.query(`ALTER TABLE "it_user_roles" DROP CONSTRAINT "FK_b4923818a0d4388f1e8b02e9669"`);
        await queryRunner.query(`ALTER TABLE "it_user_roles" DROP CONSTRAINT "FK_2f9e2fdfd4bf79afece143923c0"`);
        await queryRunner.query(`ALTER TABLE "it_role_permissions" DROP CONSTRAINT "FK_673109da4832b566ad010becf18"`);
        await queryRunner.query(`ALTER TABLE "it_role_permissions" DROP CONSTRAINT "FK_45d66095756b1ae78c474a4154b"`);
        await queryRunner.query(`ALTER TABLE "it_roles" DROP CONSTRAINT "FK_477837840d6b560c91441686c9f"`);
        await queryRunner.query(`ALTER TABLE "it_notifications" DROP CONSTRAINT "FK_b26ffc7b5c214d27d6f45f4ff68"`);
        await queryRunner.query(`ALTER TABLE "it_audit_logs" DROP CONSTRAINT "FK_4d479c8e82bd74fc3410d4c0ab1"`);
        await queryRunner.query(`ALTER TABLE "it_password_history" DROP CONSTRAINT "FK_a99a4e2dbd624e8b93819d7e676"`);
        await queryRunner.query(`ALTER TABLE "it_user_sessions" DROP CONSTRAINT "FK_247c3f81da4d1157c597c199bc1"`);
        await queryRunner.query(`ALTER TABLE "logistics_trips" DROP CONSTRAINT "FK_743b281aefa92227e1b36f1c587"`);
        await queryRunner.query(`ALTER TABLE "logistics_trips" DROP CONSTRAINT "FK_7b505c5e14fdad143596ee26904"`);
        await queryRunner.query(`ALTER TABLE "logistics_trips" DROP CONSTRAINT "FK_61b23911e303b140ec91ffb939f"`);
        await queryRunner.query(`ALTER TABLE "logistics_shipments" DROP CONSTRAINT "FK_5b3a5d8bbc2c64a865276389b9d"`);
        await queryRunner.query(`ALTER TABLE "logistics_freight_charges" DROP CONSTRAINT "FK_b40b5fac644b393b41d81e36f5c"`);
        await queryRunner.query(`ALTER TABLE "logistics_tracking_events" DROP CONSTRAINT "FK_82ba955313d56233313b65bb1ba"`);
        await queryRunner.query(`ALTER TABLE "logistics_tracking_events" DROP CONSTRAINT "FK_71d571806eee05fb0b3f1e6fc40"`);
        await queryRunner.query(`ALTER TABLE "logistics_delivery_notes" DROP CONSTRAINT "FK_e18ef2e1ed03fc4a04ceee420af"`);
        await queryRunner.query(`ALTER TABLE "logistics_shipment_items" DROP CONSTRAINT "FK_6f551265c18ef9c4fa1bc8756eb"`);
        await queryRunner.query(`ALTER TABLE "goods_receipt_items" DROP CONSTRAINT "FK_d1c1d80926f6e0eedd7b1473635"`);
        await queryRunner.query(`ALTER TABLE "purchase_order_items" DROP CONSTRAINT "FK_1de7eb246940b05765d2c99a7ec"`);
        await queryRunner.query(`ALTER TABLE "bom_items" DROP CONSTRAINT "FK_43b33894ec24ad195df83376d5f"`);
        await queryRunner.query(`ALTER TABLE "work_order_items" DROP CONSTRAINT "FK_da779a5be53e2f7e508960d8e67"`);
        await queryRunner.query(`ALTER TABLE "audit_findings" DROP CONSTRAINT "FK_a9b116ab594d2e68b4881f175ca"`);
        await queryRunner.query(`ALTER TABLE "inspection_results" DROP CONSTRAINT "FK_2b06bb1bb0ba3d475eb0a2c0eca"`);
        await queryRunner.query(`ALTER TABLE "qc_parameters" DROP CONSTRAINT "FK_621e21d47942dc1a10662c621b0"`);
        await queryRunner.query(`ALTER TABLE "defects" DROP CONSTRAINT "FK_36ee62a94adac3040703141409f"`);
        await queryRunner.query(`ALTER TABLE "quality_gate_items" DROP CONSTRAINT "FK_fd858fd7efe20b1a6b47486f9d5"`);
        await queryRunner.query(`ALTER TABLE "approval_steps" DROP CONSTRAINT "FK_aee264061d88bd1a0e7acba07b4"`);
        await queryRunner.query(`ALTER TABLE "workflow_steps" DROP CONSTRAINT "FK_14cbb28fedf1c90cb0a1ed13804"`);
        await queryRunner.query(`ALTER TABLE "workflow_instances" DROP CONSTRAINT "FK_a5ec5eb7e568ede26788b213381"`);
        await queryRunner.query(`ALTER TABLE "workflow_history" DROP CONSTRAINT "FK_758027d424d0a3a9098ff41a172"`);
        await queryRunner.query(`DROP TABLE "feedback_analytics"`);
        await queryRunner.query(`DROP TABLE "complaint"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."complaint_complaintchannel_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."complaint_severity_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."complaint_status_enum"`);
        await queryRunner.query(`DROP TABLE "customer_feedback"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."customer_feedback_sentiment_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."customer_feedback_feedbackchannel_enum"`);
        await queryRunner.query(`DROP TABLE "categories"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."categories_categorytype_enum"`);
        await queryRunner.query(`DROP TABLE "customers"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."customers_creditrating_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."customers_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."customers_customertype_enum"`);
        await queryRunner.query(`DROP TABLE "items"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."items_valuationmethod_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."items_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."items_itemtype_enum"`);
        await queryRunner.query(`DROP TABLE "unit_of_measures"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."unit_of_measures_uomtype_enum"`);
        await queryRunner.query(`DROP TABLE "vendors"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."vendors_overallrating_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."vendors_pricerating_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."vendors_deliveryrating_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."vendors_qualityrating_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."vendors_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."vendors_vendortype_enum"`);
        await queryRunner.query(`DROP TABLE "crm_leads"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."crm_leads_rating_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."crm_leads_status_enum"`);
        await queryRunner.query(`DROP TABLE "boq_items"`);
        await queryRunner.query(`DROP TABLE "boq"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."boq_status_enum"`);
        await queryRunner.query(`DROP TABLE "reconciliation_matches"`);
        await queryRunner.query(`DROP TABLE "bank_statements"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."bank_statements_status_enum"`);
        await queryRunner.query(`DROP TABLE "bank_reconciliations"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."bank_reconciliations_status_enum"`);
        await queryRunner.query(`DROP TABLE "bank_accounts"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."bank_accounts_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."bank_accounts_accounttype_enum"`);
        await queryRunner.query(`DROP TABLE "budget_lines"`);
        await queryRunner.query(`DROP TABLE "budgets"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."budgets_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."budgets_budgettype_enum"`);
        await queryRunner.query(`DROP TABLE "anticipated_payments"`);
        await queryRunner.query(`DROP TABLE "anticipated_receipts"`);
        await queryRunner.query(`DROP TABLE "cash_flow_transactions"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."cash_flow_transactions_source_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."cash_flow_transactions_flowtype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."cash_flow_transactions_category_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_8126fc9cac9eff5fca1f4a4909"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_9ed33e5bb68a1173df12de8f21"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_5d00c009b0096d5d0b02090290"`);
        await queryRunner.query(`DROP TABLE "general_ledger"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."general_ledger_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."general_ledger_transactiontype_enum"`);
        await queryRunner.query(`DROP TABLE "chart_of_accounts"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."chart_of_accounts_normalbalance_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."chart_of_accounts_accountsubtype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."chart_of_accounts_accounttype_enum"`);
        await queryRunner.query(`DROP TABLE "wip_accounting"`);
        await queryRunner.query(`DROP TABLE "variance_analysis"`);
        await queryRunner.query(`DROP TABLE "standard_costs"`);
        await queryRunner.query(`DROP TABLE "cost_centers"`);
        await queryRunner.query(`DROP TABLE "asset_maintenance"`);
        await queryRunner.query(`DROP TABLE "asset_depreciation"`);
        await queryRunner.query(`DROP TABLE "fixed_assets"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."fixed_assets_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."fixed_assets_depreciationmethod_enum"`);
        await queryRunner.query(`DROP TABLE "invoice_lines"`);
        await queryRunner.query(`DROP TABLE "invoices"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."invoices_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."invoices_invoicetype_enum"`);
        await queryRunner.query(`DROP TABLE "payments"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."payments_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."payments_paymentmethod_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."payments_paymenttype_enum"`);
        await queryRunner.query(`DROP TABLE "journal_entry_lines"`);
        await queryRunner.query(`DROP TABLE "journal_entries"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."journal_entries_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."journal_entries_journaltype_enum"`);
        await queryRunner.query(`DROP TABLE "financial_periods"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."financial_periods_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."financial_periods_periodtype_enum"`);
        await queryRunner.query(`DROP TABLE "financial_years"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."financial_years_status_enum"`);
        await queryRunner.query(`DROP TABLE "gstr_periods"`);
        await queryRunner.query(`DROP TABLE "tds_transactions"`);
        await queryRunner.query(`DROP TABLE "gst_transactions"`);
        await queryRunner.query(`DROP TABLE "tax_masters"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."tax_masters_taxcategory_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."tax_masters_taxtype_enum"`);
        await queryRunner.query(`DROP TABLE "hr_holidays"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_holidays_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_holidays_type_enum"`);
        await queryRunner.query(`DROP TABLE "hr_leave_applications"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_leave_applications_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_leave_applications_todateperiod_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_leave_applications_fromdateperiod_enum"`);
        await queryRunner.query(`DROP TABLE "hr_performance_reviews"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_performance_reviews_overallrating_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_performance_reviews_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_performance_reviews_cycle_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_performance_reviews_reviewtype_enum"`);
        await queryRunner.query(`DROP TABLE "hr_salary_slips"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_salary_slips_status_enum"`);
        await queryRunner.query(`DROP TABLE "hr_employees"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_employees_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_employees_employmenttype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_employees_bloodgroup_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_employees_maritalstatus_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_employees_gender_enum"`);
        await queryRunner.query(`DROP TABLE "hr_attendance"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_attendance_type_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_attendance_status_enum"`);
        await queryRunner.query(`DROP TABLE "hr_leave_balances"`);
        await queryRunner.query(`DROP TABLE "hr_leave_types"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_leave_types_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_leave_types_accrualtype_enum"`);
        await queryRunner.query(`DROP TABLE "hr_designations"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_designations_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_designations_level_enum"`);
        await queryRunner.query(`DROP TABLE "hr_departments"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_departments_status_enum"`);
        await queryRunner.query(`DROP TABLE "hr_payrolls"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_payrolls_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_payrolls_period_enum"`);
        await queryRunner.query(`DROP TABLE "hr_salary_structures"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_salary_structures_status_enum"`);
        await queryRunner.query(`DROP TABLE "hr_shifts"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_shifts_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."hr_shifts_type_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_64ce8f96f19a21c34d80fa8302"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_98e49434b326c9f702ecfc83fc"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_6d7d2544ef75ee27e117680ebc"`);
        await queryRunner.query(`DROP TABLE "batch_numbers"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."batch_numbers_status_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_fd3bd152ec83402e91136ce2ca"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_50691a1d6adb25b1c8842ec91e"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_8d91a23a7704e94fbebf4778de"`);
        await queryRunner.query(`DROP TABLE "serial_numbers"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."serial_numbers_status_enum"`);
        await queryRunner.query(`DROP TABLE "stock_adjustment_lines"`);
        await queryRunner.query(`DROP TABLE "stock_adjustments"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."stock_adjustments_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."stock_adjustments_adjustmenttype_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_7cf1dcc1894701a47738ebed56"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_1ef757d5cbf9b04d8040ef5105"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_be23e2b21e182134877febe002"`);
        await queryRunner.query(`DROP TABLE "stock_balances"`);
        await queryRunner.query(`DROP TABLE "stock_entry_lines"`);
        await queryRunner.query(`DROP TABLE "stock_entries"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."stock_entries_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."stock_entries_movementdirection_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."stock_entries_entrytype_enum"`);
        await queryRunner.query(`DROP TABLE "stock_transfer_lines"`);
        await queryRunner.query(`DROP TABLE "stock_transfers"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."stock_transfers_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."stock_transfers_transfertype_enum"`);
        await queryRunner.query(`DROP TABLE "warehouses"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."warehouses_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."warehouses_warehousetype_enum"`);
        await queryRunner.query(`DROP TABLE "stock_locations"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."stock_locations_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."stock_locations_locationtype_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_df7f0734af2a26c301c62ddb41"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_f2a3dabc767e89ad09106d4835"`);
        await queryRunner.query(`DROP TABLE "it_notification_preferences"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_notification_preferences_frequency_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_notification_preferences_enabledchannels_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_cbb75d31b6f78fc251d3fde356"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_6dfff2e8c9f7a5071cae0bee50"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_848589487fc44442b168d8c64f"`);
        await queryRunner.query(`DROP TABLE "it_system_configs"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_system_configs_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_system_configs_datatype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_system_configs_category_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_13a73fb73d87b5b5d9350ff628"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_31cc5257817ad52390075b2b1c"`);
        await queryRunner.query(`DROP TABLE "it_user_roles"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_user_roles_status_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_8eebedac5a14cfce74b2f8289e"`);
        await queryRunner.query(`DROP TABLE "it_role_permissions"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_5484903371ae79a5dd9aed83ca"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_7edb88373aedabf1e87217d6eb"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_d23ac67fd35d29b8f5eb540367"`);
        await queryRunner.query(`DROP TABLE "it_permissions"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_permissions_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_permissions_permissiontype_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_2fd9dfb6f17c2e6febeef212e7"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_e38d94eb6b4e86794c2212d2ea"`);
        await queryRunner.query(`DROP TABLE "it_roles"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_roles_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_roles_roletype_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_b26ffc7b5c214d27d6f45f4ff6"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_b8890c83a9617a0d391e9f84d5"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_abdb792f3942384b5acbbb205b"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_a5f4932d609e61cd936c39ae49"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_94e41c72f3ad317a7afba23727"`);
        await queryRunner.query(`DROP TABLE "it_notifications"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_notifications_channels_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_notifications_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_notifications_priority_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_notifications_type_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_4d479c8e82bd74fc3410d4c0ab"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_df18a757815be3772b2c2098e1"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_4a19c378d187294752c5d8c08f"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_641b2823d8f52b5a16e031cf2c"`);
        await queryRunner.query(`DROP TABLE "it_audit_logs"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_audit_logs_severity_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_audit_logs_action_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_a99a4e2dbd624e8b93819d7e67"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_25ba195e9883da8341f4ef8e23"`);
        await queryRunner.query(`DROP TABLE "it_password_history"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_password_history_changereason_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_247c3f81da4d1157c597c199bc"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_6d81fc8f68bb4ab2a5526768fa"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_41b518d43965f3ec6921259f94"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_03d3b06843683fdd3494199035"`);
        await queryRunner.query(`DROP TABLE "it_user_sessions"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_user_sessions_status_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_50b1b571a7b99e1e6433ce02ce"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_922e27fb346497c98920042a84"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_93e5a208c32d3bb202cfc17f95"`);
        await queryRunner.query(`DROP TABLE "it_users"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_users_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."it_users_usertype_enum"`);
        await queryRunner.query(`DROP TABLE "logistics_transport_companies"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_transport_companies_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_transport_companies_companytype_enum"`);
        await queryRunner.query(`DROP TABLE "logistics_vehicles"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_vehicles_fueltype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_vehicles_ownershiptype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_vehicles_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_vehicles_vehicletype_enum"`);
        await queryRunner.query(`DROP TABLE "logistics_trips"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_trips_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_trips_triptype_enum"`);
        await queryRunner.query(`DROP TABLE "logistics_shipments"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_shipments_shipmentmode_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_shipments_priority_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_shipments_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_shipments_shipmenttype_enum"`);
        await queryRunner.query(`DROP TABLE "logistics_freight_charges"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_freight_charges_taxtype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_freight_charges_calculationmethod_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_freight_charges_chargetype_enum"`);
        await queryRunner.query(`DROP TABLE "logistics_tracking_events"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_tracking_events_severity_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_tracking_events_eventtype_enum"`);
        await queryRunner.query(`DROP TABLE "logistics_delivery_notes"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_delivery_notes_status_enum"`);
        await queryRunner.query(`DROP TABLE "logistics_shipment_items"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_shipment_items_status_enum"`);
        await queryRunner.query(`DROP TABLE "logistics_routes"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_routes_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_routes_routetype_enum"`);
        await queryRunner.query(`DROP TABLE "logistics_drivers"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_drivers_licensetype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."logistics_drivers_status_enum"`);
        await queryRunner.query(`DROP TABLE "goods_receipts"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."goods_receipts_grntype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."goods_receipts_status_enum"`);
        await queryRunner.query(`DROP TABLE "goods_receipt_items"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."goods_receipt_items_status_enum"`);
        await queryRunner.query(`DROP TABLE "purchase_invoices"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."purchase_invoices_matchingstatus_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."purchase_invoices_invoicetype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."purchase_invoices_status_enum"`);
        await queryRunner.query(`DROP TABLE "purchase_requisitions"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."purchase_requisitions_prtype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."purchase_requisitions_priority_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."purchase_requisitions_status_enum"`);
        await queryRunner.query(`DROP TABLE "purchase_orders"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."purchase_orders_paymentterms_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."purchase_orders_deliveryterms_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."purchase_orders_potype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."purchase_orders_status_enum"`);
        await queryRunner.query(`DROP TABLE "purchase_order_items"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."purchase_order_items_status_enum"`);
        await queryRunner.query(`DROP TABLE "purchase_returns"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."purchase_returns_returnreason_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."purchase_returns_status_enum"`);
        await queryRunner.query(`DROP TABLE "rfqs"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."rfqs_rfqtype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."rfqs_status_enum"`);
        await queryRunner.query(`DROP TABLE "vendor_evaluations"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."vendor_evaluations_performancegrade_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."vendor_evaluations_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."vendor_evaluations_evaluationperiod_enum"`);
        await queryRunner.query(`DROP TABLE "vendor_quotations"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."vendor_quotations_status_enum"`);
        await queryRunner.query(`DROP TABLE "boms"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."boms_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."boms_bomtype_enum"`);
        await queryRunner.query(`DROP TABLE "bom_items"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."bom_items_supplytype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."bom_items_itemtype_enum"`);
        await queryRunner.query(`DROP TABLE "operations"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."operations_timecalculationmethod_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."operations_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."operations_operationtype_enum"`);
        await queryRunner.query(`DROP TABLE "production_plans"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."production_plans_planningmethod_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."production_plans_status_enum"`);
        await queryRunner.query(`DROP TABLE "production_entries"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."production_entries_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."production_entries_entrytype_enum"`);
        await queryRunner.query(`DROP TABLE "routings"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."routings_status_enum"`);
        await queryRunner.query(`DROP TABLE "shop_floor_control"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."shop_floor_control_downtimecategory_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."shop_floor_control_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."shop_floor_control_activitytype_enum"`);
        await queryRunner.query(`DROP TABLE "work_centers"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."work_centers_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."work_centers_workcentertype_enum"`);
        await queryRunner.query(`DROP TABLE "work_orders"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."work_orders_priority_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."work_orders_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."work_orders_workordertype_enum"`);
        await queryRunner.query(`DROP TABLE "work_order_items"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."work_order_items_itemtype_enum"`);
        await queryRunner.query(`DROP TABLE "projects"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."projects_priority_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."projects_status_enum"`);
        await queryRunner.query(`DROP TABLE "audit_plans"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."audit_plans_priority_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."audit_plans_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."audit_plans_audittype_enum"`);
        await queryRunner.query(`DROP TABLE "audit_findings"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."audit_findings_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."audit_findings_severity_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."audit_findings_findingtype_enum"`);
        await queryRunner.query(`DROP TABLE "capas"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."capas_capatype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."capas_priority_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."capas_status_enum"`);
        await queryRunner.query(`DROP TABLE "corrective_actions"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."corrective_actions_priority_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."corrective_actions_status_enum"`);
        await queryRunner.query(`DROP TABLE "preventive_actions"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."preventive_actions_actiontype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."preventive_actions_priority_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."preventive_actions_status_enum"`);
        await queryRunner.query(`DROP TABLE "non_conformances"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."non_conformances_priority_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."non_conformances_severity_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."non_conformances_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."non_conformances_ncrtype_enum"`);
        await queryRunner.query(`DROP TABLE "inspections"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."inspections_priority_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."inspections_result_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."inspections_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."inspections_inspectiontype_enum"`);
        await queryRunner.query(`DROP TABLE "inspection_results"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."inspection_results_status_enum"`);
        await queryRunner.query(`DROP TABLE "qc_templates"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."qc_templates_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."qc_templates_templatetype_enum"`);
        await queryRunner.query(`DROP TABLE "qc_parameters"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."qc_parameters_criticality_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."qc_parameters_datatype_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."qc_parameters_parametertype_enum"`);
        await queryRunner.query(`DROP TABLE "quality_alerts"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."quality_alerts_status_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."quality_alerts_severity_enum"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."quality_alerts_alerttype_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_c1e2051fba9bdbb70641cd90ea"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_8fa8bdf8fe6f238561dc104147"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_5425fae2e9308580128931952f"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_b685d112244ff54c4e298346a1"`);
        await queryRunner.query(`DROP TABLE "order_tracking"`);
        await queryRunner.query(`DROP TYPE "kreupai_fbpa_dev"."order_tracking_status_enum"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_a5a21e7f394da3e2ee56260a23"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_8086d244338ede3c4d7c6454ab"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_a5a21e7f394da3e2ee56260a23"`);
        await queryRunner.query(`DROP TABLE "phase_transitions"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_1da78973f46af73b10f566f772"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_1da78973f46af73b10f566f772"`);
        await queryRunner.query(`DROP TABLE "project_phases"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_7041332405778f60633efce08f"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_7d23a8c50535d1d1ba1bd5e13d"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_7d23a8c50535d1d1ba1bd5e13d"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_1d79ecc884ac8ee1f1b28325a7"`);
        await queryRunner.query(`DROP TABLE "quality_gates"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_3b9dd88f9ff310d44c0609a561"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_21125c1387edfbd4a0129a5ffd"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_8e09ce27c76aa35daa0e43e71d"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_c1edd33a7e3e9efd135cb96b01"`);
        await queryRunner.query(`DROP TABLE "defects"`);
        await queryRunner.query(`DROP TABLE "quality_gate_items"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_1473f4a26cf86720ea7004d19a"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_d0c4483784cb4432e9eb5422bd"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_11854d93f8d76ed1f145acbaad"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_4464605dbbd781037cf92d633c"`);
        await queryRunner.query(`DROP TABLE "workflow_approvals"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_18bec821e6a6dbc389aca6be8f"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_aee264061d88bd1a0e7acba07b"`);
        await queryRunner.query(`DROP TABLE "approval_steps"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_557035d737bc341bb70962f04b"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_0c7ddb2dbee9d54ae5bd909214"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_2284e5219009512b903009b5eb"`);
        await queryRunner.query(`DROP TABLE "workflow_documents"`);
        await queryRunner.query(`DROP TABLE "workflow_steps"`);
        await queryRunner.query(`DROP TABLE "workflow_instances"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_2cb11ea3c93bc6edabc5e5c411"`);
        await queryRunner.query(`DROP INDEX "kreupai_fbpa_dev"."IDX_75a45d641fb6f4ff45fab47c64"`);
        await queryRunner.query(`DROP TABLE "workflow_history"`);
        await queryRunner.query(`DROP TABLE "workflow_definitions"`);
    }

}
